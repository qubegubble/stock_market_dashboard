import{a as w}from"./chunk-2SRDSA6M.js";import{a as S,b as y,c as k,d as E,e as N,f as R,g as I,h as V}from"./chunk-W7RF5U7J.js";import{e as v,f as h}from"./chunk-UX74SWCT.js";import{Da as c,Ea as _,Na as M,Sa as d,_b as O,bb as m,bc as b,da as l,db as n,ea as g,eb as t,fb as u,ib as C,jb as p,kb as f,pb as x,qb as r,rb as P}from"./chunk-DUJMT7CF.js";function F(s,o){s&1&&(n(0,"div",16),r(1," Name is required. "),t())}function T(s,o){s&1&&(n(0,"div",16),r(1," First Name is required. "),t())}function A(s,o){s&1&&(n(0,"div",16),r(1," Email is required. "),t())}function D(s,o){s&1&&(n(0,"div",16),r(1," Password is required. "),t())}function j(s,o){if(s&1){let i=C();n(0,"div",17),p("click",function(){l(i);let e=f();return g(e.dismissError())}),n(1,"div",18),p("click",function(e){return l(i),g(e.stopPropagation())}),n(2,"div",19)(3,"h3"),r(4,"Registration Failed"),t(),n(5,"button",20),p("click",function(){l(i);let e=f();return g(e.dismissError())}),r(6,"\xD7"),t()(),n(7,"div",21)(8,"p"),r(9),t()(),n(10,"div",22)(11,"button",23),p("click",function(){l(i);let e=f();return g(e.dismissError())}),r(12,"Close"),t()()()()}if(s&2){let i=f();c(9),P(i.errorMessage)}}var q=class s{constructor(o,i){this.authService=o;this.router=i}errorMessage="";registrationSuccess=!1;onSubmit(o){if(o.invalid)return;this.errorMessage="",this.registrationSuccess=!1;let i={name:o.value.name,firstName:o.value.firstName,email:o.value.email,password:o.value.password};this.authService.registerUser(i).subscribe({next:a=>{console.log("User registered successfully!",a),this.registrationSuccess=!0,this.registrationSuccess&&this.router.navigate(["/dashboard"]).then(e=>console.log("Navigated to login component")),o.reset()},error:a=>{console.error("Error registering user",a),a.error&&a.error.error?this.errorMessage=a.error.error:this.errorMessage="An unknown error occurred"}})}dismissError(){this.errorMessage=""}static \u0275fac=function(i){return new(i||s)(_(w),_(v))};static \u0275cmp=M({type:s,selectors:[["app-register"]],decls:32,vars:5,consts:[["registerForm","ngForm"],[1,"register-container"],[3,"ngSubmit"],[1,"form-group"],["for","name"],["id","name","type","text","name","name","ngModel","","required",""],["class","error-message",4,"ngIf"],["for","firstName"],["id","firstName","type","text","name","firstName","ngModel","","required",""],["for","email"],["id","email","type","email","name","email","ngModel","","required",""],["for","password"],["id","password","type","password","name","password","ngModel","","required",""],["type","submit"],["routerLink","/login"],["class","error-popup-overlay",3,"click",4,"ngIf"],[1,"error-message"],[1,"error-popup-overlay",3,"click"],[1,"error-popup",3,"click"],[1,"error-header"],[1,"close-btn",3,"click"],[1,"error-content"],[1,"error-actions"],[3,"click"]],template:function(i,a){if(i&1){let e=C();n(0,"div",1)(1,"h2"),r(2,"Register your account here"),t(),n(3,"form",2,0),p("ngSubmit",function(){l(e);let z=x(4);return g(a.onSubmit(z))}),n(5,"div",3)(6,"label",4),r(7,"Name:"),t(),u(8,"input",5),d(9,F,2,0,"div",6),t(),n(10,"div",3)(11,"label",7),r(12,"First Name:"),t(),u(13,"input",8),d(14,T,2,0,"div",6),t(),n(15,"div",3)(16,"label",9),r(17,"Email:"),t(),u(18,"input",10),d(19,A,2,0,"div",6),t(),n(20,"div",3)(21,"label",11),r(22,"Password:"),t(),u(23,"input",12),d(24,D,2,0,"div",6),t(),n(25,"button",13),r(26,"Register"),t()(),n(27,"p"),r(28,"Already have an account? "),n(29,"a",14),r(30,"Login here"),t()(),d(31,j,13,1,"div",15),t()}if(i&2){let e=x(4);c(9),m("ngIf",e.submitted&&(e.controls.name==null||e.controls.name.errors==null?null:e.controls.name.errors.required)),c(5),m("ngIf",e.submitted&&(e.controls.firstName==null||e.controls.firstName.errors==null?null:e.controls.firstName.errors.required)),c(5),m("ngIf",e.submitted&&(e.controls.email==null||e.controls.email.errors==null?null:e.controls.email.errors.required)),c(5),m("ngIf",e.submitted&&(e.controls.password==null||e.controls.password.errors==null?null:e.controls.password.errors.required)),c(7),m("ngIf",a.errorMessage)}},dependencies:[V,R,S,y,k,I,N,E,b,O,h],styles:[".register-container[_ngcontent-%COMP%]{max-width:500px;margin:50px auto;padding:30px;background-color:#fff;border-radius:8px;box-shadow:0 4px 12px #00000014}.register-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;font-weight:700;font-size:1.8rem;margin-bottom:25px;text-align:center}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#333;font-weight:500;font-size:.95rem}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:12px 15px;border-radius:4px;border:1px solid #ced4da;font-size:1rem;transition:border-color .3s}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff;box-shadow:0 0 0 2px #007bff40}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .password-requirements[_ngcontent-%COMP%]{font-size:.85rem;color:#6c757d;margin-top:-10px}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.9rem;padding:5px 0}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px;padding:12px;background-color:#007bff;color:#fff;border:none;border-radius:4px;font-size:1rem;font-weight:600;cursor:pointer;transition:background-color .3s}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0069d9}.register-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#66b0ff;cursor:not-allowed}.register-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:25px;text-align:center;font-size:.95rem;color:#6c757d}.register-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;font-weight:500}.register-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}@media (max-width: 576px){.register-container[_ngcontent-%COMP%]{max-width:100%;margin:20px 15px;padding:20px}.register-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5rem;margin-bottom:20px}}.error-popup[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;width:100%;max-width:450px;box-shadow:0 5px 15px #0003;animation:_ngcontent-%COMP%_slideIn .3s ease-out;overflow:hidden}.error-popup[_ngcontent-%COMP%]   .error-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;background-color:#dc3545;padding:15px 20px;color:#fff}.error-popup[_ngcontent-%COMP%]   .error-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;font-weight:600}.error-popup[_ngcontent-%COMP%]   .error-header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;line-height:1}.error-popup[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]{padding:20px}.error-popup[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#333;font-size:1rem;line-height:1.5}.error-popup[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]{padding:15px 20px;display:flex;justify-content:flex-end;border-top:1px solid #eee}.error-popup[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;background-color:#007bff;color:#fff;border:none;border-radius:4px;font-size:.9rem;font-weight:500;cursor:pointer;transition:background-color .3s}.error-popup[_ngcontent-%COMP%]   .error-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0069d9}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translateY(-30px);opacity:0}to{transform:translateY(0);opacity:1}}"]})};export{q as a};
