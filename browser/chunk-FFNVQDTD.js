import{a as Ds,b as Es,e as Ts,h as Is}from"./chunk-X2MCTWXM.js";import{$ as g,A as Gn,Ab as ds,B as Jo,Ba as cs,Bb as fs,C as pi,Cb as Me,Ea as Jn,F as ts,Fb as xi,Gb as ps,H as Zn,Hb as ms,Ia as Y,Ja as tr,Jb as bi,Lb as rr,Ma as Gt,N as es,O as De,Oa as _i,Ob as Ft,P as mi,Pb as gs,Q as Ot,R as ns,Sa as Te,Sb as _s,Ta as mt,Ua as Zt,V as L,W as ft,Wa as Ie,Xa as er,Xb as bt,Y as pt,_ as rs,cc as ys,d as Yu,da as is,dc as vs,e as jt,eb as ls,ec as xs,fa as Xn,fb as yi,fc as bs,g as Kt,ga as tn,gb as Lt,gc as ws,ha as en,hb as nr,hc as Ss,ia as gi,ib as B,j as R,ja as os,jb as V,jc as ks,k as Qe,kb as nn,l as fi,ma as Ee,nb as vi,nc as Cs,o as Go,ob as Xt,pa as X,pb as Re,qa as rt,s as Je,t as Zo,ta as Nt,va as Qn,vb as it,w as Xo,wb as Qt,xa as ss,xb as us,z as Qo,za as as,zb as hs}from"./chunk-SWTW52KX.js";function Jt(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wi(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function te(t){let e,n,r;t.length!==2?(e=Jt,n=(a,c)=>Jt(t(a),c),r=(a,c)=>t(a)-c):(e=t===Jt||t===wi?t:ju,n=t,r=t);function i(a,c,l=0,u=a.length){if(l<u){if(e(c,c)!==0)return u;do{let h=l+u>>>1;n(a[h],c)<0?l=h+1:u=h}while(l<u)}return l}function o(a,c,l=0,u=a.length){if(l<u){if(e(c,c)!==0)return u;do{let h=l+u>>>1;n(a[h],c)<=0?l=h+1:u=h}while(l<u)}return l}function s(a,c,l=0,u=a.length){let h=i(a,c,l,u-1);return h>l&&r(a[h-1],c)>-r(a[h],c)?h-1:h}return{left:i,center:s,right:o}}function ju(){return 0}function Si(t){return t===null?NaN:+t}var Rs=te(Jt),Ms=Rs.right,Ku=Rs.left,Gu=te(Si).center,ki=Ms;function rn(t,e){let n,r;if(e===void 0)for(let i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}var Zu=Math.sqrt(50),Xu=Math.sqrt(10),Qu=Math.sqrt(2);function ir(t,e,n){let r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Zu?10:o>=Xu?5:o>=Qu?2:1,a,c,l;return i<0?(l=Math.pow(10,-i)/s,a=Math.round(t*l),c=Math.round(e*l),a/l<t&&++a,c/l>e&&--c,l=-l):(l=Math.pow(10,i)*s,a=Math.round(t/l),c=Math.round(e/l),a*l<t&&++a,c*l>e&&--c),c<a&&.5<=n&&n<2?ir(t,e,n*2):[a,c,l]}function or(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];let r=e<t,[i,o,s]=r?ir(e,t,n):ir(t,e,n);if(!(o>=i))return[];let a=o-i+1,c=new Array(a);if(r)if(s<0)for(let l=0;l<a;++l)c[l]=(o-l)/-s;else for(let l=0;l<a;++l)c[l]=(o-l)*s;else if(s<0)for(let l=0;l<a;++l)c[l]=(i+l)/-s;else for(let l=0;l<a;++l)c[l]=(i+l)*s;return c}function on(t,e,n){return e=+e,t=+t,n=+n,ir(t,e,n)[2]}function Pe(t,e,n){e=+e,t=+t,n=+n;let r=e<t,i=r?on(e,t,n):on(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function sn(t,e){let n;if(e===void 0)for(let r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function an(t,e){let n;if(e===void 0)for(let r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Ps(t){return t}var Ci=1,Di=2,Ei=3,cn=4,As=1e-6;function Ju(t){return"translate("+t+",0)"}function th(t){return"translate(0,"+t+")"}function eh(t){return e=>+t(e)}function nh(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function rh(){return!this.__axis}function Os(t,e){var n=[],r=null,i=null,o=6,s=6,a=3,c=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=t===Ci||t===cn?-1:1,u=t===cn||t===Di?"x":"y",h=t===Ci||t===Ei?Ju:th;function d(f){var _=r??(e.ticks?e.ticks.apply(e,n):e.domain()),b=i??(e.tickFormat?e.tickFormat.apply(e,n):Ps),x=Math.max(o,0)+a,w=e.range(),P=+w[0]+c,k=+w[w.length-1]+c,I=(e.bandwidth?nh:eh)(e.copy(),c),v=f.selection?f.selection():f,y=v.selectAll(".domain").data([null]),A=v.selectAll(".tick").data(_,e).order(),st=A.exit(),Pt=A.enter().append("g").attr("class","tick"),dt=A.select("line"),S=A.select("text");y=y.merge(y.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),A=A.merge(Pt),dt=dt.merge(Pt.append("line").attr("stroke","currentColor").attr(u+"2",l*o)),S=S.merge(Pt.append("text").attr("fill","currentColor").attr(u,l*x).attr("dy",t===Ci?"0em":t===Ei?"0.71em":"0.32em")),f!==v&&(y=y.transition(f),A=A.transition(f),dt=dt.transition(f),S=S.transition(f),st=st.transition(f).attr("opacity",As).attr("transform",function(H){return isFinite(H=I(H))?h(H+c):this.getAttribute("transform")}),Pt.attr("opacity",As).attr("transform",function(H){var z=this.parentNode.__axis;return h((z&&isFinite(z=z(H))?z:I(H))+c)})),st.remove(),y.attr("d",t===cn||t===Di?s?"M"+l*s+","+P+"H"+c+"V"+k+"H"+l*s:"M"+c+","+P+"V"+k:s?"M"+P+","+l*s+"V"+c+"H"+k+"V"+l*s:"M"+P+","+c+"H"+k),A.attr("opacity",1).attr("transform",function(H){return h(I(H)+c)}),dt.attr(u+"2",l*o),S.attr(u,l*x).text(b),v.filter(rh).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Di?"start":t===cn?"end":"middle"),v.each(function(){this.__axis=I})}return d.scale=function(f){return arguments.length?(e=f,d):e},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(f){return arguments.length?(n=f==null?[]:Array.from(f),d):n.slice()},d.tickValues=function(f){return arguments.length?(r=f==null?null:Array.from(f),d):r&&r.slice()},d.tickFormat=function(f){return arguments.length?(i=f,d):i},d.tickSize=function(f){return arguments.length?(o=s=+f,d):o},d.tickSizeInner=function(f){return arguments.length?(o=+f,d):o},d.tickSizeOuter=function(f){return arguments.length?(s=+f,d):s},d.tickPadding=function(f){return arguments.length?(a=+f,d):a},d.offset=function(f){return arguments.length?(c=+f,d):c},d}function sr(t){return Os(Ei,t)}function ar(t){return Os(cn,t)}var ih={value:()=>{}};function Ls(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new cr(n)}function cr(t){this._=t}function oh(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}cr.prototype=Ls.prototype={constructor:cr,on:function(t,e){var n=this._,r=oh(t+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=sh(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<s;)if(i=(t=r[o]).type)n[i]=Ns(n[i],t.name,e);else if(e==null)for(i in n)n[i]=Ns(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new cr(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function sh(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function Ns(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=ih,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Ti=Ls;var lr="http://www.w3.org/1999/xhtml",Ii={svg:"http://www.w3.org/2000/svg",xhtml:lr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wt(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Ii.hasOwnProperty(e)?{space:Ii[e],local:t}:t}function ah(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===lr&&e.documentElement.namespaceURI===lr?e.createElement(t):e.createElementNS(n,t)}}function ch(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function ur(t){var e=wt(t);return(e.local?ch:ah)(e)}function lh(){}function ee(t){return t==null?lh:function(){return this.querySelector(t)}}function Fs(t){typeof t!="function"&&(t=ee(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=new Array(s),c,l,u=0;u<s;++u)(c=o[u])&&(l=t.call(c,c.__data__,u,o))&&("__data__"in c&&(l.__data__=c.__data__),a[u]=l);return new F(r,this._parents)}function Ri(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function uh(){return[]}function ln(t){return t==null?uh:function(){return this.querySelectorAll(t)}}function hh(t){return function(){return Ri(t.apply(this,arguments))}}function Bs(t){typeof t=="function"?t=hh(t):t=ln(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var s=e[o],a=s.length,c,l=0;l<a;++l)(c=s[l])&&(r.push(t.call(c,c.__data__,l,s)),i.push(c));return new F(r,i)}function un(t){return function(){return this.matches(t)}}function hr(t){return function(e){return e.matches(t)}}var dh=Array.prototype.find;function fh(t){return function(){return dh.call(this.children,t)}}function ph(){return this.firstElementChild}function zs(t){return this.select(t==null?ph:fh(typeof t=="function"?t:hr(t)))}var mh=Array.prototype.filter;function gh(){return Array.from(this.children)}function _h(t){return function(){return mh.call(this.children,t)}}function Vs(t){return this.selectAll(t==null?gh:_h(typeof t=="function"?t:hr(t)))}function Us(t){typeof t!="function"&&(t=un(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],c,l=0;l<s;++l)(c=o[l])&&t.call(c,c.__data__,l,o)&&a.push(c);return new F(r,this._parents)}function dr(t){return new Array(t.length)}function Hs(){return new F(this._enter||this._groups.map(dr),this._parents)}function hn(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}hn.prototype={constructor:hn,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Ws(t){return function(){return t}}function yh(t,e,n,r,i,o){for(var s=0,a,c=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new hn(t,o[s]);for(;s<c;++s)(a=e[s])&&(i[s]=a)}function vh(t,e,n,r,i,o,s){var a,c,l=new Map,u=e.length,h=o.length,d=new Array(u),f;for(a=0;a<u;++a)(c=e[a])&&(d[a]=f=s.call(c,c.__data__,a,e)+"",l.has(f)?i[a]=c:l.set(f,c));for(a=0;a<h;++a)f=s.call(t,o[a],a,o)+"",(c=l.get(f))?(r[a]=c,c.__data__=o[a],l.delete(f)):n[a]=new hn(t,o[a]);for(a=0;a<u;++a)(c=e[a])&&l.get(d[a])===c&&(i[a]=c)}function xh(t){return t.__data__}function $s(t,e){if(!arguments.length)return Array.from(this,xh);var n=e?vh:yh,r=this._parents,i=this._groups;typeof t!="function"&&(t=Ws(t));for(var o=i.length,s=new Array(o),a=new Array(o),c=new Array(o),l=0;l<o;++l){var u=r[l],h=i[l],d=h.length,f=bh(t.call(u,u&&u.__data__,l,r)),_=f.length,b=a[l]=new Array(_),x=s[l]=new Array(_),w=c[l]=new Array(d);n(u,h,b,x,w,f,e);for(var P=0,k=0,I,v;P<_;++P)if(I=b[P]){for(P>=k&&(k=P+1);!(v=x[k])&&++k<_;);I._next=v||null}}return s=new F(s,r),s._enter=a,s._exit=c,s}function bh(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function qs(){return new F(this._exit||this._groups.map(dr),this._parents)}function Ys(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function js(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),c=0;c<s;++c)for(var l=n[c],u=r[c],h=l.length,d=a[c]=new Array(h),f,_=0;_<h;++_)(f=l[_]||u[_])&&(d[_]=f);for(;c<i;++c)a[c]=n[c];return new F(a,this._parents)}function Ks(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Gs(t){t||(t=wh);function e(h,d){return h&&d?t(h.__data__,d.__data__):!h-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,c=i[o]=new Array(a),l,u=0;u<a;++u)(l=s[u])&&(c[u]=l);c.sort(e)}return new F(i,this._parents).order()}function wh(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Zs(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Xs(){return Array.from(this)}function Qs(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function Js(){let t=0;for(let e of this)++t;return t}function ta(){return!this.node()}function ea(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function Sh(t){return function(){this.removeAttribute(t)}}function kh(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ch(t,e){return function(){this.setAttribute(t,e)}}function Dh(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Eh(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Th(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function na(t,e){var n=wt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?kh:Sh:typeof e=="function"?n.local?Th:Eh:n.local?Dh:Ch)(n,e))}function fr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ih(t){return function(){this.style.removeProperty(t)}}function Rh(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Mh(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function ra(t,e,n){return arguments.length>1?this.each((e==null?Ih:typeof e=="function"?Mh:Rh)(t,e,n??"")):Bt(this.node(),t)}function Bt(t,e){return t.style.getPropertyValue(e)||fr(t).getComputedStyle(t,null).getPropertyValue(e)}function Ph(t){return function(){delete this[t]}}function Ah(t,e){return function(){this[t]=e}}function Oh(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function ia(t,e){return arguments.length>1?this.each((e==null?Ph:typeof e=="function"?Oh:Ah)(t,e)):this.node()[t]}function oa(t){return t.trim().split(/^|\s+/)}function Mi(t){return t.classList||new sa(t)}function sa(t){this._node=t,this._names=oa(t.getAttribute("class")||"")}sa.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function aa(t,e){for(var n=Mi(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ca(t,e){for(var n=Mi(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Nh(t){return function(){aa(this,t)}}function Lh(t){return function(){ca(this,t)}}function Fh(t,e){return function(){(e.apply(this,arguments)?aa:ca)(this,t)}}function la(t,e){var n=oa(t+"");if(arguments.length<2){for(var r=Mi(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Fh:e?Nh:Lh)(n,e))}function Bh(){this.textContent=""}function zh(t){return function(){this.textContent=t}}function Vh(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ua(t){return arguments.length?this.each(t==null?Bh:(typeof t=="function"?Vh:zh)(t)):this.node().textContent}function Uh(){this.innerHTML=""}function Hh(t){return function(){this.innerHTML=t}}function Wh(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function ha(t){return arguments.length?this.each(t==null?Uh:(typeof t=="function"?Wh:Hh)(t)):this.node().innerHTML}function $h(){this.nextSibling&&this.parentNode.appendChild(this)}function da(){return this.each($h)}function qh(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function fa(){return this.each(qh)}function pa(t){var e=typeof t=="function"?t:ur(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Yh(){return null}function ma(t,e){var n=typeof t=="function"?t:ur(t),r=e==null?Yh:typeof e=="function"?e:ee(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function jh(){var t=this.parentNode;t&&t.removeChild(this)}function ga(){return this.each(jh)}function Kh(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Gh(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function _a(t){return this.select(t?Gh:Kh)}function ya(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Zh(t){return function(e){t.call(this,e,this.__data__)}}function Xh(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Qh(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function Jh(t,e,n){return function(){var r=this.__on,i,o=Zh(e);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function va(t,e,n){var r=Xh(t+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var c=0,l=a.length,u;c<l;++c)for(i=0,u=a[c];i<o;++i)if((s=r[i]).type===u.type&&s.name===u.name)return u.value}return}for(a=e?Jh:Qh,i=0;i<o;++i)this.each(a(r[i],e,n));return this}function xa(t,e,n){var r=fr(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function td(t,e){return function(){return xa(this,t,e)}}function ed(t,e){return function(){return xa(this,t,e.apply(this,arguments))}}function ba(t,e){return this.each((typeof e=="function"?ed:td)(t,e))}function*wa(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var Pi=[null];function F(t,e){this._groups=t,this._parents=e}function Sa(){return new F([[document.documentElement]],Pi)}function nd(){return this}F.prototype=Sa.prototype={constructor:F,select:Fs,selectAll:Bs,selectChild:zs,selectChildren:Vs,filter:Us,data:$s,enter:Hs,exit:qs,join:Ys,merge:js,selection:nd,order:Ks,sort:Gs,call:Zs,nodes:Xs,node:Qs,size:Js,empty:ta,each:ea,attr:na,style:ra,property:ia,classed:la,text:ua,html:ha,raise:da,lower:fa,append:pa,insert:ma,remove:ga,clone:_a,datum:ya,on:va,dispatch:ba,[Symbol.iterator]:wa};var St=Sa;function ne(t){return typeof t=="string"?new F([[document.querySelector(t)]],[document.documentElement]):new F([[t]],Pi)}function pr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Ai(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function pn(){}var dn=.7,_r=1/dn,Ae="\\s*([+-]?\\d+)\\s*",fn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rd=/^#([0-9a-f]{3,8})$/,id=new RegExp(`^rgb\\(${Ae},${Ae},${Ae}\\)$`),od=new RegExp(`^rgb\\(${gt},${gt},${gt}\\)$`),sd=new RegExp(`^rgba\\(${Ae},${Ae},${Ae},${fn}\\)$`),ad=new RegExp(`^rgba\\(${gt},${gt},${gt},${fn}\\)$`),cd=new RegExp(`^hsl\\(${fn},${gt},${gt}\\)$`),ld=new RegExp(`^hsla\\(${fn},${gt},${gt},${fn}\\)$`),ka={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pr(pn,lt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ca,formatHex:Ca,formatHex8:ud,formatHsl:hd,formatRgb:Da,toString:Da});function Ca(){return this.rgb().formatHex()}function ud(){return this.rgb().formatHex8()}function hd(){return Pa(this).formatHsl()}function Da(){return this.rgb().formatRgb()}function lt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=rd.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ea(e):n===3?new Q(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?mr(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?mr(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=id.exec(t))?new Q(e[1],e[2],e[3],1):(e=od.exec(t))?new Q(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=sd.exec(t))?mr(e[1],e[2],e[3],e[4]):(e=ad.exec(t))?mr(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=cd.exec(t))?Ra(e[1],e[2]/100,e[3]/100,1):(e=ld.exec(t))?Ra(e[1],e[2]/100,e[3]/100,e[4]):ka.hasOwnProperty(t)?Ea(ka[t]):t==="transparent"?new Q(NaN,NaN,NaN,0):null}function Ea(t){return new Q(t>>16&255,t>>8&255,t&255,1)}function mr(t,e,n,r){return r<=0&&(t=e=n=NaN),new Q(t,e,n,r)}function dd(t){return t instanceof pn||(t=lt(t)),t?(t=t.rgb(),new Q(t.r,t.g,t.b,t.opacity)):new Q}function Oe(t,e,n,r){return arguments.length===1?dd(t):new Q(t,e,n,r??1)}function Q(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}pr(Q,Oe,Ai(pn,{brighter(t){return t=t==null?_r:Math.pow(_r,t),new Q(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?dn:Math.pow(dn,t),new Q(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Q(ie(this.r),ie(this.g),ie(this.b),yr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ta,formatHex:Ta,formatHex8:fd,formatRgb:Ia,toString:Ia}));function Ta(){return`#${re(this.r)}${re(this.g)}${re(this.b)}`}function fd(){return`#${re(this.r)}${re(this.g)}${re(this.b)}${re((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ia(){let t=yr(this.opacity);return`${t===1?"rgb(":"rgba("}${ie(this.r)}, ${ie(this.g)}, ${ie(this.b)}${t===1?")":`, ${t})`}`}function yr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ie(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function re(t){return t=ie(t),(t<16?"0":"")+t.toString(16)}function Ra(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ct(t,e,n,r)}function Pa(t){if(t instanceof ct)return new ct(t.h,t.s,t.l,t.opacity);if(t instanceof pn||(t=lt(t)),!t)return new ct;if(t instanceof ct)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,c=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=c<.5?o+i:2-o-i,s*=60):a=c>0&&c<1?0:s,new ct(s,a,c,t.opacity)}function Aa(t,e,n,r){return arguments.length===1?Pa(t):new ct(t,e,n,r??1)}function ct(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}pr(ct,Aa,Ai(pn,{brighter(t){return t=t==null?_r:Math.pow(_r,t),new ct(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?dn:Math.pow(dn,t),new ct(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Q(Oi(t>=240?t-240:t+120,i,r),Oi(t,i,r),Oi(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ct(Ma(this.h),gr(this.s),gr(this.l),yr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let t=yr(this.opacity);return`${t===1?"hsl(":"hsla("}${Ma(this.h)}, ${gr(this.s)*100}%, ${gr(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ma(t){return t=(t||0)%360,t<0?t+360:t}function gr(t){return Math.max(0,Math.min(1,t||0))}function Oi(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}function Ni(t,e,n,r,i){var o=t*t,s=o*t;return((1-3*t+3*o-s)*e+(4-6*o+3*s)*n+(1+3*t+3*o-3*s)*r+s*i)/6}function Oa(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],s=r>0?t[r-1]:2*i-o,a=r<e-1?t[r+2]:2*o-i;return Ni((n-r/e)*e,s,i,o,a)}}function Na(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],s=t[(r+1)%e],a=t[(r+2)%e];return Ni((n-r/e)*e,i,o,s,a)}}var mn=t=>()=>t;function pd(t,e){return function(n){return t+n*e}}function md(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function La(t){return(t=+t)==1?vr:function(e,n){return n-e?md(e,n,t):mn(isNaN(e)?n:e)}}function vr(t,e){var n=e-t;return n?pd(t,n):mn(isNaN(t)?e:t)}var oe=function t(e){var n=La(e);function r(i,o){var s=n((i=Oe(i)).r,(o=Oe(o)).r),a=n(i.g,o.g),c=n(i.b,o.b),l=vr(i.opacity,o.opacity);return function(u){return i.r=s(u),i.g=a(u),i.b=c(u),i.opacity=l(u),i+""}}return r.gamma=t,r}(1);function Fa(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),o=new Array(n),s,a;for(s=0;s<n;++s)a=Oe(e[s]),r[s]=a.r||0,i[s]=a.g||0,o[s]=a.b||0;return r=t(r),i=t(i),o=t(o),a.opacity=1,function(c){return a.r=r(c),a.g=i(c),a.b=o(c),a+""}}}var gd=Fa(Oa),_d=Fa(Na);function Ba(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function za(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Va(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=se(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Ua(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function $(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Ha(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=se(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Fi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Li=new RegExp(Fi.source,"g");function yd(t){return function(){return t}}function vd(t){return function(e){return t(e)+""}}function gn(t,e){var n=Fi.lastIndex=Li.lastIndex=0,r,i,o,s=-1,a=[],c=[];for(t=t+"",e=e+"";(r=Fi.exec(t))&&(i=Li.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,c.push({i:s,x:$(r,i)})),n=Li.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?c[0]?vd(c[0].x):yd(e):(e=c.length,function(l){for(var u=0,h;u<e;++u)a[(h=c[u]).i]=h.x(l);return a.join("")})}function se(t,e){var n=typeof e,r;return e==null||n==="boolean"?mn(e):(n==="number"?$:n==="string"?(r=lt(e))?(e=r,oe):gn:e instanceof lt?oe:e instanceof Date?Ua:za(e)?Ba:Array.isArray(e)?Va:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Ha:$)(t,e)}function Bi(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var Wa=180/Math.PI,xr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zi(t,e,n,r,i,o){var s,a,c;return(s=Math.sqrt(t*t+e*e))&&(t/=s,e/=s),(c=t*n+e*r)&&(n-=t*c,r-=e*c),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,c/=a),t*r<e*n&&(t=-t,e=-e,c=-c,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Wa,skewX:Math.atan(c)*Wa,scaleX:s,scaleY:a}}var br;function $a(t){let e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?xr:zi(e.a,e.b,e.c,e.d,e.e,e.f)}function qa(t){return t==null?xr:(br||(br=document.createElementNS("http://www.w3.org/2000/svg","g")),br.setAttribute("transform",t),(t=br.transform.baseVal.consolidate())?(t=t.matrix,zi(t.a,t.b,t.c,t.d,t.e,t.f)):xr)}function Ya(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}function o(l,u,h,d,f,_){if(l!==h||u!==d){var b=f.push("translate(",null,e,null,n);_.push({i:b-4,x:$(l,h)},{i:b-2,x:$(u,d)})}else(h||d)&&f.push("translate("+h+e+d+n)}function s(l,u,h,d){l!==u?(l-u>180?u+=360:u-l>180&&(l+=360),d.push({i:h.push(i(h)+"rotate(",null,r)-2,x:$(l,u)})):u&&h.push(i(h)+"rotate("+u+r)}function a(l,u,h,d){l!==u?d.push({i:h.push(i(h)+"skewX(",null,r)-2,x:$(l,u)}):u&&h.push(i(h)+"skewX("+u+r)}function c(l,u,h,d,f,_){if(l!==h||u!==d){var b=f.push(i(f)+"scale(",null,",",null,")");_.push({i:b-4,x:$(l,h)},{i:b-2,x:$(u,d)})}else(h!==1||d!==1)&&f.push(i(f)+"scale("+h+","+d+")")}return function(l,u){var h=[],d=[];return l=t(l),u=t(u),o(l.translateX,l.translateY,u.translateX,u.translateY,h,d),s(l.rotate,u.rotate,h,d),a(l.skewX,u.skewX,h,d),c(l.scaleX,l.scaleY,u.scaleX,u.scaleY,h,d),l=u=null,function(f){for(var _=-1,b=d.length,x;++_<b;)h[(x=d[_]).i]=x.x(f);return h.join("")}}}var Vi=Ya($a,"px, ","px)","deg)"),Ui=Ya(qa,", ",")",")");var Ne=0,yn=0,_n=0,Ka=1e3,wr,vn,Sr=0,ae=0,kr=0,xn=typeof performance=="object"&&performance.now?performance:Date,Ga=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function wn(){return ae||(Ga(xd),ae=xn.now()+kr)}function xd(){ae=0}function bn(){this._call=this._time=this._next=null}bn.prototype=Cr.prototype={constructor:bn,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?wn():+n)+(e==null?0:+e),!this._next&&vn!==this&&(vn?vn._next=this:wr=this,vn=this),this._call=t,this._time=n,Hi()},stop:function(){this._call&&(this._call=null,this._time=1/0,Hi())}};function Cr(t,e,n){var r=new bn;return r.restart(t,e,n),r}function Za(){wn(),++Ne;for(var t=wr,e;t;)(e=ae-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Ne}function ja(){ae=(Sr=xn.now())+kr,Ne=yn=0;try{Za()}finally{Ne=0,wd(),ae=0}}function bd(){var t=xn.now(),e=t-Sr;e>Ka&&(kr-=e,Sr=t)}function wd(){for(var t,e=wr,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:wr=n);vn=t,Hi(r)}function Hi(t){if(!Ne){yn&&(yn=clearTimeout(yn));var e=t-ae;e>24?(t<1/0&&(yn=setTimeout(ja,t-xn.now()-kr)),_n&&(_n=clearInterval(_n))):(_n||(Sr=xn.now(),_n=setInterval(bd,Ka)),Ne=1,Ga(ja))}}function Dr(t,e,n){var r=new bn;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Sd=Ti("start","end","cancel","interrupt"),kd=[],Ja=0,Xa=1,Tr=2,Er=3,Qa=4,Ir=5,Sn=6;function zt(t,e,n,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(n in s)return;Cd(t,n,{name:e,index:r,group:i,on:Sd,tween:kd,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Ja})}function kn(t,e){var n=U(t,e);if(n.state>Ja)throw new Error("too late; already scheduled");return n}function q(t,e){var n=U(t,e);if(n.state>Er)throw new Error("too late; already running");return n}function U(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Cd(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Cr(o,0,n.time);function o(l){n.state=Xa,n.timer.restart(s,n.delay,n.time),n.delay<=l&&s(l-n.delay)}function s(l){var u,h,d,f;if(n.state!==Xa)return c();for(u in r)if(f=r[u],f.name===n.name){if(f.state===Er)return Dr(s);f.state===Qa?(f.state=Sn,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete r[u]):+u<e&&(f.state=Sn,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete r[u])}if(Dr(function(){n.state===Er&&(n.state=Qa,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=Tr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Tr){for(n.state=Er,i=new Array(d=n.tween.length),u=0,h=-1;u<d;++u)(f=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(i[++h]=f);i.length=h+1}}function a(l){for(var u=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(c),n.state=Ir,1),h=-1,d=i.length;++h<d;)i[h].call(t,u);n.state===Ir&&(n.on.call("end",t,t.__data__,n.index,n.group),c())}function c(){n.state=Sn,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function Rr(t,e){var n=t.__transition,r,i,o=!0,s;if(n){e=e==null?null:e+"";for(s in n){if((r=n[s]).name!==e){o=!1;continue}i=r.state>Tr&&r.state<Ir,r.state=Sn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[s]}o&&delete t.__transition}}function tc(t){return this.each(function(){Rr(this,t)})}function Dd(t,e){var n,r;return function(){var i=q(this,t),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===e){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Ed(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=q(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:e,value:n},c=0,l=i.length;c<l;++c)if(i[c].name===e){i[c]=a;break}c===l&&i.push(a)}o.tween=i}}function ec(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=U(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((e==null?Dd:Ed)(n,t,e))}function Le(t,e,n){var r=t._id;return t.each(function(){var i=q(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return U(i,r).value[e]}}function Mr(t,e){var n;return(typeof e=="number"?$:e instanceof lt?oe:(n=lt(e))?(e=n,oe):gn)(t,e)}function Td(t){return function(){this.removeAttribute(t)}}function Id(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Rd(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=e(r=s,n)}}function Md(t,e,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=e(r=s,n)}}function Pd(t,e,n){var r,i,o;return function(){var s,a=n(this),c;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),c=a+"",s===c?null:s===r&&c===i?o:(i=c,o=e(r=s,a)))}}function Ad(t,e,n){var r,i,o;return function(){var s,a=n(this),c;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),c=a+"",s===c?null:s===r&&c===i?o:(i=c,o=e(r=s,a)))}}function nc(t,e){var n=wt(t),r=n==="transform"?Ui:Mr;return this.attrTween(t,typeof e=="function"?(n.local?Ad:Pd)(n,r,Le(this,"attr."+t,e)):e==null?(n.local?Id:Td)(n):(n.local?Md:Rd)(n,r,e))}function Od(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Nd(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ld(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Nd(t,o)),n}return i._value=e,i}function Fd(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&Od(t,o)),n}return i._value=e,i}function rc(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=wt(t);return this.tween(n,(r.local?Ld:Fd)(r,e))}function Bd(t,e){return function(){kn(this,t).delay=+e.apply(this,arguments)}}function zd(t,e){return e=+e,function(){kn(this,t).delay=e}}function ic(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Bd:zd)(e,t)):U(this.node(),e).delay}function Vd(t,e){return function(){q(this,t).duration=+e.apply(this,arguments)}}function Ud(t,e){return e=+e,function(){q(this,t).duration=e}}function oc(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Vd:Ud)(e,t)):U(this.node(),e).duration}function Hd(t,e){if(typeof e!="function")throw new Error;return function(){q(this,t).ease=e}}function sc(t){var e=this._id;return arguments.length?this.each(Hd(e,t)):U(this.node(),e).ease}function Wd(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;q(this,t).ease=n}}function ac(t){if(typeof t!="function")throw new Error;return this.each(Wd(this._id,t))}function cc(t){typeof t!="function"&&(t=un(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],s=o.length,a=r[i]=[],c,l=0;l<s;++l)(c=o[l])&&t.call(c,c.__data__,l,o)&&a.push(c);return new j(r,this._parents,this._name,this._id)}function lc(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var c=e[a],l=n[a],u=c.length,h=s[a]=new Array(u),d,f=0;f<u;++f)(d=c[f]||l[f])&&(h[f]=d);for(;a<r;++a)s[a]=e[a];return new j(s,this._parents,this._name,this._id)}function $d(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function qd(t,e,n){var r,i,o=$d(e)?kn:q;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(e,n),s.on=i}}function uc(t,e){var n=this._id;return arguments.length<2?U(this.node(),n).on.on(t):this.each(qd(n,t,e))}function Yd(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function hc(){return this.on("end.remove",Yd(this._id))}function dc(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ee(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],c=a.length,l=o[s]=new Array(c),u,h,d=0;d<c;++d)(u=a[d])&&(h=t.call(u,u.__data__,d,a))&&("__data__"in u&&(h.__data__=u.__data__),l[d]=h,zt(l[d],e,n,d,l,U(u,n)));return new j(o,this._parents,e,n)}function fc(t){var e=this._name,n=this._id;typeof t!="function"&&(t=ln(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var c=r[a],l=c.length,u,h=0;h<l;++h)if(u=c[h]){for(var d=t.call(u,u.__data__,h,c),f,_=U(u,n),b=0,x=d.length;b<x;++b)(f=d[b])&&zt(f,e,n,b,d,_);o.push(d),s.push(u)}return new j(o,s,e,n)}var jd=St.prototype.constructor;function pc(){return new jd(this._groups,this._parents)}function Kd(t,e){var n,r,i;return function(){var o=Bt(this,t),s=(this.style.removeProperty(t),Bt(this,t));return o===s?null:o===n&&s===r?i:i=e(n=o,r=s)}}function mc(t){return function(){this.style.removeProperty(t)}}function Gd(t,e,n){var r,i=n+"",o;return function(){var s=Bt(this,t);return s===i?null:s===r?o:o=e(r=s,n)}}function Zd(t,e,n){var r,i,o;return function(){var s=Bt(this,t),a=n(this),c=a+"";return a==null&&(c=a=(this.style.removeProperty(t),Bt(this,t))),s===c?null:s===r&&c===i?o:(i=c,o=e(r=s,a))}}function Xd(t,e){var n,r,i,o="style."+e,s="end."+o,a;return function(){var c=q(this,t),l=c.on,u=c.value[o]==null?a||(a=mc(e)):void 0;(l!==n||i!==u)&&(r=(n=l).copy()).on(s,i=u),c.on=r}}function gc(t,e,n){var r=(t+="")=="transform"?Vi:Mr;return e==null?this.styleTween(t,Kd(t,r)).on("end.style."+t,mc(t)):typeof e=="function"?this.styleTween(t,Zd(t,r,Le(this,"style."+t,e))).each(Xd(this._id,t)):this.styleTween(t,Gd(t,r,e),n).on("end.style."+t,null)}function Qd(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Jd(t,e,n){var r,i;function o(){var s=e.apply(this,arguments);return s!==i&&(r=(i=s)&&Qd(t,s,n)),r}return o._value=e,o}function _c(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,Jd(t,e,n??""))}function tf(t){return function(){this.textContent=t}}function ef(t){return function(){var e=t(this);this.textContent=e??""}}function yc(t){return this.tween("text",typeof t=="function"?ef(Le(this,"text",t)):tf(t==null?"":t+""))}function nf(t){return function(e){this.textContent=t.call(this,e)}}function rf(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&nf(i)),e}return r._value=t,r}function vc(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,rf(t))}function xc(){for(var t=this._name,e=this._id,n=Pr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,c,l=0;l<a;++l)if(c=s[l]){var u=U(c,e);zt(c,t,n,l,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new j(r,this._parents,t,n)}function bc(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},c={value:function(){--i===0&&o()}};n.each(function(){var l=q(this,r),u=l.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(c)),l.on=e}),i===0&&o()})}var of=0;function j(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function wc(t){return St().transition(t)}function Pr(){return++of}var kt=St.prototype;j.prototype=wc.prototype={constructor:j,select:dc,selectAll:fc,selectChild:kt.selectChild,selectChildren:kt.selectChildren,filter:cc,merge:lc,selection:pc,transition:xc,call:kt.call,nodes:kt.nodes,node:kt.node,size:kt.size,empty:kt.empty,each:kt.each,on:uc,attr:nc,attrTween:rc,style:gc,styleTween:_c,text:yc,textTween:vc,remove:hc,tween:ec,delay:ic,duration:oc,ease:sc,easeVarying:ac,end:bc,[Symbol.iterator]:kt[Symbol.iterator]};function Ar(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var sf={time:null,delay:0,duration:250,ease:Ar};function af(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Sc(t){var e,n;t instanceof j?(e=t._id,t=t._name):(e=Pr(),(n=sf).time=wn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,c,l=0;l<a;++l)(c=s[l])&&zt(c,t,e,l,s,n||af(c,e));return new j(r,this._parents,t,e)}St.prototype.interrupt=tc;St.prototype.transition=Sc;var{abs:Ex,max:Tx,min:Ix}=Math;function kc(t){return[+t[0],+t[1]]}function cf(t){return[kc(t[0]),kc(t[1])]}var Rx={name:"x",handles:["w","e"].map(Wi),input:function(t,e){return t==null?null:[[+t[0],e[0][1]],[+t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Mx={name:"y",handles:["n","s"].map(Wi),input:function(t,e){return t==null?null:[[e[0][0],+t[0]],[e[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Px={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(Wi),input:function(t){return t==null?null:cf(t)},output:function(t){return t}};function Wi(t){return{type:t}}var $i=Math.PI,qi=2*$i,ce=1e-6,lf=qi-ce;function Cc(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function uf(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Cc;let n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}var le=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Cc:uf(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,c=r-e,l=i-n,u=s-e,h=a-n,d=u*u+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>ce)if(!(Math.abs(h*c-l*u)>ce)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let f=r-s,_=i-a,b=c*c+l*l,x=f*f+_*_,w=Math.sqrt(b),P=Math.sqrt(d),k=o*Math.tan(($i-Math.acos((b+d-x)/(2*w*P)))/2),I=k/P,v=k/w;Math.abs(I-1)>ce&&this._append`L${e+I*u},${n+I*h}`,this._append`A${o},${o},0,0,${+(h*f>u*_)},${this._x1=e+v*c},${this._y1=n+v*l}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),c=r*Math.sin(i),l=e+a,u=n+c,h=1^s,d=s?i-o:o-i;this._x1===null?this._append`M${l},${u}`:(Math.abs(this._x1-l)>ce||Math.abs(this._y1-u)>ce)&&this._append`L${l},${u}`,r&&(d<0&&(d=d%qi+qi),d>lf?this._append`A${r},${r},0,1,${h},${e-a},${n-c}A${r},${r},0,1,${h},${this._x1=l},${this._y1=u}`:d>ce&&this._append`A${r},${r},0,${+(d>=$i)},${h},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function Dc(){return new le}Dc.prototype=le.prototype;function Ec(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ue(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function _t(t){return t=ue(Math.abs(t)),t?t[1]:NaN}function Tc(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(n.substring(i-=a,i+a)),!((c+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Ic(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var hf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Vt(t){if(!(e=hf.exec(t)))throw new Error("invalid format: "+t);var e;return new Or({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Vt.prototype=Or.prototype;function Or(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Or.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Rc(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Yi;function Mc(t,e){var n=ue(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Yi=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ue(t,Math.max(0,e+o-1))[0]}function ji(t,e){var n=ue(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var Ki={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Ec,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ji(t*100,e),r:ji,s:Mc,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Gi(t){return t}var Pc=Array.prototype.map,Ac=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function Oc(t){var e=t.grouping===void 0||t.thousands===void 0?Gi:Tc(Pc.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Gi:Ic(Pc.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"\u2212":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function l(h){h=Vt(h);var d=h.fill,f=h.align,_=h.sign,b=h.symbol,x=h.zero,w=h.width,P=h.comma,k=h.precision,I=h.trim,v=h.type;v==="n"?(P=!0,v="g"):Ki[v]||(k===void 0&&(k=12),I=!0,v="g"),(x||d==="0"&&f==="=")&&(x=!0,d="0",f="=");var y=b==="$"?n:b==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",A=b==="$"?r:/[%p]/.test(v)?s:"",st=Ki[v],Pt=/[defgprs%]/.test(v);k=k===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function dt(S){var H=y,z=A,At,Kn,Se;if(v==="c")z=st(S)+z,S="";else{S=+S;var ke=S<0||1/S<0;if(S=isNaN(S)?c:st(Math.abs(S),k),I&&(S=Rc(S)),ke&&+S==0&&_!=="+"&&(ke=!1),H=(ke?_==="("?_:a:_==="-"||_==="("?"":_)+H,z=(v==="s"?Ac[8+Yi/3]:"")+z+(ke&&_==="("?")":""),Pt){for(At=-1,Kn=S.length;++At<Kn;)if(Se=S.charCodeAt(At),48>Se||Se>57){z=(Se===46?i+S.slice(At+1):S.slice(At))+z,S=S.slice(0,At);break}}}P&&!x&&(S=e(S,1/0));var Ce=H.length+S.length+z.length,at=Ce<w?new Array(w-Ce+1).join(d):"";switch(P&&x&&(S=e(at+S,at.length?w-z.length:1/0),at=""),f){case"<":S=H+S+z+at;break;case"=":S=H+at+S+z;break;case"^":S=at.slice(0,Ce=at.length>>1)+H+S+z+at.slice(Ce);break;default:S=at+H+S+z;break}return o(S)}return dt.toString=function(){return h+""},dt}function u(h,d){var f=l((h=Vt(h),h.type="f",h)),_=Math.max(-8,Math.min(8,Math.floor(_t(d)/3)))*3,b=Math.pow(10,-_),x=Ac[8+_/3];return function(w){return f(b*w)+x}}return{format:l,formatPrefix:u}}var Nr,Lr,Fr;Zi({thousands:",",grouping:[3],currency:["$",""]});function Zi(t){return Nr=Oc(t),Lr=Nr.format,Fr=Nr.formatPrefix,Nr}function Xi(t){return Math.max(0,-_t(Math.abs(t)))}function Qi(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_t(e)/3)))*3-_t(Math.abs(t)))}function Ji(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,_t(e)-_t(t))+1}function Br(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function to(t){return function(){return t}}function eo(t){return+t}var Nc=[0,1];function Fe(t){return t}function no(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:to(isNaN(e)?NaN:.5)}function df(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function ff(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=no(i,r),o=n(s,o)):(r=no(r,i),o=n(o,s)),function(a){return o(r(a))}}function pf(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=no(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var c=ki(t,a,1,r)-1;return o[c](i[c](a))}}function zr(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function mf(){var t=Nc,e=Nc,n=se,r,i,o,s=Fe,a,c,l;function u(){var d=Math.min(t.length,e.length);return s!==Fe&&(s=df(t[0],t[d-1])),a=d>2?pf:ff,c=l=null,h}function h(d){return d==null||isNaN(d=+d)?o:(c||(c=a(t.map(r),e,n)))(r(s(d)))}return h.invert=function(d){return s(i((l||(l=a(e,t.map(r),$)))(d)))},h.domain=function(d){return arguments.length?(t=Array.from(d,eo),u()):t.slice()},h.range=function(d){return arguments.length?(e=Array.from(d),u()):e.slice()},h.rangeRound=function(d){return e=Array.from(d),n=Bi,u()},h.clamp=function(d){return arguments.length?(s=d?!0:Fe,u()):s!==Fe},h.interpolate=function(d){return arguments.length?(n=d,u()):n},h.unknown=function(d){return arguments.length?(o=d,h):o},function(d,f){return r=d,i=f,u()}}function Cn(){return mf()(Fe,Fe)}function ro(t,e,n,r){var i=Pe(t,e,n),o;switch(r=Vt(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Qi(i,s))&&(r.precision=o),Fr(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Ji(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Xi(i))&&(r.precision=o-(r.type==="%")*2);break}}return Lr(r)}function gf(t){var e=t.domain;return t.ticks=function(n){var r=e();return or(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return ro(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],c,l,u=10;for(a<s&&(l=s,s=a,a=l,l=i,i=o,o=l);u-- >0;){if(l=on(s,a,n),l===c)return r[i]=s,r[o]=a,e(r);if(l>0)s=Math.floor(s/l)*l,a=Math.ceil(a/l)*l;else if(l<0)s=Math.ceil(s*l)/l,a=Math.floor(a*l)/l;else break;c=l}return t},t}function Be(){var t=Cn();return t.copy=function(){return zr(t,Be())},Br.apply(t,arguments),gf(t)}function io(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}var oo=new Date,so=new Date;function M(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{let s=i(o),a=i.ceil(o);return o-s<a-o?s:a},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,a)=>{let c=[];if(o=i.ceil(o),a=a==null?1:Math.floor(a),!(o<s)||!(a>0))return c;let l;do c.push(l=new Date(+o)),e(o,a),t(o);while(l<o&&o<s);return c},i.filter=o=>M(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,a)=>{if(s>=s)if(a<0)for(;++a<=0;)for(;e(s,-1),!o(s););else for(;--a>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(oo.setTime(+o),so.setTime(+s),t(oo),t(so),Math.floor(n(oo,so))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}var Dn=M(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Dn.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?M(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Dn);var Kb=Dn.range;var yt=M(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*1e3)},(t,e)=>(e-t)/1e3,t=>t.getUTCSeconds()),Lc=yt.range;var ze=M(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*1e3)},(t,e)=>{t.setTime(+t+e*6e4)},(t,e)=>(e-t)/6e4,t=>t.getMinutes()),_f=ze.range,Vr=M(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*6e4)},(t,e)=>(e-t)/6e4,t=>t.getUTCMinutes()),yf=Vr.range;var Ve=M(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*1e3-t.getMinutes()*6e4)},(t,e)=>{t.setTime(+t+e*36e5)},(t,e)=>(e-t)/36e5,t=>t.getHours()),vf=Ve.range,Ur=M(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*36e5)},(t,e)=>(e-t)/36e5,t=>t.getUTCHours()),xf=Ur.range;var Ct=M(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5,t=>t.getDate()-1),bf=Ct.range,Tn=M(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>t.getUTCDate()-1),wf=Tn.range,Hr=M(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/864e5,t=>Math.floor(t/864e5)),Sf=Hr.range;function fe(t){return M(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/6048e5)}var Dt=fe(0),Ue=fe(1),Bc=fe(2),zc=fe(3),Ut=fe(4),Vc=fe(5),Uc=fe(6),Hc=Dt.range,kf=Ue.range,Cf=Bc.range,Df=zc.range,Ef=Ut.range,Tf=Vc.range,If=Uc.range;function pe(t){return M(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/6048e5)}var me=pe(0),He=pe(1),Wc=pe(2),$c=pe(3),Ht=pe(4),qc=pe(5),Yc=pe(6),jc=me.range,Rf=He.range,Mf=Wc.range,Pf=$c.range,Af=Ht.range,Of=qc.range,Nf=Yc.range;var We=M(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth()),Lf=We.range,Wr=M(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth()),Ff=Wr.range;var et=M(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());et.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:M(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});var Bf=et.range,ut=M(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());ut.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:M(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});var zf=ut.range;function Gc(t,e,n,r,i,o){let s=[[yt,1,1e3],[yt,5,5*1e3],[yt,15,15*1e3],[yt,30,30*1e3],[o,1,6e4],[o,5,5*6e4],[o,15,15*6e4],[o,30,30*6e4],[i,1,36e5],[i,3,3*36e5],[i,6,6*36e5],[i,12,12*36e5],[r,1,864e5],[r,2,2*864e5],[n,1,6048e5],[e,1,2592e6],[e,3,3*2592e6],[t,1,31536e6]];function a(l,u,h){let d=u<l;d&&([l,u]=[u,l]);let f=h&&typeof h.range=="function"?h:c(l,u,h),_=f?f.range(l,+u+1):[];return d?_.reverse():_}function c(l,u,h){let d=Math.abs(u-l)/h,f=te(([,,x])=>x).right(s,d);if(f===s.length)return t.every(Pe(l/31536e6,u/31536e6,h));if(f===0)return Dn.every(Math.max(Pe(l,u,h),1));let[_,b]=s[d/s[f-1][2]<s[f][2]/d?f-1:f];return _.every(b)}return[a,c]}var[Uf,Hf]=Gc(ut,Wr,me,Hr,Ur,Vr),[ao,co]=Gc(et,We,Dt,Ct,Ve,ze);function lo(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function uo(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function In(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function ho(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,a=t.months,c=t.shortMonths,l=Rn(i),u=Mn(i),h=Rn(o),d=Mn(o),f=Rn(s),_=Mn(s),b=Rn(a),x=Mn(a),w=Rn(c),P=Mn(c),k={a:ke,A:Ce,b:at,B:Fu,c:null,d:el,e:el,f:hp,g:bp,G:Sp,H:cp,I:lp,j:up,L:sl,m:dp,M:fp,p:Bu,q:zu,Q:il,s:ol,S:pp,u:mp,U:gp,V:_p,w:yp,W:vp,x:null,X:null,y:xp,Y:wp,Z:kp,"%":rl},I={a:Vu,A:Uu,b:Hu,B:Wu,c:null,d:nl,e:nl,f:Tp,g:Bp,G:Vp,H:Cp,I:Dp,j:Ep,L:cl,m:Ip,M:Rp,p:$u,q:qu,Q:il,s:ol,S:Mp,u:Pp,U:Ap,V:Op,w:Np,W:Lp,x:null,X:null,y:Fp,Y:zp,Z:Up,"%":rl},v={a:dt,A:S,b:H,B:z,c:At,d:Jc,e:Jc,f:ip,g:Qc,G:Xc,H:tl,I:tl,j:tp,L:rp,m:Jf,M:ep,p:Pt,q:Qf,Q:sp,s:ap,S:np,u:jf,U:Kf,V:Gf,w:Yf,W:Zf,x:Kn,X:Se,y:Qc,Y:Xc,Z:Xf,"%":op};k.x=y(n,k),k.X=y(r,k),k.c=y(e,k),I.x=y(n,I),I.X=y(r,I),I.c=y(e,I);function y(m,C){return function(E){var p=[],Z=-1,O=0,J=m.length,tt,Yt,Ko;for(E instanceof Date||(E=new Date(+E));++Z<J;)m.charCodeAt(Z)===37&&(p.push(m.slice(O,Z)),(Yt=Zc[tt=m.charAt(++Z)])!=null?tt=m.charAt(++Z):Yt=tt==="e"?" ":"0",(Ko=C[tt])&&(tt=Ko(E,Yt)),p.push(tt),O=Z+1);return p.push(m.slice(O,Z)),p.join("")}}function A(m,C){return function(E){var p=In(1900,void 0,1),Z=st(p,m,E+="",0),O,J;if(Z!=E.length)return null;if("Q"in p)return new Date(p.Q);if("s"in p)return new Date(p.s*1e3+("L"in p?p.L:0));if(C&&!("Z"in p)&&(p.Z=0),"p"in p&&(p.H=p.H%12+p.p*12),p.m===void 0&&(p.m="q"in p?p.q:0),"V"in p){if(p.V<1||p.V>53)return null;"w"in p||(p.w=1),"Z"in p?(O=uo(In(p.y,0,1)),J=O.getUTCDay(),O=J>4||J===0?He.ceil(O):He(O),O=Tn.offset(O,(p.V-1)*7),p.y=O.getUTCFullYear(),p.m=O.getUTCMonth(),p.d=O.getUTCDate()+(p.w+6)%7):(O=lo(In(p.y,0,1)),J=O.getDay(),O=J>4||J===0?Ue.ceil(O):Ue(O),O=Ct.offset(O,(p.V-1)*7),p.y=O.getFullYear(),p.m=O.getMonth(),p.d=O.getDate()+(p.w+6)%7)}else("W"in p||"U"in p)&&("w"in p||(p.w="u"in p?p.u%7:"W"in p?1:0),J="Z"in p?uo(In(p.y,0,1)).getUTCDay():lo(In(p.y,0,1)).getDay(),p.m=0,p.d="W"in p?(p.w+6)%7+p.W*7-(J+5)%7:p.w+p.U*7-(J+6)%7);return"Z"in p?(p.H+=p.Z/100|0,p.M+=p.Z%100,uo(p)):lo(p)}}function st(m,C,E,p){for(var Z=0,O=C.length,J=E.length,tt,Yt;Z<O;){if(p>=J)return-1;if(tt=C.charCodeAt(Z++),tt===37){if(tt=C.charAt(Z++),Yt=v[tt in Zc?C.charAt(Z++):tt],!Yt||(p=Yt(m,E,p))<0)return-1}else if(tt!=E.charCodeAt(p++))return-1}return p}function Pt(m,C,E){var p=l.exec(C.slice(E));return p?(m.p=u.get(p[0].toLowerCase()),E+p[0].length):-1}function dt(m,C,E){var p=f.exec(C.slice(E));return p?(m.w=_.get(p[0].toLowerCase()),E+p[0].length):-1}function S(m,C,E){var p=h.exec(C.slice(E));return p?(m.w=d.get(p[0].toLowerCase()),E+p[0].length):-1}function H(m,C,E){var p=w.exec(C.slice(E));return p?(m.m=P.get(p[0].toLowerCase()),E+p[0].length):-1}function z(m,C,E){var p=b.exec(C.slice(E));return p?(m.m=x.get(p[0].toLowerCase()),E+p[0].length):-1}function At(m,C,E){return st(m,e,C,E)}function Kn(m,C,E){return st(m,n,C,E)}function Se(m,C,E){return st(m,r,C,E)}function ke(m){return s[m.getDay()]}function Ce(m){return o[m.getDay()]}function at(m){return c[m.getMonth()]}function Fu(m){return a[m.getMonth()]}function Bu(m){return i[+(m.getHours()>=12)]}function zu(m){return 1+~~(m.getMonth()/3)}function Vu(m){return s[m.getUTCDay()]}function Uu(m){return o[m.getUTCDay()]}function Hu(m){return c[m.getUTCMonth()]}function Wu(m){return a[m.getUTCMonth()]}function $u(m){return i[+(m.getUTCHours()>=12)]}function qu(m){return 1+~~(m.getUTCMonth()/3)}return{format:function(m){var C=y(m+="",k);return C.toString=function(){return m},C},parse:function(m){var C=A(m+="",!1);return C.toString=function(){return m},C},utcFormat:function(m){var C=y(m+="",I);return C.toString=function(){return m},C},utcParse:function(m){var C=A(m+="",!0);return C.toString=function(){return m},C}}}var Zc={"-":"",_:" ",0:"0"},W=/^\s*\d+/,Wf=/^%/,$f=/[\\^$*+?|[\]().{}]/g;function T(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function qf(t){return t.replace($f,"\\$&")}function Rn(t){return new RegExp("^(?:"+t.map(qf).join("|")+")","i")}function Mn(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Yf(t,e,n){var r=W.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function jf(t,e,n){var r=W.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Kf(t,e,n){var r=W.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Gf(t,e,n){var r=W.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Zf(t,e,n){var r=W.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Xc(t,e,n){var r=W.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Qc(t,e,n){var r=W.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Xf(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Qf(t,e,n){var r=W.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Jf(t,e,n){var r=W.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Jc(t,e,n){var r=W.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function tp(t,e,n){var r=W.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function tl(t,e,n){var r=W.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ep(t,e,n){var r=W.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function np(t,e,n){var r=W.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function rp(t,e,n){var r=W.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ip(t,e,n){var r=W.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function op(t,e,n){var r=Wf.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function sp(t,e,n){var r=W.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function ap(t,e,n){var r=W.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function el(t,e){return T(t.getDate(),e,2)}function cp(t,e){return T(t.getHours(),e,2)}function lp(t,e){return T(t.getHours()%12||12,e,2)}function up(t,e){return T(1+Ct.count(et(t),t),e,3)}function sl(t,e){return T(t.getMilliseconds(),e,3)}function hp(t,e){return sl(t,e)+"000"}function dp(t,e){return T(t.getMonth()+1,e,2)}function fp(t,e){return T(t.getMinutes(),e,2)}function pp(t,e){return T(t.getSeconds(),e,2)}function mp(t){var e=t.getDay();return e===0?7:e}function gp(t,e){return T(Dt.count(et(t)-1,t),e,2)}function al(t){var e=t.getDay();return e>=4||e===0?Ut(t):Ut.ceil(t)}function _p(t,e){return t=al(t),T(Ut.count(et(t),t)+(et(t).getDay()===4),e,2)}function yp(t){return t.getDay()}function vp(t,e){return T(Ue.count(et(t)-1,t),e,2)}function xp(t,e){return T(t.getFullYear()%100,e,2)}function bp(t,e){return t=al(t),T(t.getFullYear()%100,e,2)}function wp(t,e){return T(t.getFullYear()%1e4,e,4)}function Sp(t,e){var n=t.getDay();return t=n>=4||n===0?Ut(t):Ut.ceil(t),T(t.getFullYear()%1e4,e,4)}function kp(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+T(e/60|0,"0",2)+T(e%60,"0",2)}function nl(t,e){return T(t.getUTCDate(),e,2)}function Cp(t,e){return T(t.getUTCHours(),e,2)}function Dp(t,e){return T(t.getUTCHours()%12||12,e,2)}function Ep(t,e){return T(1+Tn.count(ut(t),t),e,3)}function cl(t,e){return T(t.getUTCMilliseconds(),e,3)}function Tp(t,e){return cl(t,e)+"000"}function Ip(t,e){return T(t.getUTCMonth()+1,e,2)}function Rp(t,e){return T(t.getUTCMinutes(),e,2)}function Mp(t,e){return T(t.getUTCSeconds(),e,2)}function Pp(t){var e=t.getUTCDay();return e===0?7:e}function Ap(t,e){return T(me.count(ut(t)-1,t),e,2)}function ll(t){var e=t.getUTCDay();return e>=4||e===0?Ht(t):Ht.ceil(t)}function Op(t,e){return t=ll(t),T(Ht.count(ut(t),t)+(ut(t).getUTCDay()===4),e,2)}function Np(t){return t.getUTCDay()}function Lp(t,e){return T(He.count(ut(t)-1,t),e,2)}function Fp(t,e){return T(t.getUTCFullYear()%100,e,2)}function Bp(t,e){return t=ll(t),T(t.getUTCFullYear()%100,e,2)}function zp(t,e){return T(t.getUTCFullYear()%1e4,e,4)}function Vp(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ht(t):Ht.ceil(t),T(t.getUTCFullYear()%1e4,e,4)}function Up(){return"+0000"}function rl(){return"%"}function il(t){return+t}function ol(t){return Math.floor(+t/1e3)}var $e,ge,ul,hl,dl;fo({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function fo(t){return $e=ho(t),ge=$e.format,ul=$e.parse,hl=$e.utcFormat,dl=$e.utcParse,$e}function Hp(t){return new Date(t)}function Wp(t){return t instanceof Date?+t:+new Date(+t)}function fl(t,e,n,r,i,o,s,a,c,l){var u=Cn(),h=u.invert,d=u.domain,f=l(".%L"),_=l(":%S"),b=l("%I:%M"),x=l("%I %p"),w=l("%a %d"),P=l("%b %d"),k=l("%B"),I=l("%Y");function v(y){return(c(y)<y?f:a(y)<y?_:s(y)<y?b:o(y)<y?x:r(y)<y?i(y)<y?w:P:n(y)<y?k:I)(y)}return u.invert=function(y){return new Date(h(y))},u.domain=function(y){return arguments.length?d(Array.from(y,Wp)):d().map(Hp)},u.ticks=function(y){var A=d();return t(A[0],A[A.length-1],y??10)},u.tickFormat=function(y,A){return A==null?v:l(A)},u.nice=function(y){var A=d();return(!y||typeof y.range!="function")&&(y=e(A[0],A[A.length-1],y??10)),y?d(io(A,y)):u},u.copy=function(){return zr(u,fl(t,e,n,r,i,o,s,a,c,l))},u}function Pn(){return Br.apply(fl(ao,co,et,We,Dt,Ct,Ve,ze,yt,ge).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function _e(t){return function(){return t}}function pl(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{let r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new le(e)}var jw=Array.prototype.slice;function ml(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function gl(t){this._context=t}gl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function _l(t){return new gl(t)}function yl(t){return t[0]}function vl(t){return t[1]}function $r(t,e){var n=_e(!0),r=null,i=_l,o=null,s=pl(a);t=typeof t=="function"?t:t===void 0?yl:_e(t),e=typeof e=="function"?e:e===void 0?vl:_e(e);function a(c){var l,u=(c=ml(c)).length,h,d=!1,f;for(r==null&&(o=i(f=s())),l=0;l<=u;++l)!(l<u&&n(h=c[l],l,c))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+t(h,l,c),+e(h,l,c));if(f)return o=null,f+""||null}return a.x=function(c){return arguments.length?(t=typeof c=="function"?c:_e(+c),a):t},a.y=function(c){return arguments.length?(e=typeof c=="function"?c:_e(+c),a):e},a.defined=function(c){return arguments.length?(n=typeof c=="function"?c:_e(!!c),a):n},a.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),a):i},a.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),a):r},a}function xl(t){return t<0?-1:1}function bl(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),a=(o*i+s*r)/(r+i);return(xl(o)+xl(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(a))||0}function wl(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function po(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*e,o-a,s-a*n,o,s)}function qr(t){this._context=t}qr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:po(this,this._t0,wl(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,po(this,wl(this,n=bl(this,t,e)),n);break;default:po(this,this._t0,n=bl(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function $p(t){this._context=new Sl(t)}($p.prototype=Object.create(qr.prototype)).point=function(t,e){qr.prototype.point.call(this,e,t)};function Sl(t){this._context=t}Sl.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function Yr(t){return new qr(t)}function Wt(t,e,n){this.k=t,this.x=e,this.y=n}Wt.prototype={constructor:Wt,scale:function(t){return t===1?this:new Wt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Wt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var mo=new Wt(1,0,0);go.prototype=Wt.prototype;function go(t){for(;!t.__zoom;)if(!(t=t.parentNode))return mo;return t.__zoom}function jr(t,e=0){return Yp(t)?Number(t):arguments.length===2?e:0}function Yp(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}function An(t){return Array.isArray(t)?t:[t]}function rk(t){return t==null?"":typeof t=="string"?t:`${t}px`}function xt(t){return t instanceof Nt?t.nativeElement:t}var yo;try{yo=typeof Intl<"u"&&Intl.v8BreakIterator}catch{yo=!1}var ve=(()=>{class t{_platformId=g(as);isBrowser=this._platformId?ks(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||yo)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ye;function jp(){if(ye==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return ye=!1,ye;if("scrollBehavior"in document.documentElement.style)ye=!0;else{let t=Element.prototype.scrollTo;t?ye=!/\{\s*\[native code\]\s*\}/.test(t.toString()):ye=!1}}return ye}var _o;function Kp(){if(_o==null){let t=typeof document<"u"?document.head:null;_o=!!(t&&(t.createShadowRoot||t.attachShadow))}return _o}function On(t){if(Kp()){let e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function qe(t){return t.composedPath?t.composedPath()[0]:t.target}function lk(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Tt(t,e,n,r,i){let o=parseInt(bi.major),s=parseInt(bi.minor);return o>19||o===19&&s>0||o===0&&s===0?t.listen(e,n,r,i):(e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)})}var Gp=new pt("cdk-dir-doc",{providedIn:"root",factory:Zp});function Zp(){return g(bt)}var Xp=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function Qp(t){let e=t?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?Xp.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Kr=(()=>{class t{value="ltr";change=new X;constructor(){let n=g(Gp,{optional:!0});if(n){let r=n.body?n.body.dir:null,i=n.documentElement?n.documentElement.dir:null;this.value=Qp(r||i||"ltr")}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var vo=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=mt({type:t});static \u0275inj=ft({})}return t})();var tm=20,kl=(()=>{class t{_ngZone=g(rt);_platform=g(ve);_renderer=g(Gt).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new R;_scrolledCount=0;scrollContainers=new Map;register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=tm){return this._platform.isBrowser?new Kt(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=n>0?this._scrolled.pipe(pi(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):Go()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){let i=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe(Jo(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(n){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,n)&&r.push(o)}),r}_scrollableContainsElement(n,r){let i=xt(r),o=n.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var em=20,Cl=(()=>{class t{_platform=g(ve);_listeners;_viewportSize;_change=new R;_document=g(bt,{optional:!0});constructor(){let n=g(rt),r=g(Gt).createRenderer(null,null);n.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(n=>n()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+i,right:n.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,r=this._getWindow(),i=n.documentElement,o=i.getBoundingClientRect(),s=-o.top||n.body.scrollTop||r.scrollY||i.scrollTop||0,a=-o.left||n.body.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:s,left:a}}change(n=em){return n>0?this._change.pipe(pi(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Gr=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=mt({type:t});static \u0275inj=ft({})}return t})(),tC=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=mt({type:t});static \u0275inj=ft({imports:[vo,Gr,vo,Gr]})}return t})();var Zr=new WeakMap,Dl=(()=>{class t{_appRef;_injector=g(Ee);_environmentInjector=g(is);load(n){let r=this._appRef=this._appRef||this._injector.get(ls),i=Zr.get(r);i||(i={loaders:new Set,refs:[]},Zr.set(r,i),r.onDestroy(()=>{Zr.get(r)?.refs.forEach(o=>o.destroy()),Zr.delete(r)})),i.loaders.has(n)||(i.loaders.add(n),i.refs.push(_s(n,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var El=new Set,xe,nm=(()=>{class t{_platform=g(ve);_nonce=g(cs,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):im}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&rm(n,this._nonce),this._matchMedia(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function rm(t,e){if(!El.has(t))try{xe||(xe=document.createElement("style"),e&&xe.setAttribute("nonce",e),xe.setAttribute("type","text/css"),document.head.appendChild(xe)),xe.sheet&&(xe.sheet.insertRule(`@media ${t} {body{ }}`,0),El.add(t))}catch(n){console.error(n)}}function im(t){return{matches:t==="all"||t==="",media:t,addListener:()=>{},removeListener:()=>{}}}var Il=(()=>{class t{_mediaMatcher=g(nm);_zone=g(rt);_queries=new Map;_destroySubject=new R;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return Tl(An(n)).some(i=>this._registerQuery(i).mql.matches)}observe(n){let i=Tl(An(n)).map(s=>this._registerQuery(s).observable),o=Zo(i);return o=Xo(o.pipe(Zn(1)),o.pipe(es(1),ts(0))),o.pipe(Je(s=>{let a={matches:!1,breakpoints:{}};return s.forEach(({matches:c,query:l})=>{a.matches=a.matches||c,a.breakpoints[l]=c}),a}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),o={observable:new Kt(s=>{let a=c=>this._zone.run(()=>s.next(c));return r.addListener(a),()=>{r.removeListener(a)}}).pipe(De(r),Je(({matches:s})=>({query:n,matches:s})),Ot(this._destroySubject)),mql:r};return this._queries.set(n,o),o}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Tl(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}function Pl(t){return t.buttons===0||t.detail===0}function Al(t){let e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var be=function(t){return t[t.NONE=0]="NONE",t[t.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",t[t.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",t}(be||{}),Rl="cdk-high-contrast-black-on-white",Ml="cdk-high-contrast-white-on-black",xo="cdk-high-contrast-active",MC=(()=>{class t{_platform=g(ve);_hasCheckedHighContrastMode;_document=g(bt);_breakpointSubscription;constructor(){this._breakpointSubscription=g(Il).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return be.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(n):null,o=(i&&i.backgroundColor||"").replace(/ /g,"");switch(n.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return be.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return be.BLACK_ON_WHITE}return be.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(xo,Rl,Ml),this._hasCheckedHighContrastMode=!0;let r=this.getHighContrastMode();r===be.BLACK_ON_WHITE?n.add(xo,Rl):r===be.WHITE_ON_BLACK&&n.add(xo,Ml)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var bo={},Ol=(()=>{class t{_appId=g(ss);getId(n){return this._appId!=="ng"&&(n+=this._appId),bo.hasOwnProperty(n)||(bo[n]=0),`${n}${bo[n]++}`}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Gl(t){let e=t.cloneNode(!0),n=e.querySelectorAll("[id]"),r=t.nodeName.toLowerCase();e.removeAttribute("id");for(let i=0;i<n.length;i++)n[i].removeAttribute("id");return r==="canvas"?Fl(t,e):(r==="input"||r==="select"||r==="textarea")&&Ll(t,e),Nl("canvas",t,e,Fl),Nl("input, textarea, select",t,e,Ll),e}function Nl(t,e,n,r){let i=e.querySelectorAll(t);if(i.length){let o=n.querySelectorAll(t);for(let s=0;s<i.length;s++)r(i[s],o[s])}}var om=0;function Ll(t,e){e.type!=="file"&&(e.value=t.value),e.type==="radio"&&e.name&&(e.name=`mat-clone-${e.name}-${om++}`)}function Fl(t,e){let n=e.getContext("2d");if(n)try{n.drawImage(t,0,0)}catch{}}function Ro(t){let e=t.getBoundingClientRect();return{top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height,x:e.x,y:e.y}}function ko(t,e,n){let{top:r,bottom:i,left:o,right:s}=t;return n>=r&&n<=i&&e>=o&&e<=s}function Fn(t,e,n){t.top+=e,t.bottom=t.top+t.height,t.left+=n,t.right=t.left+t.width}function Bl(t,e,n,r){let{top:i,right:o,bottom:s,left:a,width:c,height:l}=t,u=c*e,h=l*e;return r>i-h&&r<s+h&&n>a-u&&n<o+u}var Xr=class{_document;positions=new Map;constructor(e){this._document=e}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),e.forEach(n=>{this.positions.set(n,{scrollPosition:{top:n.scrollTop,left:n.scrollLeft},clientRect:Ro(n)})})}handleScroll(e){let n=qe(e),r=this.positions.get(n);if(!r)return null;let i=r.scrollPosition,o,s;if(n===this._document){let l=this.getViewportScrollPosition();o=l.top,s=l.left}else o=n.scrollTop,s=n.scrollLeft;let a=i.top-o,c=i.left-s;return this.positions.forEach((l,u)=>{l.clientRect&&n!==u&&n.contains(u)&&Fn(l.clientRect,a,c)}),i.top=o,i.left=s,{top:a,left:c}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function Zl(t,e){let n=t.rootNodes;if(n.length===1&&n[0].nodeType===e.ELEMENT_NODE)return n[0];let r=e.createElement("div");return n.forEach(i=>r.appendChild(i)),r}function Mo(t,e,n){for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];i?t.setProperty(r,i,n?.has(r)?"important":""):t.removeProperty(r)}return t}function Ye(t,e){let n=e?"":"none";Mo(t.style,{"touch-action":e?"":"none","-webkit-user-drag":e?"":"none","-webkit-tap-highlight-color":e?"":"transparent","user-select":n,"-ms-user-select":n,"-webkit-user-select":n,"-moz-user-select":n})}function zl(t,e,n){Mo(t.style,{position:e?"":"fixed",top:e?"":"0",opacity:e?"":"0",left:e?"":"-999em"},n)}function Qr(t,e){return e&&e!="none"?t+" "+e:t}function Vl(t,e){t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,t.style.transform=Jr(e.left,e.top)}function Jr(t,e){return`translate3d(${Math.round(t)}px, ${Math.round(e)}px, 0)`}function Ul(t){let e=t.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(t)*e}function sm(t){let e=getComputedStyle(t),n=wo(e,"transition-property"),r=n.find(a=>a==="transform"||a==="all");if(!r)return 0;let i=n.indexOf(r),o=wo(e,"transition-duration"),s=wo(e,"transition-delay");return Ul(o[i])+Ul(s[i])}function wo(t,e){return t.getPropertyValue(e).split(",").map(r=>r.trim())}var am=new Set(["position"]),Co=class{_document;_rootElement;_direction;_initialDomRect;_previewTemplate;_previewClass;_pickupPositionOnPage;_initialTransform;_zIndex;_renderer;_previewEmbeddedView;_preview;get element(){return this._preview}constructor(e,n,r,i,o,s,a,c,l,u){this._document=e,this._rootElement=n,this._direction=r,this._initialDomRect=i,this._previewTemplate=o,this._previewClass=s,this._pickupPositionOnPage=a,this._initialTransform=c,this._zIndex=l,this._renderer=u}attach(e){this._preview=this._createPreview(),e.appendChild(this._preview),Hl(this._preview)&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(e){this._preview.style.transform=e}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(e){this._preview.classList.add(e)}getTransitionDuration(){return sm(this._preview)}addEventListener(e,n){return this._renderer.listen(this._preview,e,n)}_createPreview(){let e=this._previewTemplate,n=this._previewClass,r=e?e.template:null,i;if(r&&e){let o=e.matchSize?this._initialDomRect:null,s=e.viewContainer.createEmbeddedView(r,e.context);s.detectChanges(),i=Zl(s,this._document),this._previewEmbeddedView=s,e.matchSize?Vl(i,o):i.style.transform=Jr(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=Gl(this._rootElement),Vl(i,this._initialDomRect),this._initialTransform&&(i.style.transform=this._initialTransform);return Mo(i.style,{"pointer-events":"none",margin:Hl(i)?"0 auto 0 0":"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},am),Ye(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("popover","manual"),i.setAttribute("dir",this._direction),n&&(Array.isArray(n)?n.forEach(o=>i.classList.add(o)):i.classList.add(n)),i}};function Hl(t){return"showPopover"in t}var cm={passive:!0},Wl={passive:!1},lm={passive:!1,capture:!0},um=800,$l=new Set(["position"]),Do=class{_config;_document;_ngZone;_viewportRuler;_dragDropRegistry;_renderer;_rootElementCleanups;_cleanupShadowRootSelectStart;_preview;_previewContainer;_placeholderRef;_placeholder;_pickupPositionInElement;_pickupPositionOnPage;_anchor;_passiveTransform={x:0,y:0};_activeTransform={x:0,y:0};_initialTransform;_hasStartedDragging=Qn(!1);_hasMoved;_initialContainer;_initialIndex;_parentPositions;_moveEvents=new R;_pointerDirectionDelta;_pointerPositionAtLastDirectionChange;_lastKnownPointerPosition;_rootElement;_ownerSVGElement;_rootElementTapHighlight;_pointerMoveSubscription=jt.EMPTY;_pointerUpSubscription=jt.EMPTY;_scrollSubscription=jt.EMPTY;_resizeSubscription=jt.EMPTY;_lastTouchEventTime;_dragStartTime;_boundaryElement=null;_nativeInteractionsEnabled=!0;_initialDomRect;_previewRect;_boundaryRect;_previewTemplate;_placeholderTemplate;_handles=[];_disabledHandles=new Set;_dropContainer;_direction="ltr";_parentDragRef;_cachedShadowRoot;lockAxis;dragStartDelay=0;previewClass;scale=1;get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(e){e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(n=>Ye(n,e)))}_disabled=!1;beforeStarted=new R;started=new R;released=new R;ended=new R;entered=new R;exited=new R;dropped=new R;moved=this._moveEvents;data;constrainPosition;constructor(e,n,r,i,o,s,a){this._config=n,this._document=r,this._ngZone=i,this._viewportRuler=o,this._dragDropRegistry=s,this._renderer=a,this.withRootElement(e).withParent(n.parentDragRef||null),this._parentPositions=new Xr(r),s.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){this._handles=e.map(r=>xt(r)),this._handles.forEach(r=>Ye(r,this.disabled)),this._toggleNativeDragInteractions();let n=new Set;return this._disabledHandles.forEach(r=>{this._handles.indexOf(r)>-1&&n.add(r)}),this._disabledHandles=n,this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){let n=xt(e);return n!==this._rootElement&&(this._removeRootElementListeners(),this._rootElementCleanups=this._ngZone.runOutsideAngular(()=>[Tt(this._renderer,n,"mousedown",this._pointerDown,Wl),Tt(this._renderer,n,"touchstart",this._pointerDown,cm),Tt(this._renderer,n,"dragstart",this._nativeDragStart,Wl)]),this._initialTransform=void 0,this._rootElement=n),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?xt(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(e){return this._parentDragRef=e,this}dispose(){this._removeRootElementListeners(),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){!this._disabledHandles.has(e)&&this._handles.indexOf(e)>-1&&(this._disabledHandles.add(e),Ye(e,!0))}enableHandle(e){this._disabledHandles.has(e)&&(this._disabledHandles.delete(e),Ye(e,this.disabled))}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){let e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}withPreviewContainer(e){return this._previewContainer=e,this}_sortFromLastPointerPosition(){let e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._cleanupShadowRootSelectStart?.(),this._cleanupShadowRootSelectStart=void 0}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){let n=this._getTargetHandle(e);n&&!this._disabledHandles.has(n)&&!this.disabled&&this._initializeDragSequence(n,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)};_pointerMove=e=>{let n=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging()){let i=Math.abs(n.x-this._pickupPositionOnPage.x),o=Math.abs(n.y-this._pickupPositionOnPage.y);if(i+o>=this._config.dragStartThreshold){let a=Date.now()>=this._dragStartTime+this._getDragStartDelay(e),c=this._dropContainer;if(!a){this._endDragSequence(e);return}(!c||!c.isDragging()&&!c.isReceiving())&&(e.cancelable&&e.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(e)))}return}e.cancelable&&e.preventDefault();let r=this._getConstrainedPointerPosition(n);if(this._hasMoved=!0,this._lastKnownPointerPosition=n,this._updatePointerDirectionDelta(r),this._dropContainer)this._updateActiveDropContainer(r,n);else{let i=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,o=this._activeTransform;o.x=r.x-i.x+this._passiveTransform.x,o.y=r.y-i.y+this._passiveTransform.y,this._applyRootElementTransform(o.x,o.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:r,event:e,distance:this._getDragDistance(r),delta:this._pointerDirectionDelta})})};_pointerUp=e=>{this._endDragSequence(e)};_endDragSequence(e){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:e}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let n=this._getPointerPositionOnPage(e);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(n),dropPoint:n,event:e})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(e){Nn(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let n=this._getShadowRoot(),r=this._dropContainer;if(n&&this._ngZone.runOutsideAngular(()=>{this._cleanupShadowRootSelectStart=Tt(this._renderer,n,"selectstart",hm,lm)}),r){let i=this._rootElement,o=i.parentNode,s=this._placeholder=this._createPlaceholderElement(),a=this._anchor=this._anchor||this._document.createComment("");o.insertBefore(a,i),this._initialTransform=i.style.transform||"",this._preview=new Co(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3,this._renderer),this._preview.attach(this._getPreviewInsertionPoint(o,n)),zl(i,!1,$l),this._document.body.appendChild(o.replaceChild(s,i)),this.started.next({source:this,event:e}),r.start(),this._initialContainer=r,this._initialIndex=r.getItemIndex(this)}else this.started.next({source:this,event:e}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(r?r.getScrollableParents():[])}_initializeDragSequence(e,n){this._parentDragRef&&n.stopPropagation();let r=this.isDragging(),i=Nn(n),o=!i&&n.button!==0,s=this._rootElement,a=qe(n),c=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+um>Date.now(),l=i?Al(n):Pl(n);if(a&&a.draggable&&n.type==="mousedown"&&n.preventDefault(),r||o||c||l)return;if(this._handles.length){let d=s.style;this._rootElementTapHighlight=d.webkitTapHighlightColor||"",d.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(d=>this._updateOnScroll(d)),this._boundaryElement&&(this._boundaryRect=Ro(this._boundaryElement));let u=this._previewTemplate;this._pickupPositionInElement=u&&u.template&&!u.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,e,n);let h=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(n);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:h.x,y:h.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,n)}_cleanupDragArtifacts(e){zl(this._rootElement,!0,$l),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let n=this._dropContainer,r=n.getItemIndex(this),i=this._getPointerPositionOnPage(e),o=this._getDragDistance(i),s=n._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:o,dropPoint:i,event:e}),this.dropped.next({item:this,currentIndex:r,previousIndex:this._initialIndex,container:n,previousContainer:this._initialContainer,isPointerOverContainer:s,distance:o,dropPoint:i,event:e}),n.drop(this,r,this._initialIndex,this._initialContainer,s,o,i,e),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:n},{x:r,y:i}){let o=this._initialContainer._getSiblingContainerFromPosition(this,e,n);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,n)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,e,n,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(r,i),this._dropContainer._sortItem(this,e,n,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(e,n):this._applyPreviewTransform(e-this._pickupPositionInElement.x,n-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let e=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(e.left,e.top);let n=this._preview.getTransitionDuration();return n===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(r=>{let i=a=>{(!a||this._preview&&qe(a)===this._preview.element&&a.propertyName==="transform")&&(s(),r(),clearTimeout(o))},o=setTimeout(i,n*1.5),s=this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){let e=this._placeholderTemplate,n=e?e.template:null,r;return n?(this._placeholderRef=e.viewContainer.createEmbeddedView(n,e.context),this._placeholderRef.detectChanges(),r=Zl(this._placeholderRef,this._document)):r=Gl(this._rootElement),r.style.pointerEvents="none",r.classList.add("cdk-drag-placeholder"),r}_getPointerPositionInElement(e,n,r){let i=n===this._rootElement?null:n,o=i?i.getBoundingClientRect():e,s=Nn(r)?r.targetTouches[0]:r,a=this._getViewportScrollPosition(),c=s.pageX-o.left-a.left,l=s.pageY-o.top-a.top;return{x:o.left-e.left+c,y:o.top-e.top+l}}_getPointerPositionOnPage(e){let n=this._getViewportScrollPosition(),r=Nn(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=r.pageX-n.left,o=r.pageY-n.top;if(this._ownerSVGElement){let s=this._ownerSVGElement.getScreenCTM();if(s){let a=this._ownerSVGElement.createSVGPoint();return a.x=i,a.y=o,a.matrixTransform(s.inverse())}}return{x:i,y:o}}_getConstrainedPointerPosition(e){let n=this._dropContainer?this._dropContainer.lockAxis:null,{x:r,y:i}=this.constrainPosition?this.constrainPosition(e,this,this._initialDomRect,this._pickupPositionInElement):e;if(this.lockAxis==="x"||n==="x"?i=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||n==="y")&&(r=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:o,y:s}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,a=this._boundaryRect,{width:c,height:l}=this._getPreviewRect(),u=a.top+s,h=a.bottom-(l-s),d=a.left+o,f=a.right-(c-o);r=ql(r,d,f),i=ql(i,u,h)}return{x:r,y:i}}_updatePointerDirectionDelta(e){let{x:n,y:r}=e,i=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,s=Math.abs(n-o.x),a=Math.abs(r-o.y);return s>this._config.pointerDirectionChangeThreshold&&(i.x=n>o.x?1:-1,o.x=n),a>this._config.pointerDirectionChangeThreshold&&(i.y=r>o.y?1:-1,o.y=r),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,Ye(this._rootElement,e))}_removeRootElementListeners(){this._rootElementCleanups?.forEach(e=>e()),this._rootElementCleanups=void 0}_applyRootElementTransform(e,n){let r=1/this.scale,i=Jr(e*r,n*r),o=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=o.transform&&o.transform!="none"?o.transform:""),o.transform=Qr(i,this._initialTransform)}_applyPreviewTransform(e,n){let r=this._previewTemplate?.template?void 0:this._initialTransform,i=Jr(e,n);this._preview.setTransform(Qr(i,r))}_getDragDistance(e){let n=this._pickupPositionOnPage;return n?{x:e.x-n.x,y:e.y-n.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:n}=this._passiveTransform;if(e===0&&n===0||this.isDragging()||!this._boundaryElement)return;let r=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(i.width===0&&i.height===0||r.width===0&&r.height===0)return;let o=i.left-r.left,s=r.right-i.right,a=i.top-r.top,c=r.bottom-i.bottom;i.width>r.width?(o>0&&(e+=o),s>0&&(e-=s)):e=0,i.height>r.height?(a>0&&(n+=a),c>0&&(n-=c)):n=0,(e!==this._passiveTransform.x||n!==this._passiveTransform.y)&&this.setFreeDragPosition({y:n,x:e})}_getDragStartDelay(e){let n=this.dragStartDelay;return typeof n=="number"?n:Nn(e)?n.touch:n?n.mouse:0}_updateOnScroll(e){let n=this._parentPositions.handleScroll(e);if(n){let r=qe(e);this._boundaryRect&&r!==this._boundaryElement&&r.contains(this._boundaryElement)&&Fn(this._boundaryRect,n.top,n.left),this._pickupPositionOnPage.x+=n.left,this._pickupPositionOnPage.y+=n.top,this._dropContainer||(this._activeTransform.x-=n.left,this._activeTransform.y-=n.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=On(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(e,n){let r=this._previewContainer||"global";if(r==="parent")return e;if(r==="global"){let i=this._document;return n||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return xt(r)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_nativeDragStart=e=>{if(this._handles.length){let n=this._getTargetHandle(e);n&&!this._disabledHandles.has(n)&&!this.disabled&&e.preventDefault()}else this.disabled||e.preventDefault()};_getTargetHandle(e){return this._handles.find(n=>e.target&&(e.target===n||n.contains(e.target)))}};function ql(t,e,n){return Math.max(e,Math.min(n,t))}function Nn(t){return t.type[0]==="t"}function hm(t){t.preventDefault()}function ei(t,e,n){let r=Yl(e,t.length-1),i=Yl(n,t.length-1);if(r===i)return;let o=t[r],s=i<r?-1:1;for(let a=r;a!==i;a+=s)t[a]=t[a+s];t[i]=o}function Yl(t,e){return Math.max(0,Math.min(e,t))}var ti=class{_dragDropRegistry;_element;_sortPredicate;_itemPositions=[];_activeDraggables;orientation="vertical";direction;constructor(e){this._dragDropRegistry=e}_previousSwap={drag:null,delta:0,overlaps:!1};start(e){this.withItems(e)}sort(e,n,r,i){let o=this._itemPositions,s=this._getItemIndexFromPointerPosition(e,n,r,i);if(s===-1&&o.length>0)return null;let a=this.orientation==="horizontal",c=o.findIndex(x=>x.drag===e),l=o[s],u=o[c].clientRect,h=l.clientRect,d=c>s?1:-1,f=this._getItemOffsetPx(u,h,d),_=this._getSiblingOffsetPx(c,o,d),b=o.slice();return ei(o,c,s),o.forEach((x,w)=>{if(b[w]===x)return;let P=x.drag===e,k=P?f:_,I=P?e.getPlaceholderElement():x.drag.getRootElement();x.offset+=k;let v=Math.round(x.offset*(1/x.drag.scale));a?(I.style.transform=Qr(`translate3d(${v}px, 0, 0)`,x.initialTransform),Fn(x.clientRect,0,k)):(I.style.transform=Qr(`translate3d(0, ${v}px, 0)`,x.initialTransform),Fn(x.clientRect,k,0))}),this._previousSwap.overlaps=ko(h,n,r),this._previousSwap.drag=l.drag,this._previousSwap.delta=a?i.x:i.y,{previousIndex:c,currentIndex:s}}enter(e,n,r,i){let o=i==null||i<0?this._getItemIndexFromPointerPosition(e,n,r):i,s=this._activeDraggables,a=s.indexOf(e),c=e.getPlaceholderElement(),l=s[o];if(l===e&&(l=s[o+1]),!l&&(o==null||o===-1||o<s.length-1)&&this._shouldEnterAsFirstChild(n,r)&&(l=s[0]),a>-1&&s.splice(a,1),l&&!this._dragDropRegistry.isDragging(l)){let u=l.getRootElement();u.parentElement.insertBefore(c,u),s.splice(o,0,e)}else this._element.appendChild(c),s.push(e);c.style.transform="",this._cacheItemPositions()}withItems(e){this._activeDraggables=e.slice(),this._cacheItemPositions()}withSortPredicate(e){this._sortPredicate=e}reset(){this._activeDraggables?.forEach(e=>{let n=e.getRootElement();if(n){let r=this._itemPositions.find(i=>i.drag===e)?.initialTransform;n.style.transform=r||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(e){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(r=>r.drag===e)}updateOnScroll(e,n){this._itemPositions.forEach(({clientRect:r})=>{Fn(r,e,n)}),this._itemPositions.forEach(({drag:r})=>{this._dragDropRegistry.isDragging(r)&&r._sortFromLastPointerPosition()})}withElementContainer(e){this._element=e}_cacheItemPositions(){let e=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(n=>{let r=n.getVisibleElement();return{drag:n,offset:0,initialTransform:r.style.transform||"",clientRect:Ro(r)}}).sort((n,r)=>e?n.clientRect.left-r.clientRect.left:n.clientRect.top-r.clientRect.top)}_getItemOffsetPx(e,n,r){let i=this.orientation==="horizontal",o=i?n.left-e.left:n.top-e.top;return r===-1&&(o+=i?n.width-e.width:n.height-e.height),o}_getSiblingOffsetPx(e,n,r){let i=this.orientation==="horizontal",o=n[e].clientRect,s=n[e+r*-1],a=o[i?"width":"height"]*r;if(s){let c=i?"left":"top",l=i?"right":"bottom";r===-1?a-=s.clientRect[c]-o[l]:a+=o[c]-s.clientRect[l]}return a}_shouldEnterAsFirstChild(e,n){if(!this._activeDraggables.length)return!1;let r=this._itemPositions,i=this.orientation==="horizontal";if(r[0].drag!==this._activeDraggables[0]){let s=r[r.length-1].clientRect;return i?e>=s.right:n>=s.bottom}else{let s=r[0].clientRect;return i?e<=s.left:n<=s.top}}_getItemIndexFromPointerPosition(e,n,r,i){let o=this.orientation==="horizontal",s=this._itemPositions.findIndex(({drag:a,clientRect:c})=>{if(a===e)return!1;if(i){let l=o?i.x:i.y;if(a===this._previousSwap.drag&&this._previousSwap.overlaps&&l===this._previousSwap.delta)return!1}return o?n>=Math.floor(c.left)&&n<Math.floor(c.right):r>=Math.floor(c.top)&&r<Math.floor(c.bottom)});return s===-1||!this._sortPredicate(s,e)?-1:s}},Eo=class{_document;_dragDropRegistry;_element;_sortPredicate;_rootNode;_activeItems;_previousSwap={drag:null,deltaX:0,deltaY:0,overlaps:!1};_relatedNodes=[];constructor(e,n){this._document=e,this._dragDropRegistry=n}start(e){let n=this._element.childNodes;this._relatedNodes=[];for(let r=0;r<n.length;r++){let i=n[r];this._relatedNodes.push([i,i.nextSibling])}this.withItems(e)}sort(e,n,r,i){let o=this._getItemIndexFromPointerPosition(e,n,r),s=this._previousSwap;if(o===-1||this._activeItems[o]===e)return null;let a=this._activeItems[o];if(s.drag===a&&s.overlaps&&s.deltaX===i.x&&s.deltaY===i.y)return null;let c=this.getItemIndex(e),l=e.getPlaceholderElement(),u=a.getRootElement();o>c?u.after(l):u.before(l),ei(this._activeItems,c,o);let h=this._getRootNode().elementFromPoint(n,r);return s.deltaX=i.x,s.deltaY=i.y,s.drag=a,s.overlaps=u===h||u.contains(h),{previousIndex:c,currentIndex:o}}enter(e,n,r,i){let o=i==null||i<0?this._getItemIndexFromPointerPosition(e,n,r):i;o===-1&&(o=this._getClosestItemIndexToPointer(e,n,r));let s=this._activeItems[o],a=this._activeItems.indexOf(e);a>-1&&this._activeItems.splice(a,1),s&&!this._dragDropRegistry.isDragging(s)?(this._activeItems.splice(o,0,e),s.getRootElement().before(e.getPlaceholderElement())):(this._activeItems.push(e),this._element.appendChild(e.getPlaceholderElement()))}withItems(e){this._activeItems=e.slice()}withSortPredicate(e){this._sortPredicate=e}reset(){let e=this._element,n=this._previousSwap;for(let r=this._relatedNodes.length-1;r>-1;r--){let[i,o]=this._relatedNodes[r];i.parentNode===e&&i.nextSibling!==o&&(o===null?e.appendChild(i):o.parentNode===e&&e.insertBefore(i,o))}this._relatedNodes=[],this._activeItems=[],n.drag=null,n.deltaX=n.deltaY=0,n.overlaps=!1}getActiveItemsSnapshot(){return this._activeItems}getItemIndex(e){return this._activeItems.indexOf(e)}updateOnScroll(){this._activeItems.forEach(e=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()})}withElementContainer(e){e!==this._element&&(this._element=e,this._rootNode=void 0)}_getItemIndexFromPointerPosition(e,n,r){let i=this._getRootNode().elementFromPoint(Math.floor(n),Math.floor(r)),o=i?this._activeItems.findIndex(s=>{let a=s.getRootElement();return i===a||a.contains(i)}):-1;return o===-1||!this._sortPredicate(o,e)?-1:o}_getRootNode(){return this._rootNode||(this._rootNode=On(this._element)||this._document),this._rootNode}_getClosestItemIndexToPointer(e,n,r){if(this._activeItems.length===0)return-1;if(this._activeItems.length===1)return 0;let i=1/0,o=-1;for(let s=0;s<this._activeItems.length;s++){let a=this._activeItems[s];if(a!==e){let{x:c,y:l}=a.getRootElement().getBoundingClientRect(),u=Math.hypot(n-c,r-l);u<i&&(i=u,o=s)}}return o}},jl=.05,Xl=.05,ot=function(t){return t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t}(ot||{}),K=function(t){return t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t}(K||{}),To=class{_dragDropRegistry;_ngZone;_viewportRuler;element;disabled=!1;sortingDisabled=!1;lockAxis;autoScrollDisabled=!1;autoScrollStep=2;enterPredicate=()=>!0;sortPredicate=()=>!0;beforeStarted=new R;entered=new R;exited=new R;dropped=new R;sorted=new R;receivingStarted=new R;receivingStopped=new R;data;_container;_isDragging=!1;_parentPositions;_sortStrategy;_domRect;_draggables=[];_siblings=[];_activeSiblings=new Set;_viewportScrollSubscription=jt.EMPTY;_verticalScrollDirection=ot.NONE;_horizontalScrollDirection=K.NONE;_scrollNode;_stopScrollTimers=new R;_cachedShadowRoot=null;_document;_scrollableElements=[];_initialScrollSnap;_direction="ltr";constructor(e,n,r,i,o){this._dragDropRegistry=n,this._ngZone=i,this._viewportRuler=o;let s=this.element=xt(e);this._document=r,this.withOrientation("vertical").withElementContainer(s),n.registerDropContainer(this),this._parentPositions=new Xr(r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(e,n,r,i){this._draggingStarted(),i==null&&this.sortingDisabled&&(i=this._draggables.indexOf(e)),this._sortStrategy.enter(e,n,r,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,n,r,i,o,s,a,c={}){this._reset(),this.dropped.next({item:e,currentIndex:n,previousIndex:r,container:this,previousContainer:i,isPointerOverContainer:o,distance:s,dropPoint:a,event:c})}withItems(e){let n=this._draggables;return this._draggables=e,e.forEach(r=>r._withDropContainer(this)),this.isDragging()&&(n.filter(i=>i.isDragging()).every(i=>e.indexOf(i)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(e){return this._direction=e,this._sortStrategy instanceof ti&&(this._sortStrategy.direction=e),this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){if(e==="mixed")this._sortStrategy=new Eo(this._document,this._dragDropRegistry);else{let n=new ti(this._dragDropRegistry);n.direction=this._direction,n.orientation=e,this._sortStrategy=n}return this._sortStrategy.withElementContainer(this._container),this._sortStrategy.withSortPredicate((n,r)=>this.sortPredicate(n,r,this)),this}withScrollableParents(e){let n=this._container;return this._scrollableElements=e.indexOf(n)===-1?[n,...e]:e.slice(),this}withElementContainer(e){if(e===this._container)return this;let n=xt(this.element),r=this._scrollableElements.indexOf(this._container),i=this._scrollableElements.indexOf(e);return r>-1&&this._scrollableElements.splice(r,1),i>-1&&this._scrollableElements.splice(i,1),this._sortStrategy&&this._sortStrategy.withElementContainer(e),this._cachedShadowRoot=null,this._scrollableElements.unshift(e),this._container=e,this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?this._sortStrategy.getItemIndex(e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,n,r,i){if(this.sortingDisabled||!this._domRect||!Bl(this._domRect,jl,n,r))return;let o=this._sortStrategy.sort(e,n,r,i);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:e})}_startScrollingIfNecessary(e,n){if(this.autoScrollDisabled)return;let r,i=ot.NONE,o=K.NONE;if(this._parentPositions.positions.forEach((s,a)=>{a===this._document||!s.clientRect||r||Bl(s.clientRect,jl,e,n)&&([i,o]=dm(a,s.clientRect,this._direction,e,n),(i||o)&&(r=a))}),!i&&!o){let{width:s,height:a}=this._viewportRuler.getViewportSize(),c={width:s,height:a,top:0,right:s,bottom:a,left:0};i=Ql(c,n),o=Jl(c,e),r=window}r&&(i!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||r!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=o,this._scrollNode=r,(i||o)&&r?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let e=this._container.style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(this._container).clientRect}_reset(){this._isDragging=!1;let e=this._container.style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(n=>n._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_startScrollInterval=()=>{this._stopScrolling(),Qo(0,fi).pipe(Ot(this._stopScrollTimers)).subscribe(()=>{let e=this._scrollNode,n=this.autoScrollStep;this._verticalScrollDirection===ot.UP?e.scrollBy(0,-n):this._verticalScrollDirection===ot.DOWN&&e.scrollBy(0,n),this._horizontalScrollDirection===K.LEFT?e.scrollBy(-n,0):this._horizontalScrollDirection===K.RIGHT&&e.scrollBy(n,0)})};_isOverContainer(e,n){return this._domRect!=null&&ko(this._domRect,e,n)}_getSiblingContainerFromPosition(e,n,r){return this._siblings.find(i=>i._canReceive(e,n,r))}_canReceive(e,n,r){if(!this._domRect||!ko(this._domRect,n,r)||!this.enterPredicate(e,this))return!1;let i=this._getShadowRoot().elementFromPoint(n,r);return i?i===this._container||this._container.contains(i):!1}_startReceiving(e,n){let r=this._activeSiblings;!r.has(e)&&n.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(r.add(e),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:e,receiver:this,items:n}))}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:e,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(e=>{if(this.isDragging()){let n=this._parentPositions.handleScroll(e);n&&this._sortStrategy.updateOnScroll(n.top,n.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let e=On(this._container);this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let e=this._sortStrategy.getActiveItemsSnapshot().filter(n=>n.isDragging());this._siblings.forEach(n=>n._startReceiving(this,e))}};function Ql(t,e){let{top:n,bottom:r,height:i}=t,o=i*Xl;return e>=n-o&&e<=n+o?ot.UP:e>=r-o&&e<=r+o?ot.DOWN:ot.NONE}function Jl(t,e){let{left:n,right:r,width:i}=t,o=i*Xl;return e>=n-o&&e<=n+o?K.LEFT:e>=r-o&&e<=r+o?K.RIGHT:K.NONE}function dm(t,e,n,r,i){let o=Ql(e,i),s=Jl(e,r),a=ot.NONE,c=K.NONE;if(o){let l=t.scrollTop;o===ot.UP?l>0&&(a=ot.UP):t.scrollHeight-l>t.clientHeight&&(a=ot.DOWN)}if(s){let l=t.scrollLeft;n==="rtl"?s===K.RIGHT?l<0&&(c=K.RIGHT):t.scrollWidth+l>t.clientWidth&&(c=K.LEFT):s===K.LEFT?l>0&&(c=K.LEFT):t.scrollWidth-l>t.clientWidth&&(c=K.RIGHT)}return[a,c]}var Ln={capture:!0},So={passive:!1,capture:!0},fm=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Te({type:t,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],decls:0,vars:0,template:function(r,i){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit;inset:auto}}.cdk-drag-placeholder *,.cdk-drag-preview *{pointer-events:none !important}"],encapsulation:2,changeDetection:0})}return t})(),Po=(()=>{class t{_ngZone=g(rt);_document=g(bt);_styleLoader=g(Dl);_renderer=g(Gt).createRenderer(null,null);_cleanupDocumentTouchmove;_dropInstances=new Set;_dragInstances=new Set;_activeDragInstances=Qn([]);_globalListeners;_draggingPredicate=n=>n.isDragging();_domNodesToDirectives=null;pointerMove=new R;pointerUp=new R;scroll=new R;constructor(){}registerDropContainer(n){this._dropInstances.has(n)||this._dropInstances.add(n)}registerDragItem(n){this._dragInstances.add(n),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._cleanupDocumentTouchmove?.(),this._cleanupDocumentTouchmove=Tt(this._renderer,this._document,"touchmove",this._persistentTouchmoveListener,So)})}removeDropContainer(n){this._dropInstances.delete(n)}removeDragItem(n){this._dragInstances.delete(n),this.stopDragging(n),this._dragInstances.size===0&&this._cleanupDocumentTouchmove?.()}startDragging(n,r){if(!(this._activeDragInstances().indexOf(n)>-1)&&(this._styleLoader.load(fm),this._activeDragInstances.update(i=>[...i,n]),this._activeDragInstances().length===1)){let i=r.type.startsWith("touch"),o=a=>this.pointerUp.next(a),s=[["scroll",a=>this.scroll.next(a),Ln],["selectstart",this._preventDefaultWhileDragging,So]];i?s.push(["touchend",o,Ln],["touchcancel",o,Ln]):s.push(["mouseup",o,Ln]),i||s.push(["mousemove",a=>this.pointerMove.next(a),So]),this._ngZone.runOutsideAngular(()=>{this._globalListeners=s.map(([a,c,l])=>Tt(this._renderer,this._document,a,c,l))})}}stopDragging(n){this._activeDragInstances.update(r=>{let i=r.indexOf(n);return i>-1?(r.splice(i,1),[...r]):r}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(n){return this._activeDragInstances().indexOf(n)>-1}scrolled(n){let r=[this.scroll];return n&&n!==this._document&&r.push(new Kt(i=>this._ngZone.runOutsideAngular(()=>{let o=Tt(this._renderer,n,"scroll",s=>{this._activeDragInstances().length&&i.next(s)},Ln);return()=>{o()}}))),Gn(...r)}registerDirectiveNode(n,r){this._domNodesToDirectives??=new WeakMap,this._domNodesToDirectives.set(n,r)}removeDirectiveNode(n){this._domNodesToDirectives?.delete(n)}getDragDirectiveForNode(n){return this._domNodesToDirectives?.get(n)||null}ngOnDestroy(){this._dragInstances.forEach(n=>this.removeDragItem(n)),this._dropInstances.forEach(n=>this.removeDropContainer(n)),this._domNodesToDirectives=null,this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_preventDefaultWhileDragging=n=>{this._activeDragInstances().length>0&&n.preventDefault()};_persistentTouchmoveListener=n=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&n.preventDefault(),this.pointerMove.next(n))};_clearGlobalListeners(){this._globalListeners?.forEach(n=>n()),this._globalListeners=void 0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pm={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Ao=(()=>{class t{_document=g(bt);_ngZone=g(rt);_viewportRuler=g(Cl);_dragDropRegistry=g(Po);_renderer=g(Gt).createRenderer(null,null);constructor(){}createDrag(n,r=pm){return new Do(n,r,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry,this._renderer)}createDropList(n){return new To(n,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Io=new pt("CDK_DRAG_PARENT");var tu=new pt("CdkDragHandle"),eu=(()=>{class t{element=g(Nt);_parentDrag=g(Io,{optional:!0,skipSelf:!0});_dragDropRegistry=g(Po);_stateChanges=new R;get disabled(){return this._disabled}set disabled(n){this._disabled=n,this._stateChanges.next(this)}_disabled=!1;constructor(){this._parentDrag?._addHandle(this)}ngAfterViewInit(){if(!this._parentDrag){let n=this.element.nativeElement.parentElement;for(;n;){let r=this._dragDropRegistry.getDragDirectiveForNode(n);if(r){this._parentDrag=r,r._addHandle(this);break}n=n.parentElement}}}ngOnDestroy(){this._parentDrag?._removeHandle(this),this._stateChanges.complete()}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Zt({type:t,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:[2,"cdkDragHandleDisabled","disabled",Ft]},features:[Me([{provide:tu,useExisting:t}]),Ie]})}return t})(),nu=new pt("CDK_DRAG_CONFIG"),ru=new pt("CdkDropList"),iu=(()=>{class t{element=g(Nt);dropContainer=g(ru,{optional:!0,skipSelf:!0});_ngZone=g(rt);_viewContainerRef=g(_i);_dir=g(Kr,{optional:!0});_changeDetectorRef=g(rr);_selfHandle=g(tu,{optional:!0,self:!0});_parentDrag=g(Io,{optional:!0,skipSelf:!0});_dragDropRegistry=g(Po);_destroyed=new R;_handles=new Qe([]);_previewTemplate;_placeholderTemplate;_dragRef;data;lockAxis;rootElementSelector;boundaryElement;dragStartDelay;freeDragPosition;get disabled(){return this._disabled||!!(this.dropContainer&&this.dropContainer.disabled)}set disabled(n){this._disabled=n,this._dragRef.disabled=this._disabled}_disabled;constrainPosition;previewClass;previewContainer;scale=1;started=new X;released=new X;ended=new X;entered=new X;exited=new X;dropped=new X;moved=new Kt(n=>{let r=this._dragRef.moved.pipe(Je(i=>({source:this,pointerPosition:i.pointerPosition,event:i.event,delta:i.delta,distance:i.distance}))).subscribe(n);return()=>{r.unsubscribe()}});_injector=g(Ee);constructor(){let n=this.dropContainer,r=g(nu,{optional:!0}),i=g(Ao);this._dragRef=i.createDrag(this.element,{dragStartThreshold:r&&r.dragStartThreshold!=null?r.dragStartThreshold:5,pointerDirectionChangeThreshold:r&&r.pointerDirectionChangeThreshold!=null?r.pointerDirectionChangeThreshold:5,zIndex:r?.zIndex}),this._dragRef.data=this,this._dragDropRegistry.registerDirectiveNode(this.element.nativeElement,this),r&&this._assignDefaults(r),n&&(this._dragRef._withDropContainer(n._dropListRef),n.addItem(this),n._dropListRef.beforeStarted.pipe(Ot(this._destroyed)).subscribe(()=>{this._dragRef.scale=this.scale})),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(n){this._dragRef.setFreeDragPosition(n)}ngAfterViewInit(){Jn(()=>{this._updateRootElement(),this._setupHandlesListener(),this._dragRef.scale=this.scale,this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(n){let r=n.rootElementSelector,i=n.freeDragPosition;r&&!r.firstChange&&this._updateRootElement(),this._dragRef.scale=this.scale,i&&!i.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this),this._dragDropRegistry.removeDirectiveNode(this.element.nativeElement),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(n){let r=this._handles.getValue();r.push(n),this._handles.next(r)}_removeHandle(n){let r=this._handles.getValue(),i=r.indexOf(n);i>-1&&(r.splice(i,1),this._handles.next(r))}_setPreviewTemplate(n){this._previewTemplate=n}_resetPreviewTemplate(n){n===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(n){this._placeholderTemplate=n}_resetPlaceholderTemplate(n){n===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let n=this.element.nativeElement,r=n;this.rootElementSelector&&(r=n.closest!==void 0?n.closest(this.rootElementSelector):n.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(r||n)}_getBoundaryElement(){let n=this.boundaryElement;return n?typeof n=="string"?this.element.nativeElement.closest(n):xt(n):null}_syncInputs(n){n.beforeStarted.subscribe(()=>{if(!n.isDragging()){let r=this._dir,i=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,s=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;n.disabled=this.disabled,n.lockAxis=this.lockAxis,n.scale=this.scale,n.dragStartDelay=typeof i=="object"&&i?i:jr(i),n.constrainPosition=this.constrainPosition,n.previewClass=this.previewClass,n.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(s).withPreviewContainer(this.previewContainer||"global"),r&&n.withDirection(r.value)}}),n.beforeStarted.pipe(Zn(1)).subscribe(()=>{if(this._parentDrag){n.withParent(this._parentDrag._dragRef);return}let r=this.element.nativeElement.parentElement;for(;r;){let i=this._dragDropRegistry.getDragDirectiveForNode(r);if(i){n.withParent(i._dragRef);break}r=r.parentElement}})}_handleEvents(n){n.started.subscribe(r=>{this.started.emit({source:this,event:r.event}),this._changeDetectorRef.markForCheck()}),n.released.subscribe(r=>{this.released.emit({source:this,event:r.event})}),n.ended.subscribe(r=>{this.ended.emit({source:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),n.entered.subscribe(r=>{this.entered.emit({container:r.container.data,item:this,currentIndex:r.currentIndex})}),n.exited.subscribe(r=>{this.exited.emit({container:r.container.data,item:this})}),n.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,isPointerOverContainer:r.isPointerOverContainer,item:this,distance:r.distance,dropPoint:r.dropPoint,event:r.event})})}_assignDefaults(n){let{lockAxis:r,dragStartDelay:i,constrainPosition:o,previewClass:s,boundaryElement:a,draggingDisabled:c,rootElementSelector:l,previewContainer:u}=n;this.disabled=c??!1,this.dragStartDelay=i||0,r&&(this.lockAxis=r),o&&(this.constrainPosition=o),s&&(this.previewClass=s),a&&(this.boundaryElement=a),l&&(this.rootElementSelector=l),u&&(this.previewContainer=u)}_setupHandlesListener(){this._handles.pipe(ns(n=>{let r=n.map(i=>i.element);this._selfHandle&&this.rootElementSelector&&r.push(this.element),this._dragRef.withHandles(r)}),mi(n=>Gn(...n.map(r=>r._stateChanges.pipe(De(r))))),Ot(this._destroyed)).subscribe(n=>{let r=this._dragRef,i=n.element.nativeElement;n.disabled?r.disableHandle(i):r.enableHandle(i)})}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Zt({type:t,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(r,i){r&2&&nr("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:[0,"cdkDragData","data"],lockAxis:[0,"cdkDragLockAxis","lockAxis"],rootElementSelector:[0,"cdkDragRootElement","rootElementSelector"],boundaryElement:[0,"cdkDragBoundary","boundaryElement"],dragStartDelay:[0,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[0,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[2,"cdkDragDisabled","disabled",Ft],constrainPosition:[0,"cdkDragConstrainPosition","constrainPosition"],previewClass:[0,"cdkDragPreviewClass","previewClass"],previewContainer:[0,"cdkDragPreviewContainer","previewContainer"],scale:[2,"cdkDragScale","scale",gs]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[Me([{provide:Io,useExisting:t}]),Ie,Xn]})}return t})(),Kl=new pt("CdkDropListGroup");var ou=(()=>{class t{element=g(Nt);_changeDetectorRef=g(rr);_scrollDispatcher=g(kl);_dir=g(Kr,{optional:!0});_group=g(Kl,{optional:!0,skipSelf:!0});_destroyed=new R;_scrollableParentsResolved;static _dropLists=[];_dropListRef;connectedTo=[];data;orientation;id=g(Ol).getId("cdk-drop-list-");lockAxis;get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(n){this._dropListRef.disabled=this._disabled=n}_disabled;sortingDisabled;enterPredicate=()=>!0;sortPredicate=()=>!0;autoScrollDisabled;autoScrollStep;elementContainerSelector;dropped=new X;entered=new X;exited=new X;sorted=new X;_unsortedItems=new Set;constructor(){let n=g(Ao),r=g(nu,{optional:!0});this._dropListRef=n.createDropList(this.element),this._dropListRef.data=this,r&&this._assignDefaults(r),this._dropListRef.enterPredicate=(i,o)=>this.enterPredicate(i.data,o.data),this._dropListRef.sortPredicate=(i,o,s)=>this.sortPredicate(i,o.data,s.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),t._dropLists.push(this),this._group&&this._group._items.add(this)}addItem(n){this._unsortedItems.add(n),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(n){this._unsortedItems.delete(n),this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((n,r)=>n._dragRef.getVisibleElement().compareDocumentPosition(r._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let n=t._dropLists.indexOf(this);n>-1&&t._dropLists.splice(n,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(n){this._dir&&this._dir.change.pipe(De(this._dir.value),Ot(this._destroyed)).subscribe(r=>n.withDirection(r)),n.beforeStarted.subscribe(()=>{let r=An(this.connectedTo).map(i=>{if(typeof i=="string"){let o=t._dropLists.find(s=>s.id===i);return o}return i});if(this._group&&this._group._items.forEach(i=>{r.indexOf(i)===-1&&r.push(i)}),!this._scrollableParentsResolved){let i=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(o=>o.getElementRef().nativeElement);this._dropListRef.withScrollableParents(i),this._scrollableParentsResolved=!0}if(this.elementContainerSelector){let i=this.element.nativeElement.querySelector(this.elementContainerSelector);n.withElementContainer(i)}n.disabled=this.disabled,n.lockAxis=this.lockAxis,n.sortingDisabled=this.sortingDisabled,n.autoScrollDisabled=this.autoScrollDisabled,n.autoScrollStep=jr(this.autoScrollStep,2),n.connectedTo(r.filter(i=>i&&i!==this).map(i=>i._dropListRef)).withOrientation(this.orientation)})}_handleEvents(n){n.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),n.entered.subscribe(r=>{this.entered.emit({container:this,item:r.item.data,currentIndex:r.currentIndex})}),n.exited.subscribe(r=>{this.exited.emit({container:this,item:r.item.data}),this._changeDetectorRef.markForCheck()}),n.sorted.subscribe(r=>{this.sorted.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,container:this,item:r.item.data})}),n.dropped.subscribe(r=>{this.dropped.emit({previousIndex:r.previousIndex,currentIndex:r.currentIndex,previousContainer:r.previousContainer.data,container:r.container.data,item:r.item.data,isPointerOverContainer:r.isPointerOverContainer,distance:r.distance,dropPoint:r.dropPoint,event:r.event}),this._changeDetectorRef.markForCheck()}),Gn(n.receivingStarted,n.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(n){let{lockAxis:r,draggingDisabled:i,sortingDisabled:o,listAutoScrollDisabled:s,listOrientation:a}=n;this.disabled=i??!1,this.sortingDisabled=o??!1,this.autoScrollDisabled=s??!1,this.orientation=a||"vertical",r&&(this.lockAxis=r)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(n=>n._dragRef))}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Zt({type:t,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(r,i){r&2&&(yi("id",i.id),nr("cdk-drop-list-disabled",i.disabled)("cdk-drop-list-dragging",i._dropListRef.isDragging())("cdk-drop-list-receiving",i._dropListRef.isReceiving()))},inputs:{connectedTo:[0,"cdkDropListConnectedTo","connectedTo"],data:[0,"cdkDropListData","data"],orientation:[0,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[0,"cdkDropListLockAxis","lockAxis"],disabled:[2,"cdkDropListDisabled","disabled",Ft],sortingDisabled:[2,"cdkDropListSortingDisabled","sortingDisabled",Ft],enterPredicate:[0,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[0,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[2,"cdkDropListAutoScrollDisabled","autoScrollDisabled",Ft],autoScrollStep:[0,"cdkDropListAutoScrollStep","autoScrollStep"],elementContainerSelector:[0,"cdkDropListElementContainer","elementContainerSelector"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],features:[Me([{provide:Kl,useValue:void 0},{provide:ru,useExisting:t}]),Ie]})}return t})();var su=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=mt({type:t});static \u0275inj=ft({providers:[Ao],imports:[Gr]})}return t})();var ni=class t{constructor(e){this.http=e}apiUrl="http://localhost:5000/api/stocks";getUserStocks(){return this.http.get(`${this.apiUrl}/user-stocks`)}saveUserStocks(e){return this.http.post(`${this.apiUrl}/user-stocks`,{stocks:e})}searchStocks(e){return this.http.get(`${this.apiUrl}/search?q=${e}`)}getStockDetails(e){return this.http.get(`${this.apiUrl}/details/${e}`)}static \u0275fac=function(n){return new(n||t)(rs(Cs))};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})};var ht=Object.create(null);ht.open="0";ht.close="1";ht.ping="2";ht.pong="3";ht.message="4";ht.upgrade="5";ht.noop="6";var Bn=Object.create(null);Object.keys(ht).forEach(t=>{Bn[ht[t]]=t});var zn={type:"error",data:"parser error"};var lu=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",uu=typeof ArrayBuffer=="function",hu=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Vn=({type:t,data:e},n,r)=>lu&&e instanceof Blob?n?r(e):au(e,r):uu&&(e instanceof ArrayBuffer||hu(e))?n?r(e):au(new Blob([e]),r):r(ht[t]+(e||"")),au=(t,e)=>{let n=new FileReader;return n.onload=function(){let r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function cu(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}var Oo;function du(t,e){if(lu&&t.data instanceof Blob)return t.data.arrayBuffer().then(cu).then(e);if(uu&&(t.data instanceof ArrayBuffer||hu(t.data)))return e(cu(t.data));Vn(t,!1,n=>{Oo||(Oo=new TextEncoder),e(Oo.encode(n))})}var fu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Un=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<fu.length;t++)Un[fu.charCodeAt(t)]=t;var pu=t=>{let e=t.length*.75,n=t.length,r,i=0,o,s,a,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);let l=new ArrayBuffer(e),u=new Uint8Array(l);for(r=0;r<n;r+=4)o=Un[t.charCodeAt(r)],s=Un[t.charCodeAt(r+1)],a=Un[t.charCodeAt(r+2)],c=Un[t.charCodeAt(r+3)],u[i++]=o<<2|s>>4,u[i++]=(s&15)<<4|a>>2,u[i++]=(a&3)<<6|c&63;return l};var _m=typeof ArrayBuffer=="function",Hn=(t,e)=>{if(typeof t!="string")return{type:"message",data:mu(t,e)};let n=t.charAt(0);return n==="b"?{type:"message",data:ym(t.substring(1),e)}:Bn[n]?t.length>1?{type:Bn[n],data:t.substring(1)}:{type:Bn[n]}:zn},ym=(t,e)=>{if(_m){let n=pu(t);return mu(n,e)}else return{base64:!0,data:t}},mu=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}};var gu="",_u=(t,e)=>{let n=t.length,r=new Array(n),i=0;t.forEach((o,s)=>{Vn(o,!1,a=>{r[s]=a,++i===n&&e(r.join(gu))})})},yu=(t,e)=>{let n=t.split(gu),r=[];for(let i=0;i<n.length;i++){let o=Hn(n[i],e);if(r.push(o),o.type==="error")break}return r};function vu(){return new TransformStream({transform(t,e){du(t,n=>{let r=n.length,i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);let o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);let o=new DataView(i.buffer);o.setUint8(0,127),o.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}var No;function ri(t){return t.reduce((e,n)=>e+n.length,0)}function ii(t,e){if(t[0].length===e)return t.shift();let n=new Uint8Array(e),r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function xu(t,e){No||(No=new TextDecoder);let n=[],r=0,i=-1,o=!1;return new TransformStream({transform(s,a){for(n.push(s);;){if(r===0){if(ri(n)<1)break;let c=ii(n,1);o=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(ri(n)<2)break;let c=ii(n,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(ri(n)<8)break;let c=ii(n,8),l=new DataView(c.buffer,c.byteOffset,c.length),u=l.getUint32(0);if(u>Math.pow(2,21)-1){a.enqueue(zn);break}i=u*Math.pow(2,32)+l.getUint32(4),r=3}else{if(ri(n)<i)break;let c=ii(n,i);a.enqueue(Hn(o?c:No.decode(c),e)),r=0}if(i===0||i>t){a.enqueue(zn);break}}}})}var Lo=4;function N(t){if(t)return vm(t)}function vm(t){for(var e in N.prototype)t[e]=N.prototype[e];return t}N.prototype.on=N.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};N.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};N.prototype.off=N.prototype.removeListener=N.prototype.removeAllListeners=N.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};N.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};N.prototype.emitReserved=N.prototype.emit;N.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};N.prototype.hasListeners=function(t){return!!this.listeners(t).length};var It=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),G=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),bu="arraybuffer";function oi(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}var xm=G.setTimeout,bm=G.clearTimeout;function Rt(t,e){e.useNativeTimers?(t.setTimeoutFn=xm.bind(G),t.clearTimeoutFn=bm.bind(G)):(t.setTimeoutFn=G.setTimeout.bind(G),t.clearTimeoutFn=G.clearTimeout.bind(G))}var wm=1.33;function wu(t){return typeof t=="string"?Sm(t):Math.ceil((t.byteLength||t.size)*wm)}function Sm(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function si(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Su(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function ku(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let o=n[r].split("=");e[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return e}var ai=class extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}},Mt=class extends N{constructor(e){super(),this.writable=!1,Rt(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new ai(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){let n=Hn(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){let e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){let n=Su(e);return n.length?"?"+n:""}};var Wn=class extends Mt{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";let n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){let n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};yu(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){let e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,_u(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){let e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=si()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}};var Cu=!1;try{Cu=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}var Du=Cu;function km(){}var Fo=class extends Wn{constructor(e){if(super(e),typeof location<"u"){let n=location.protocol==="https:",r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){let r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,o)=>{this.onError("xhr post error",i,o)})}doPoll(){let e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}},ci=(()=>{class t extends N{constructor(n,r,i){super(),this.createRequest=n,Rt(this,i),this._opts=i,this._method=i.method||"GET",this._uri=r,this._data=i.data!==void 0?i.data:null,this._create()}_create(){var n;let r=oi(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;let i=this._xhr=this.createRequest(r);try{i.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){i.setDisableHeaderCheck&&i.setDisableHeaderCheck(!0);for(let o in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&i.setRequestHeader(o,this._opts.extraHeaders[o])}}catch{}if(this._method==="POST")try{i.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{i.setRequestHeader("Accept","*/*")}catch{}(n=this._opts.cookieJar)===null||n===void 0||n.addCookies(i),"withCredentials"in i&&(i.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(i.timeout=this._opts.requestTimeout),i.onreadystatechange=()=>{var o;i.readyState===3&&((o=this._opts.cookieJar)===null||o===void 0||o.parseCookies(i.getResponseHeader("set-cookie"))),i.readyState===4&&(i.status===200||i.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof i.status=="number"?i.status:0)},0))},i.send(this._data)}catch(o){this.setTimeoutFn(()=>{this._onError(o)},0);return}typeof document<"u"&&(this._index=t.requestsCount++,t.requests[this._index]=this)}_onError(n){this.emitReserved("error",n,this._xhr),this._cleanup(!0)}_cleanup(n){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=km,n)try{this._xhr.abort()}catch{}typeof document<"u"&&delete t.requests[this._index],this._xhr=null}}_onLoad(){let n=this._xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}return t.requestsCount=0,t.requests={},t})();if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Eu);else if(typeof addEventListener=="function"){let t="onpagehide"in G?"pagehide":"unload";addEventListener(t,Eu,!1)}}function Eu(){for(let t in ci.requests)ci.requests.hasOwnProperty(t)&&ci.requests[t].abort()}var Cm=function(){let t=Tu({xdomain:!1});return t&&t.responseType!==null}(),$t=class extends Fo{constructor(e){super(e);let n=e&&e.forceBase64;this.supportsBinary=Cm&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new ci(Tu,this.uri(),e)}};function Tu(t){let e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Du))return new XMLHttpRequest}catch{}if(!e)try{return new G[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}var Iu=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative",zo=class extends Mt{get name(){return"websocket"}doOpen(){let e=this.uri(),n=this.opts.protocols,r=Iu?{}:oi(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){let r=e[n],i=n===e.length-1;Vn(r,this.supportsBinary,o=>{try{this.doWrite(r,o)}catch{}i&&It(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){let e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=si()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}},Bo=G.WebSocket||G.MozWebSocket,qt=class extends zo{createSocket(e,n,r){return Iu?new Bo(e,n,r):n?new Bo(e,n):new Bo(e)}doWrite(e,n){this.ws.send(n)}};var je=class extends Mt{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{let n=xu(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=vu();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();let o=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),o())}).catch(a=>{})};o();let s={type:"open"};this.query.sid&&(s.data=`{"sid":"${this.query.sid}"}`),this._writer.write(s).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){let r=e[n],i=n===e.length-1;this._writer.write(r).then(()=>{i&&It(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}};var Vo={websocket:qt,webtransport:je,polling:$t};var Dm=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Em=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Ke(t){if(t.length>8e3)throw"URI too long";let e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=Dm.exec(t||""),o={},s=14;for(;s--;)o[Em[s]]=i[s]||"";return n!=-1&&r!=-1&&(o.source=e,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=Tm(o,o.path),o.queryKey=Im(o,o.query),o}function Tm(t,e){let n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Im(t,e){let n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,o){i&&(n[i]=o)}),n}var Uo=typeof addEventListener=="function"&&typeof removeEventListener=="function",li=[];Uo&&addEventListener("offline",()=>{li.forEach(t=>t())},!1);var ui=(()=>{class t extends N{constructor(n,r){if(super(),this.binaryType=bu,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,n&&typeof n=="object"&&(r=n,n=null),n){let i=Ke(n);r.hostname=i.host,r.secure=i.protocol==="https"||i.protocol==="wss",r.port=i.port,i.query&&(r.query=i.query)}else r.host&&(r.hostname=Ke(r.host).host);Rt(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(i=>{let o=i.prototype.name;this.transports.push(o),this._transportsByName[o]=i}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=ku(this.opts.query)),Uo&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},li.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(n){let r=Object.assign({},this.opts.query);r.EIO=Lo,r.transport=n,this.id&&(r.sid=this.id);let i=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new this._transportsByName[n](i)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}let n=this.opts.rememberUpgrade&&t.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";let r=this.createTransport(n);r.open(),this.setTransport(r)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",t.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":let r=new Error("server error");r.code=n.data,this._onError(r);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this._pingInterval=n.pingInterval,this._pingTimeout=n.pingTimeout,this._maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);let n=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+n,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},n),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){let n=this._getWritablePackets();this.transport.send(n),this._prevBufferLen=n.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let i=0;i<this.writeBuffer.length;i++){let o=this.writeBuffer[i].data;if(o&&(r+=wu(o)),i>0&&r>this._maxPayload)return this.writeBuffer.slice(0,i);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;let n=Date.now()>this._pingTimeoutTime;return n&&(this._pingTimeoutTime=0,It(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),n}write(n,r,i){return this._sendPacket("message",n,r,i),this}send(n,r,i){return this._sendPacket("message",n,r,i),this}_sendPacket(n,r,i,o){if(typeof r=="function"&&(o=r,r=void 0),typeof i=="function"&&(o=i,i=null),this.readyState==="closing"||this.readyState==="closed")return;i=i||{},i.compress=i.compress!==!1;let s={type:n,data:r,options:i};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),o&&this.once("flush",o),this.flush()}close(){let n=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),n()},i=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?i():n()}):this.upgrading?i():n()),this}_onError(n){if(t.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",n),this._onClose("transport error",n)}_onClose(n,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Uo&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){let i=li.indexOf(this._offlineEventListener);i!==-1&&li.splice(i,1)}this.readyState="closed",this.id=null,this.emitReserved("close",n,r),this.writeBuffer=[],this._prevBufferLen=0}}}return t.protocol=Lo,t})(),hi=class extends ui{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;ui.priorWebsocketSuccess=!1;let i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!r)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;ui.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(u(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{let d=new Error("probe error");d.transport=n.name,this.emitReserved("upgradeError",d)}}))};function o(){r||(r=!0,u(),n.close(),n=null)}let s=h=>{let d=new Error("probe error: "+h);d.transport=n.name,o(),this.emitReserved("upgradeError",d)};function a(){s("transport closed")}function c(){s("socket closed")}function l(h){n&&h.name!==n.name&&o()}let u=()=>{n.removeListener("open",i),n.removeListener("error",s),n.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};n.once("open",i),n.once("error",s),n.once("close",a),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){let n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}},Ge=class extends hi{constructor(e,n={}){let r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>Vo[i]).filter(i=>!!i)),super(e,r)}};var rD=Ge.protocol;function Ru(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=Ke(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";let o=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+e,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}var jo={};Yu(jo,{Decoder:()=>qo,Encoder:()=>$o,PacketType:()=>D,protocol:()=>Nu});var Mm=typeof ArrayBuffer=="function",Pm=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Mu=Object.prototype.toString,Am=typeof Blob=="function"||typeof Blob<"u"&&Mu.call(Blob)==="[object BlobConstructor]",Om=typeof File=="function"||typeof File<"u"&&Mu.call(File)==="[object FileConstructor]";function qn(t){return Mm&&(t instanceof ArrayBuffer||Pm(t))||Am&&t instanceof Blob||Om&&t instanceof File}function $n(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if($n(t[n]))return!0;return!1}if(qn(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return $n(t.toJSON(),!0);for(let n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&$n(t[n]))return!0;return!1}function Pu(t){let e=[],n=t.data,r=t;return r.data=Ho(n,e),r.attachments=e.length,{packet:r,buffers:e}}function Ho(t,e){if(!t)return t;if(qn(t)){let n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){let n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=Ho(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){let n={};for(let r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=Ho(t[r],e));return n}return t}function Au(t,e){return t.data=Wo(t.data,e),delete t.attachments,t}function Wo(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Wo(t[n],e);else if(typeof t=="object")for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Wo(t[n],e));return t}var Nm=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Nu=5,D=function(t){return t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK",t}(D||{}),$o=class{constructor(e){this.replacer=e}encode(e){return(e.type===D.EVENT||e.type===D.ACK)&&$n(e)?this.encodeAsBinary({type:e.type===D.EVENT?D.BINARY_EVENT:D.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===D.BINARY_EVENT||e.type===D.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){let n=Pu(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}};function Ou(t){return Object.prototype.toString.call(t)==="[object Object]"}var qo=class t extends N{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);let r=n.type===D.BINARY_EVENT;r||n.type===D.BINARY_ACK?(n.type=r?D.EVENT:D.ACK,this.reconstructor=new Yo(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(qn(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0,r={type:Number(e.charAt(0))};if(D[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===D.BINARY_EVENT||r.type===D.BINARY_ACK){let o=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);let s=e.substring(o,n);if(s!=Number(s)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(s)}if(e.charAt(n+1)==="/"){let o=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(o,n)}else r.nsp="/";let i=e.charAt(n+1);if(i!==""&&Number(i)==i){let o=n+1;for(;++n;){let s=e.charAt(n);if(s==null||Number(s)!=s){--n;break}if(n===e.length)break}r.id=Number(e.substring(o,n+1))}if(e.charAt(++n)){let o=this.tryParse(e.substr(n));if(t.isPayloadValid(r.type,o))r.data=o;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case D.CONNECT:return Ou(n);case D.DISCONNECT:return n===void 0;case D.CONNECT_ERROR:return typeof n=="string"||Ou(n);case D.EVENT:case D.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Nm.indexOf(n[0])===-1);case D.ACK:case D.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}},Yo=class{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){let n=Au(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}};function nt(t,e,n){return t.on(e,n),function(){t.off(e,n)}}var Lm=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),Ze=class extends N{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;let e=this.io;this.subs=[nt(e,"open",this.onopen.bind(this)),nt(e,"packet",this.onpacket.bind(this)),nt(e,"error",this.onerror.bind(this)),nt(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,i,o;if(Lm.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;let s={type:D.EVENT,data:n};if(s.options={},s.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){let u=this.ids++,h=n.pop();this._registerAckCallback(u,h),s.id=u}let a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((o=this.io.engine)===null||o===void 0)&&o._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}_registerAckCallback(e,n){var r;let i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}let o=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},i),s=(...a)=>{this.io.clearTimeoutFn(o),n.apply(this,a)};s.withError=!0,this.acks[e]=s}emitWithAck(e,...n){return new Promise((r,i)=>{let o=(s,a)=>s?i(s):r(a);o.withError=!0,n.push(o),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());let r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...o)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...o)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;let n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:D.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){let r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case D.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case D.EVENT:case D.BINARY_EVENT:this.onevent(e);break;case D.ACK:case D.BINARY_ACK:this.onack(e);break;case D.DISCONNECT:this.ondisconnect();break;case D.CONNECT_ERROR:this.destroy();let r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){let n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){let n=this._anyListeners.slice();for(let r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){let n=this,r=!1;return function(...i){r||(r=!0,n.packet({type:D.ACK,id:e,data:i}))}}onack(e){let n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:D.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){let n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){let n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){let n=this._anyOutgoingListeners.slice();for(let r of n)r.apply(this,e.data)}}};function we(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}we.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};we.prototype.reset=function(){this.attempts=0};we.prototype.setMin=function(t){this.ms=t};we.prototype.setMax=function(t){this.max=t};we.prototype.setJitter=function(t){this.jitter=t};var Xe=class extends N{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Rt(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new we({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;let i=n.parser||jo;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Ge(this.uri,this.opts);let n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;let i=nt(n,"open",function(){r.onopen(),e&&e()}),o=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},s=nt(n,"error",o);if(this._timeout!==!1){let a=this._timeout,c=this.setTimeoutFn(()=>{i(),o(new Error("timeout")),n.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");let e=this.engine;this.subs.push(nt(e,"ping",this.onping.bind(this)),nt(e,"data",this.ondata.bind(this)),nt(e,"error",this.onerror.bind(this)),nt(e,"close",this.onclose.bind(this)),nt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){It(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new Ze(this,e,n),this.nsps[e]=r),r}_destroy(e){let n=Object.keys(this.nsps);for(let r of n)if(this.nsps[r].active)return;this._close()}_packet(e){let n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;let e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{let n=this.backoff.duration();this._reconnecting=!0;let r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){let e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}};var Yn={};function jn(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};let n=Ru(t,e.path||"/socket.io"),r=n.source,i=n.id,o=n.path,s=Yn[i]&&o in Yn[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||s,c;return a?c=new Xe(r,e):(Yn[i]||(Yn[i]=new Xe(r,e)),c=Yn[i]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}Object.assign(jn,{Manager:Xe,Socket:Ze,io:jn,connect:jn});var di=class t{socket;stockUpdatesSubject=new Qe(null);allStockUpdatesSubject=new Qe([]);isConnected=!1;constructor(){this.socket=jn("http://localhost:5000"),this.socket.on("connect",()=>{console.log("Connected to WebSocket server"),this.isConnected=!0}),this.socket.on("disconnect",()=>{console.log("Disconnected from WebSocket server"),this.isConnected=!1}),this.socket.on("stockUpdate",e=>{console.log("Received stock update:",e),this.stockUpdatesSubject.next(e)}),this.socket.on("allStockUpdates",e=>{console.log("Received all stock updates:",e),this.allStockUpdatesSubject.next(e)})}subscribeToStocks(e){this.isConnected&&e.length>0&&(console.log("Subscribing to stocks:",e),this.socket.emit("subscribe",e))}unsubscribeFromStocks(e){this.isConnected&&e.length>0&&(console.log("Unsubscribing from stocks:",e),this.socket.emit("unsubscribe",e))}getStockUpdates(){return this.stockUpdatesSubject.asObservable()}static \u0275fac=function(n){return new(n||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})};function Bm(t,e){if(t&1){let n=vi();B(0,"div",11)(1,"div",12)(2,"span",13),it(3),V(),B(4,"span",14),it(5),V()(),B(6,"button",15),Xt("click",function(){let i=tn(n).$implicit,o=Re(2);return en(o.addStockToDashboard(i))}),it(7,"Add"),V()()}if(t&2){let n=e.$implicit;Y(3),Qt(n.symbol),Y(2),Qt(n.name)}}function zm(t,e){if(t&1&&(B(0,"div",9),er(1,Bm,8,2,"div",10),V()),t&2){let n=Re();Y(),Lt("ngForOf",n.searchResults)}}function Vm(t,e){if(t&1){let n=vi();B(0,"div",16)(1,"div",17)(2,"div",18),gi(),B(3,"svg",19),nn(4,"path",20),V()(),os(),B(5,"h3"),it(6),V(),B(7,"span",21),it(8),V(),B(9,"button",22),Xt("click",function(){let i=tn(n).$implicit,o=Re();return en(o.removeStock(i))}),it(10,"\xD7"),V()(),nn(11,"div",23),B(12,"div",24)(13,"div")(14,"span",25),it(15),V(),B(16,"div",26),it(17),xi(18,"currency"),V()(),B(19,"div",27),it(20),xi(21,"number"),V()(),B(22,"div",28),Xt("mousedown",function(i){let o=tn(n).$implicit,s=Re();return en(s.startResize(i,o))})("click",function(i){return tn(n),en(i.stopPropagation())}),gi(),B(23,"svg",19),nn(24,"path",29),V()()()}if(t&2){let n=e.$implicit,r=Re();Lt("ngClass",r.getStockSize(n)),Y(6),Qt(n.symbol),Y(2),Qt(n.name),Y(3),Lt("id","chart-"+n.symbol),Y(4),Qt(n.symbol),Y(2),Qt(ps(18,8,n.price)),Y(2),Lt("ngClass",n.change>=0?"positive":"negative"),Y(),us(" ",ms(21,10,n.change,"+1.2-2"),"% ")}}var Lu=class t{constructor(e,n,r){this.stockService=e;this.ngZone=n;this.webSocketService=r}searchQuery="";searchResults=[];dashboardStocks=[];stockSizes=new Map;stockUpdateSubscription=null;ngOnInit(){this.loadStockSizes(),this.loadSavedStocks(),this.stockUpdateSubscription=this.webSocketService.getStockUpdates().subscribe(e=>{e&&this.ngZone.run(()=>{this.updateStockData(e)})})}ngAfterViewInit(){}ngOnDestroy(){if(this.stockUpdateSubscription&&this.stockUpdateSubscription.unsubscribe(),this.dashboardStocks.length>0){let e=this.dashboardStocks.map(n=>n.symbol);this.webSocketService.unsubscribeFromStocks(e)}}updateStockData(e){let n=this.dashboardStocks.find(r=>r.symbol===e.symbol);if(n&&(n.price=e.price,n.change=e.change,n.data&&n.data.length>0)){let r={date:new Date,value:e.price};n.data.length>=30&&n.data.shift(),n.data.push(r),this.updateStockChart(n)}}updateStockChart(e){let n=document.querySelector(`#chart-${e.symbol}`);if(!n)return;if(ne(`#chart-${e.symbol} svg`).empty()){this.createStockChart(e);return}let i=ne(`#chart-${e.symbol} svg g`);if(i.empty()||!e.data||e.data.length===0){this.createStockChart(e);return}let o=n.clientWidth||200,s={top:20,right:20,bottom:30,left:40},a=o-s.left-s.right,c=150-s.top-s.bottom,l=e.data.map(v=>({date:v.date instanceof Date?v.date:new Date(v.date),value:Number(v.value)}));l.sort((v,y)=>v.date.getTime()-y.date.getTime());let u=rn(l,v=>v.date),h=Pn().domain(u).range([0,a]),d=an(l,v=>v.value)||0,f=sn(l,v=>v.value)||100,_=f-d,b=Math.max(_*.1,1),x=d<_*.2?0:Math.max(0,d-b),w=Be().domain([x,f+b]).range([c,0]).nice(),P=$r().x(v=>h(v.date)).y(v=>w(v.value)).curve(Yr);i.select("path").datum(l).attr("stroke",e.change>=0?"#28a745":"#dc3545").transition().duration(500).attr("d",P);let k=sr(h).ticks(5).tickFormat(ge("%b %d")),I=ar(w).ticks(5).tickFormat(v=>`$${v}`);i.select(".x-axis").transition().duration(500).call(k),i.select(".y-axis").transition().duration(500).call(I)}loadStockSizes(){let e=localStorage.getItem("stockSizes");if(e)try{this.stockSizes=new Map(Object.entries(JSON.parse(e)))}catch(n){console.error("Error parsing saved stock sizes",n),this.stockSizes=new Map}}saveStockSizes(){localStorage.setItem("stockSizes",JSON.stringify(Object.fromEntries(this.stockSizes)))}getStockSize(e){return this.stockSizes.get(e.symbol)||"size-1x1"}drop(e){this.ngZone.run(()=>{ei(this.dashboardStocks,e.previousIndex,e.currentIndex),this.stockService.saveUserStocks(this.dashboardStocks).subscribe(),setTimeout(()=>this.redrawAllCharts(),100)})}startResize(e,n){e.preventDefault(),e.stopPropagation();let r=e.clientX,i=e.clientY,s=this.getStockSize(n),a=document.createElement("div");a.style.position="fixed",a.style.left="0",a.style.top="0",a.style.width="100%",a.style.height="100%",a.style.zIndex="9999",a.style.cursor="nwse-resize",document.body.appendChild(a);let c=u=>{let h=u.clientX-r,d=u.clientY-i,f="size-1x1";h>50&&d>50?f="size-2x2":h>50?f="size-2x1":d>50&&(f="size-1x2"),f!==this.getStockSize(n)&&this.ngZone.run(()=>{this.stockSizes.set(n.symbol,f),setTimeout(()=>{this.createStockChart(n)},10)})},l=()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",l),document.body.removeChild(a),this.saveStockSizes(),s!==this.getStockSize(n)&&setTimeout(()=>this.createStockChart(n),100)};document.addEventListener("mousemove",c),document.addEventListener("mouseup",l)}loadSavedStocks(){this.stockService.getUserStocks().subscribe(e=>{this.dashboardStocks=e,setTimeout(()=>{this.redrawAllCharts();let n=this.dashboardStocks.map(r=>r.symbol);n.length>0&&this.webSocketService.subscribeToStocks(n)},100)})}redrawAllCharts(){this.dashboardStocks.forEach(e=>{let n=document.querySelector(`#chart-${e.symbol}`);n&&ne(n).selectAll("*").remove()}),this.dashboardStocks.forEach(e=>{this.createStockChart(e)})}searchStocks(){this.searchQuery.trim()&&this.stockService.searchStocks(this.searchQuery).subscribe(e=>{this.searchResults=e})}onSearchKeyUp(e){e.key==="Enter"&&this.searchStocks()}addStockToDashboard(e){!e?.symbol||this.dashboardStocks.some(n=>n.symbol===e.symbol)||this.stockService.getStockDetails(e.symbol).subscribe(n=>{let r=n,i={symbol:r.symbol||"",name:r.name||"",price:r.price||0,change:r.change||0,data:r.data||[]};i.symbol?(this.dashboardStocks.push(i),this.searchResults=[],this.searchQuery="",this.stockService.saveUserStocks(this.dashboardStocks).subscribe(),this.webSocketService.subscribeToStocks([i.symbol]),setTimeout(()=>this.createStockChart(i),100)):console.error("Received invalid stock details:",n)})}removeStock(e){let n=this.dashboardStocks.findIndex(r=>r.symbol===e.symbol);n!==-1&&(this.webSocketService.unsubscribeFromStocks([e.symbol]),this.dashboardStocks.splice(n,1),this.stockService.saveUserStocks(this.dashboardStocks).subscribe(),this.stockSizes.delete(e.symbol),this.saveStockSizes())}createStockChart(e){let n=document.querySelector(`#chart-${e.symbol}`);if(!n){console.error(`Chart element for ${e.symbol} not found`),setTimeout(()=>this.createStockChart(e),50);return}ne(`#chart-${e.symbol}`).selectAll("*").remove();let r=n.clientWidth||200,i={top:20,right:20,bottom:30,left:40},o=r-i.left-i.right,s=150-i.top-i.bottom,a=e.data&&e.data.length>0?e.data:this.generateDummyData(),c=ne(`#chart-${e.symbol}`).append("svg").attr("width",r).attr("height",s+i.top+i.bottom).append("g").attr("transform",`translate(${i.left},${i.top})`),l=a.map(w=>({date:w.date instanceof Date?w.date:new Date(w.date),value:Number(w.value)})),u=rn(l,w=>w.date),h=Pn().domain(u).range([0,o]),d=an(l,w=>w.value)||0,f=sn(l,w=>w.value)||100,_=(f-d)*.1,b=Be().domain([Math.max(0,d-_),f+_]).range([s,0]),x=$r().x(w=>h(w.date)).y(w=>b(w.value)).curve(Yr);c.append("path").datum(l).attr("fill","none").attr("stroke",e.change>=0?"#28a745":"#dc3545").attr("stroke-width",2).attr("d",x),c.append("g").attr("class","x-axis").attr("transform",`translate(0,${s})`).call(sr(h).ticks(5).tickFormat(ge("%b %d"))),c.append("g").attr("class","y-axis").call(ar(b).ticks(5).tickFormat(w=>`$${w}`))}generateDummyData(){let e=[],n=new Date;for(let r=30;r>=0;r--){let i=new Date(n);i.setDate(i.getDate()-r),e.push({date:i,value:100+Math.random()*50})}return e}static \u0275fac=function(n){return new(n||t)(tr(ni),tr(rt),tr(di))};static \u0275cmp=Te({type:t,selectors:[["app-dashboard"]],decls:12,vars:4,consts:[[1,"dashboard-container"],[1,"search-section"],[1,"search-container"],["type","text","placeholder","Search stocks by symbol or company name...",1,"search-input",3,"ngModelChange","keyup","ngModel"],[1,"search-button",3,"click"],["class","search-results",4,"ngIf"],[1,"stocks-container"],["cdkDropList","",1,"stocks-grid",3,"cdkDropListDropped","cdkDropListData"],["class","stock-card","cdkDrag","",3,"ngClass",4,"ngFor","ngForOf"],[1,"search-results"],["class","result-item",4,"ngFor","ngForOf"],[1,"result-item"],[1,"stock-info"],[1,"stock-symbol"],[1,"stock-name"],[1,"add-button",3,"click"],["cdkDrag","",1,"stock-card",3,"ngClass"],["cdkDragHandle","",1,"stock-header"],[1,"drag-handle"],["width","16","height","16","viewBox","0 0 24 24"],["fill","#666","d","M3,15H21V13H3V15M3,19H21V17H3V19M3,11H21V9H3V11M3,5V7H21V5H3Z"],[1,"stock-company"],[1,"remove-button",3,"click"],[1,"stock-chart",3,"id"],[1,"stock-details"],[1,"symbol-label"],[1,"price"],[1,"change",3,"ngClass"],[1,"resize-handle",3,"mousedown","click"],["fill","#666","d","M22,22H20V20H22V22M22,18H20V16H22V18M18,22H16V20H18V22M18,18H16V16H18V18M14,22H12V20H14V22M22,14H20V12H22V14Z"]],template:function(n,r){n&1&&(B(0,"div",0)(1,"div",1)(2,"h2"),it(3,"Add Stocks to Your Dashboard"),V(),B(4,"div",2)(5,"input",3),fs("ngModelChange",function(o){return ds(r.searchQuery,o)||(r.searchQuery=o),o}),Xt("keyup",function(o){return r.onSearchKeyUp(o)}),V(),B(6,"button",4),Xt("click",function(){return r.searchStocks()}),it(7,"Search"),V()(),er(8,zm,2,1,"div",5),V(),B(9,"div",6)(10,"div",7),Xt("cdkDropListDropped",function(o){return r.drop(o)}),er(11,Vm,25,13,"div",8),V()()()),n&2&&(Y(5),hs("ngModel",r.searchQuery),Y(3),Lt("ngIf",r.searchResults.length>0),Y(2),Lt("cdkDropListData",r.dashboardStocks),Y(),Lt("ngForOf",r.dashboardStocks))},dependencies:[Ss,ys,vs,xs,bs,ws,Is,Ds,Es,Ts,su,ou,iu,eu],styles:[".dashboard-container[_ngcontent-%COMP%]{padding:20px;max-width:1200px;margin:0 auto}.search-section[_ngcontent-%COMP%]{margin-bottom:30px}.search-section[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:15px;color:#333}.search-container[_ngcontent-%COMP%]{display:flex;margin-bottom:15px}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{flex:1;padding:10px 15px;border:1px solid #ddd;border-radius:4px 0 0 4px;font-size:16px}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#007bff}.search-container[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:0 4px 4px 0;cursor:pointer}.search-container[_ngcontent-%COMP%]   .search-button[_ngcontent-%COMP%]:hover{background-color:#0069d9}.search-results[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:4px;max-height:300px;overflow-y:auto}.search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]{padding:10px 15px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #eee}.search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .stock-symbol[_ngcontent-%COMP%]{font-weight:700;margin-right:10px}.search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .stock-info[_ngcontent-%COMP%]   .stock-name[_ngcontent-%COMP%]{color:#6c757d}.search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]{padding:5px 10px;background-color:#28a745;color:#fff;border:none;border-radius:4px;cursor:pointer}.search-results[_ngcontent-%COMP%]   .result-item[_ngcontent-%COMP%]   .add-button[_ngcontent-%COMP%]:hover{background-color:#218838}.stocks-container[_ngcontent-%COMP%]{width:100%;min-height:300px}.stocks-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));grid-auto-rows:minmax(250px,auto);gap:20px;width:100%}.stock-card[_ngcontent-%COMP%]{position:relative;border:1px solid #ddd;border-radius:8px;padding:15px;background-color:#fff;box-shadow:0 2px 4px #0000001a;transition:all .2s ease}.stock-card.size-1x1[_ngcontent-%COMP%]{grid-column:span 1;grid-row:span 1;height:250px}.stock-card.size-2x1[_ngcontent-%COMP%]{grid-column:span 2;grid-row:span 1;height:250px}.stock-card.size-1x2[_ngcontent-%COMP%]{grid-column:span 1;grid-row:span 2;height:520px}.stock-card.size-2x2[_ngcontent-%COMP%]{grid-column:span 2;grid-row:span 2;height:520px}.stock-card[_ngcontent-%COMP%]   .stock-header[_ngcontent-%COMP%]{display:flex;align-items:center;position:relative;padding-left:25px;margin-bottom:10px;cursor:move}.stock-card[_ngcontent-%COMP%]   .stock-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 10px 0 0;font-size:18px}.stock-card[_ngcontent-%COMP%]   .stock-header[_ngcontent-%COMP%]   .stock-company[_ngcontent-%COMP%]{color:#6c757d;font-size:14px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1}.stock-card[_ngcontent-%COMP%]   .stock-header[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]{background:none;border:none;color:#dc3545;font-size:20px;cursor:pointer;padding:0 5px}.stock-card[_ngcontent-%COMP%]   .stock-header[_ngcontent-%COMP%]   .remove-button[_ngcontent-%COMP%]:hover{color:#c82333}.stock-card[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]{position:absolute;top:0;left:0;cursor:grab;opacity:.5}.stock-card[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]:hover{opacity:1}.stock-card[_ngcontent-%COMP%]   .drag-handle[_ngcontent-%COMP%]:active{cursor:grabbing}.stock-card[_ngcontent-%COMP%]   .stock-chart[_ngcontent-%COMP%]{width:100%;height:calc(100% - 100px);min-height:100px;display:flex;align-items:center;justify-content:center}.stock-card[_ngcontent-%COMP%]   .stock-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-end;margin-top:10px}.stock-card[_ngcontent-%COMP%]   .stock-details[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.stock-card[_ngcontent-%COMP%]   .stock-details[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]{font-weight:700}.stock-card[_ngcontent-%COMP%]   .stock-details[_ngcontent-%COMP%]   .change.positive[_ngcontent-%COMP%]{color:#28a745}.stock-card[_ngcontent-%COMP%]   .stock-details[_ngcontent-%COMP%]   .change.negative[_ngcontent-%COMP%]{color:#dc3545}.stock-card[_ngcontent-%COMP%]   .resize-handle[_ngcontent-%COMP%]{position:absolute;bottom:5px;right:5px;cursor:nwse-resize;opacity:.5;z-index:10;padding:10px;margin:-10px}.stock-card[_ngcontent-%COMP%]   .resize-handle[_ngcontent-%COMP%]:hover{opacity:1}.cdk-drag-preview[_ngcontent-%COMP%]{box-shadow:0 5px 15px #0000004d;opacity:.8;cursor:grabbing}.cdk-drag-placeholder[_ngcontent-%COMP%]{opacity:.3;background:#f0f0f0;border:2px dashed #aaa}.cdk-drag-animating[_ngcontent-%COMP%]{transition:transform .25s cubic-bezier(0,0,.2,1)}.stocks-grid.cdk-drop-list-dragging[_ngcontent-%COMP%]   .stock-card[_ngcontent-%COMP%]:not(.cdk-drag-placeholder){transition:transform .25s cubic-bezier(0,0,.2,1)}.symbol-label[_ngcontent-%COMP%]{font-size:12px;font-weight:700;color:#666;display:block;margin-bottom:4px}"]})};export{An as a,rk as b,ve as c,jp as d,qe as e,lk as f,Tt as g,Kr as h,vo as i,kl as j,Cl as k,Gr as l,tC as m,Dl as n,MC as o,Ol as p,di as q,Lu as r};
