import{a as Ue,b as k,c as ne,d as _n,e as We,f as $e,g as jt,h as yn,i as Ht,j as vn,k as Ke,l as wn,m as Xe,n as qe,o as En,p as Qe,q as xn,r as Sn}from"./chunk-FFNVQDTD.js";import{a as Mn}from"./chunk-SKR5KU4V.js";import{a as Cn}from"./chunk-EX5OEOHC.js";import{a as _t}from"./chunk-SVE7YTCN.js";import{h as gn}from"./chunk-X2MCTWXM.js";import{a as mn,b as un,c as He,d as pn,e as Vt,f as hn,g as fn,h as bn,i as Ye}from"./chunk-MX4QNSKO.js";import{$ as y,A as qi,Aa as ht,B as Ft,Da as tn,Db as on,Ea as Fe,H as Ie,Ha as en,Ia as st,Ib as je,Ja as Ne,Ma as ft,Pa as nn,Q as Qi,Rb as an,S as E,Sa as G,Sb as rn,Ta as I,V as z,W as A,Xa as Bt,Xb as lt,Y as Nt,_ as Lt,a as Q,ac as sn,b as Zt,ba as Gi,c as Xi,da as Zi,e as Re,eb as Le,ec as ln,ga as et,gb as Tt,ha as it,hb as bt,hc as ie,ib as M,j as rt,jb as C,ka as zt,kb as Pt,lb as ze,ma as kt,mb as Be,nb as Ot,ob as U,oc as cn,pb as gt,pc as dn,qa as nt,rb as Jt,s as Ae,sb as te,ta as Dt,tb as ee,ua as Ji,ub as Ve,vb as B}from"./chunk-SWTW52KX.js";var Oo=()=>({exact:!0});function Ro(o,t){o&1&&(ze(0),M(1,"a",19),B(2,"Login"),C(),M(3,"a",20),B(4,"Register"),C(),Be())}function Ao(o,t){if(o&1){let e=Ot();M(0,"button",21),U("click",function(){et(e);let n=gt();return it(n.logout())}),B(1,"Logout"),C()}}function Io(o,t){if(o&1){let e=Ot();ze(0),M(1,"a",22),U("click",function(){et(e);let n=gt();return it(n.closeMobileMenu())}),B(2,"Login"),C(),M(3,"a",23),U("click",function(){et(e);let n=gt();return it(n.closeMobileMenu())}),B(4,"Register"),C(),Be()}}function Fo(o,t){if(o&1){let e=Ot();M(0,"button",21),U("click",function(){et(e);let n=gt();return it(n.logoutMobile())}),B(1,"Logout"),C()}}var oe=class o{constructor(t,e){this.authService=t;this.router=e;this.authService.isAuthenticated$.subscribe(i=>this.isLoggedIn=i)}isLoggedIn=!1;mobileMenuOpen=!1;logout(){this.authService.logout(),this.router.navigate(["/login"])}logoutMobile(){this.authService.logout(),this.router.navigate(["/login"]),this.closeMobileMenu()}toggleMobileMenu(){this.mobileMenuOpen=!this.mobileMenuOpen}closeMobileMenu(){this.mobileMenuOpen=!1}static \u0275fac=function(e){return new(e||o)(Ne(_t),Ne(Vt))};static \u0275cmp=G({type:o,selectors:[["app-header"]],decls:28,vars:10,consts:[["loggedInDesktop",""],["loggedInMobile",""],[1,"header"],[1,"logo"],["routerLink","/home"],[1,"logo-icon"],[1,"logo-text"],[1,"nav-links"],["routerLink","/home","routerLinkActive","active",3,"routerLinkActiveOptions"],["routerLink","/dashboard","routerLinkActive","active"],[1,"auth-buttons","desktop-auth"],[4,"ngIf","ngIfElse"],[1,"hamburger-btn",3,"click"],[1,"hamburger-icon"],[1,"mobile-menu-overlay",3,"click"],[1,"mobile-menu"],[1,"mobile-menu-header"],[1,"close-menu-btn",3,"click"],[1,"mobile-auth"],["routerLink","/login",1,"login-btn"],["routerLink","/register",1,"register-btn"],[1,"logout-btn",3,"click"],["routerLink","/login",1,"login-btn",3,"click"],["routerLink","/register",1,"register-btn",3,"click"]],template:function(e,i){if(e&1){let n=Ot();M(0,"div",2)(1,"div",3)(2,"a",4)(3,"span",5),B(4,"\u{1F4CA}"),C(),M(5,"span",6),B(6,"StockTracker"),C()()(),M(7,"nav",7)(8,"a",8),B(9,"Home"),C(),M(10,"a",9),B(11,"Dashboard"),C()(),M(12,"div",10),Bt(13,Ro,5,0,"ng-container",11)(14,Ao,2,0,"ng-template",null,0,je),C(),M(16,"button",12),U("click",function(){return et(n),it(i.toggleMobileMenu())}),M(17,"span",13),B(18,"\u2630"),C()(),M(19,"div",14),U("click",function(){return et(n),it(i.closeMobileMenu())}),C(),M(20,"div",15)(21,"div",16)(22,"button",17),U("click",function(){return et(n),it(i.closeMobileMenu())}),B(23,"\u2715"),C()(),M(24,"div",18),Bt(25,Io,5,0,"ng-container",11)(26,Fo,2,0,"ng-template",null,1,je),C()()()}if(e&2){let n=Ve(15),a=Ve(27);st(8),Tt("routerLinkActiveOptions",on(9,Oo)),st(5),Tt("ngIf",!i.isLoggedIn)("ngIfElse",n),st(6),bt("active",i.mobileMenuOpen),st(),bt("active",i.mobileMenuOpen),st(5),Tt("ngIf",!i.isLoggedIn)("ngIfElse",a)}},dependencies:[hn,fn,ie,ln],styles:['.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 5%;height:70px;width:100%;box-sizing:border-box;transition:all .3s ease;position:relative}.header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{display:flex;align-items:center;text-decoration:none;color:#333}.header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{font-size:1.8rem;margin-right:8px}.header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.header[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]{display:flex;gap:25px}.header[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#333;font-weight:500;font-size:1rem;padding:5px 0;position:relative;transition:color .3s}.header[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .header[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#007bff}.header[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-3px;left:0;width:100%;height:2px;background-color:#007bff}.header[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}.header[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border-radius:4px;font-weight:500;text-decoration:none;cursor:pointer;font-size:1rem;display:inline-block;line-height:normal;margin:0;font-family:inherit}.header[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]{color:#007bff;background:transparent;border:none}.header[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .register-btn[_ngcontent-%COMP%], .header[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]{color:#fff;background-color:#007bff;border:none;box-sizing:border-box;min-width:80px;text-align:center}.header[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .register-btn[_ngcontent-%COMP%]:hover, .header[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]:hover{background-color:#0069d9}.header[_ngcontent-%COMP%]   .auth-buttons[_ngcontent-%COMP%]   button.logout-btn[_ngcontent-%COMP%]{-webkit-appearance:none;appearance:none;outline:none}.hamburger-btn[_ngcontent-%COMP%]{display:none;background:none;border:none;font-size:1.5rem;cursor:pointer;padding:5px;color:#333}.hamburger-btn[_ngcontent-%COMP%]:hover{color:#007bff}.hamburger-icon[_ngcontent-%COMP%]{display:block}.mobile-menu-overlay[_ngcontent-%COMP%]{display:none;position:fixed;inset:0;background-color:#00000080;z-index:998;opacity:0;transition:opacity .3s ease}.mobile-menu-overlay.active[_ngcontent-%COMP%]{opacity:1;display:block}.mobile-menu[_ngcontent-%COMP%]{display:none;position:fixed;top:0;right:-250px;width:250px;height:100vh;background-color:#fff;box-shadow:-2px 0 5px #0000001a;z-index:999;padding:20px;transition:right .3s ease}.mobile-menu.active[_ngcontent-%COMP%]{right:0;display:block}.mobile-menu[_ngcontent-%COMP%]   .mobile-menu-header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:20px}.mobile-menu[_ngcontent-%COMP%]   .close-menu-btn[_ngcontent-%COMP%]{background:none;border:none;font-size:1.2rem;cursor:pointer;color:#333}.mobile-menu[_ngcontent-%COMP%]   .close-menu-btn[_ngcontent-%COMP%]:hover{color:#007bff}.mobile-menu[_ngcontent-%COMP%]   .mobile-auth[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.mobile-menu[_ngcontent-%COMP%]   .mobile-auth[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .mobile-menu[_ngcontent-%COMP%]   .mobile-auth[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:12px 16px;border-radius:4px;font-weight:500;text-decoration:none;cursor:pointer;font-size:1rem;text-align:center}.mobile-menu[_ngcontent-%COMP%]   .mobile-auth[_ngcontent-%COMP%]   .login-btn[_ngcontent-%COMP%]{color:#007bff;background-color:transparent;border:1px solid #007bff}.mobile-menu[_ngcontent-%COMP%]   .mobile-auth[_ngcontent-%COMP%]   .register-btn[_ngcontent-%COMP%], .mobile-menu[_ngcontent-%COMP%]   .mobile-auth[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]{color:#fff;background-color:#007bff;border:none}.mobile-menu[_ngcontent-%COMP%]   .mobile-auth[_ngcontent-%COMP%]   .register-btn[_ngcontent-%COMP%]:hover, .mobile-menu[_ngcontent-%COMP%]   .mobile-auth[_ngcontent-%COMP%]   .logout-btn[_ngcontent-%COMP%]:hover{background-color:#0069d9}@media (max-width: 992px){.header[_ngcontent-%COMP%]{padding:0 3%}.header[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]{gap:15px}}@media (max-width: 768px){.desktop-auth[_ngcontent-%COMP%]{display:none!important}.hamburger-btn[_ngcontent-%COMP%]{display:block}.header[_ngcontent-%COMP%]{height:70px;padding:0 5%;flex-wrap:nowrap}.header[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]{order:2;width:auto;margin-top:0}}@media (max-width: 480px){.header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:1.2rem}.header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{font-size:1.5rem}.header[_ngcontent-%COMP%]   .nav-links[_ngcontent-%COMP%]{display:none}}']})};var No=["headerContainer"],ae=class o{headerContainer;onWindowScroll(){window.scrollY>20?this.headerContainer.nativeElement.classList.add("sticky"):this.headerContainer.nativeElement.classList.remove("sticky")}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=G({type:o,selectors:[["app-root"]],viewQuery:function(e,i){if(e&1&&Jt(No,5),e&2){let n;te(n=ee())&&(i.headerContainer=n.first)}},hostBindings:function(e,i){e&1&&U("scroll",function(){return i.onWindowScroll()},!1,en)},decls:5,vars:0,consts:[["headerContainer",""],[1,"header-container"],[1,"content-container"]],template:function(e,i){e&1&&(M(0,"div",1,0),Pt(2,"app-header"),C(),M(3,"div",2),Pt(4,"router-outlet"),C())},dependencies:[oe,pn],styles:["[_nghost-%COMP%]{display:block;width:100%}.header-container[_ngcontent-%COMP%]{position:sticky;top:0;width:100%;z-index:1000;transition:all .3s ease;background-color:#fff}.header-container.sticky[_ngcontent-%COMP%]{box-shadow:0 4px 12px #0000000d}.content-container[_ngcontent-%COMP%]{width:100%}"]})};var kn=(o,t)=>{let e=y(_t),i=y(Vt);return e.authInitialized$.pipe(Ft(n=>n),Ie(1),Ae(()=>e.isAuthenticated()?!0:i.createUrlTree(["/login"])))},Ge=(o,t)=>{let e=y(_t),i=y(Vt);return e.authInitialized$.pipe(Ft(n=>n),Ie(1),Ae(()=>e.isAuthenticated()?i.createUrlTree(["/dashboard"]):!0))};var Ze=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",loadComponent:()=>import("./chunk-JYSZPLHA.js").then(o=>o.HomeComponent)},{path:"login",loadComponent:()=>import("./chunk-ORKI534T.js").then(o=>o.LoginComponent),canActivate:[Ge]},{path:"register",loadComponent:()=>import("./chunk-WLGC3UEF.js").then(o=>o.RegisterComponent),canActivate:[Ge]},{path:"dashboard",loadComponent:()=>import("./chunk-ZY3FH45F.js").then(o=>o.DashboardComponent),canActivate:[kn]}],Dn=class o{static \u0275fac=function(e){return new(e||o)};static \u0275mod=I({type:o});static \u0275inj=A({imports:[Ye.forRoot(Ze),Cn,Mn,Sn,He,ie,gn,Ye]})};var Tn=(o,t)=>{let i=y(_t).getToken();if(i){let n=o.clone({headers:o.headers.set("Authorization",`Bearer ${i}`)});return t(n)}return t(o)};var v=function(o){return o[o.State=0]="State",o[o.Transition=1]="Transition",o[o.Sequence=2]="Sequence",o[o.Group=3]="Group",o[o.Animate=4]="Animate",o[o.Keyframes=5]="Keyframes",o[o.Style=6]="Style",o[o.Trigger=7]="Trigger",o[o.Reference=8]="Reference",o[o.AnimateChild=9]="AnimateChild",o[o.AnimateRef=10]="AnimateRef",o[o.Query=11]="Query",o[o.Stagger=12]="Stagger",o}(v||{}),J="*";function Pn(o,t=null){return{type:v.Sequence,steps:o,options:t}}function Je(o){return{type:v.Style,styles:o,offset:null}}var ct=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},Yt=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,i=0,n=0,a=this.players.length;a==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(r=>{r.onDone(()=>{++e==a&&this._onFinish()}),r.onDestroy(()=>{++i==a&&this._onDestroy()}),r.onStart(()=>{++n==a&&this._onStart()})}),this.totalTime=this.players.reduce((r,s)=>Math.max(r,s.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(i=>{let n=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(n)})}getPosition(){let t=this.players.reduce((e,i)=>e===null||i.totalTime>e.totalTime?i:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},re="!";function On(o){return new E(3e3,!1)}function Lo(){return new E(3100,!1)}function zo(){return new E(3101,!1)}function Bo(o){return new E(3001,!1)}function Vo(o){return new E(3003,!1)}function jo(o){return new E(3004,!1)}function Ho(o,t){return new E(3005,!1)}function Yo(){return new E(3006,!1)}function Uo(){return new E(3007,!1)}function Wo(o,t){return new E(3008,!1)}function $o(o){return new E(3002,!1)}function Ko(o,t,e,i,n){return new E(3010,!1)}function Xo(){return new E(3011,!1)}function qo(){return new E(3012,!1)}function Qo(){return new E(3200,!1)}function Go(){return new E(3202,!1)}function Zo(){return new E(3013,!1)}function Jo(o){return new E(3014,!1)}function ta(o){return new E(3015,!1)}function ea(o){return new E(3016,!1)}function ia(o,t){return new E(3404,!1)}function na(o){return new E(3502,!1)}function oa(o){return new E(3503,!1)}function aa(){return new E(3300,!1)}function ra(o){return new E(3504,!1)}function sa(o){return new E(3301,!1)}function la(o,t){return new E(3302,!1)}function ca(o){return new E(3303,!1)}function da(o,t){return new E(3400,!1)}function ma(o){return new E(3401,!1)}function ua(o){return new E(3402,!1)}function pa(o,t){return new E(3505,!1)}function dt(o){switch(o.length){case 0:return new ct;case 1:return o[0];default:return new Yt(o)}}function Wn(o,t,e=new Map,i=new Map){let n=[],a=[],r=-1,s=null;if(t.forEach(l=>{let c=l.get("offset"),d=c==r,m=d&&s||new Map;l.forEach((_,f)=>{let u=f,h=_;if(f!=="offset")switch(u=o.normalizePropertyName(u,n),h){case re:h=e.get(f);break;case J:h=i.get(f);break;default:h=o.normalizeStyleValue(f,u,h,n);break}m.set(u,h)}),d||a.push(m),s=m,r=c}),n.length)throw na(n);return a}function wi(o,t,e,i){switch(t){case"start":o.onStart(()=>i(e&&ti(e,"start",o)));break;case"done":o.onDone(()=>i(e&&ti(e,"done",o)));break;case"destroy":o.onDestroy(()=>i(e&&ti(e,"destroy",o)));break}}function ti(o,t,e){let i=e.totalTime,n=!!e.disabled,a=Ei(o.element,o.triggerName,o.fromState,o.toState,t||o.phaseName,i??o.totalTime,n),r=o._data;return r!=null&&(a._data=r),a}function Ei(o,t,e,i,n="",a=0,r){return{element:o,triggerName:t,fromState:e,toState:i,phaseName:n,totalTime:a,disabled:!!r}}function H(o,t,e){let i=o.get(t);return i||o.set(t,i=e),i}function Rn(o){let t=o.indexOf(":"),e=o.substring(1,t),i=o.slice(t+1);return[e,i]}var ha=typeof document>"u"?null:document.documentElement;function xi(o){let t=o.parentNode||o.host||null;return t===ha?null:t}function fa(o){return o.substring(1,6)=="ebkit"}var yt=null,An=!1;function ba(o){yt||(yt=ga()||{},An=yt.style?"WebkitAppearance"in yt.style:!1);let t=!0;return yt.style&&!fa(o)&&(t=o in yt.style,!t&&An&&(t="Webkit"+o.charAt(0).toUpperCase()+o.slice(1)in yt.style)),t}function ga(){return typeof document<"u"?document.body:null}function $n(o,t){for(;t;){if(t===o)return!0;t=xi(t)}return!1}function Kn(o,t,e){if(e)return Array.from(o.querySelectorAll(t));let i=o.querySelector(t);return i?[i]:[]}var Si=(()=>{class o{validateStyleProperty(e){return ba(e)}containsElement(e,i){return $n(e,i)}getParentElement(e){return xi(e)}query(e,i,n){return Kn(e,i,n)}computeStyle(e,i,n){return n||""}animate(e,i,n,a,r,s=[],l){return new ct(n,a)}static \u0275fac=function(i){return new(i||o)};static \u0275prov=z({token:o,factory:o.\u0275fac})}return o})(),Et=class{static NOOP=new Si},xt=class{};var _a=1e3,Xn="{{",ya="}}",qn="ng-enter",ri="ng-leave",se="ng-trigger",ue=".ng-trigger",In="ng-animating",si=".ng-animating";function ot(o){if(typeof o=="number")return o;let t=o.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:li(parseFloat(t[1]),t[2])}function li(o,t){switch(t){case"s":return o*_a;default:return o}}function pe(o,t,e){return o.hasOwnProperty("duration")?o:va(o,t,e)}function va(o,t,e){let i=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,n,a=0,r="";if(typeof o=="string"){let s=o.match(i);if(s===null)return t.push(On(o)),{duration:0,delay:0,easing:""};n=li(parseFloat(s[1]),s[2]);let l=s[3];l!=null&&(a=li(parseFloat(l),s[4]));let c=s[5];c&&(r=c)}else n=o;if(!e){let s=!1,l=t.length;n<0&&(t.push(Lo()),s=!0),a<0&&(t.push(zo()),s=!0),s&&t.splice(l,0,On(o))}return{duration:n,delay:a,easing:r}}function wa(o){return o.length?o[0]instanceof Map?o:o.map(t=>new Map(Object.entries(t))):[]}function tt(o,t,e){t.forEach((i,n)=>{let a=Mi(n);e&&!e.has(n)&&e.set(n,o.style[a]),o.style[a]=i})}function wt(o,t){t.forEach((e,i)=>{let n=Mi(i);o.style[n]=""})}function Ut(o){return Array.isArray(o)?o.length==1?o[0]:Pn(o):o}function Ea(o,t,e){let i=t.params||{},n=Qn(o);n.length&&n.forEach(a=>{i.hasOwnProperty(a)||e.push(Bo(a))})}var ci=new RegExp(`${Xn}\\s*(.+?)\\s*${ya}`,"g");function Qn(o){let t=[];if(typeof o=="string"){let e;for(;e=ci.exec(o);)t.push(e[1]);ci.lastIndex=0}return t}function $t(o,t,e){let i=`${o}`,n=i.replace(ci,(a,r)=>{let s=t[r];return s==null&&(e.push(Vo(r)),s=""),s.toString()});return n==i?o:n}var xa=/-+([a-z0-9])/g;function Mi(o){return o.replace(xa,(...t)=>t[1].toUpperCase())}function Sa(o,t){return o===0||t===0}function Ma(o,t,e){if(e.size&&t.length){let i=t[0],n=[];if(e.forEach((a,r)=>{i.has(r)||n.push(r),i.set(r,a)}),n.length)for(let a=1;a<t.length;a++){let r=t[a];n.forEach(s=>r.set(s,Ci(o,s)))}}return t}function j(o,t,e){switch(t.type){case v.Trigger:return o.visitTrigger(t,e);case v.State:return o.visitState(t,e);case v.Transition:return o.visitTransition(t,e);case v.Sequence:return o.visitSequence(t,e);case v.Group:return o.visitGroup(t,e);case v.Animate:return o.visitAnimate(t,e);case v.Keyframes:return o.visitKeyframes(t,e);case v.Style:return o.visitStyle(t,e);case v.Reference:return o.visitReference(t,e);case v.AnimateChild:return o.visitAnimateChild(t,e);case v.AnimateRef:return o.visitAnimateRef(t,e);case v.Query:return o.visitQuery(t,e);case v.Stagger:return o.visitStagger(t,e);default:throw jo(t.type)}}function Ci(o,t){return window.getComputedStyle(o)[t]}var Ca=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),he=class extends xt{normalizePropertyName(t,e){return Mi(t)}normalizeStyleValue(t,e,i,n){let a="",r=i.toString().trim();if(Ca.has(e)&&i!==0&&i!=="0")if(typeof i=="number")a="px";else{let s=i.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&s[1].length==0&&n.push(Ho(t,i))}return r+a}};var fe="*";function ka(o,t){let e=[];return typeof o=="string"?o.split(/\s*,\s*/).forEach(i=>Da(i,e,t)):e.push(o),e}function Da(o,t,e){if(o[0]==":"){let l=Ta(o,e);if(typeof l=="function"){t.push(l);return}o=l}let i=o.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(i==null||i.length<4)return e.push(ta(o)),t;let n=i[1],a=i[2],r=i[3];t.push(Fn(n,r));let s=n==fe&&r==fe;a[0]=="<"&&!s&&t.push(Fn(r,n))}function Ta(o,t){switch(o){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(ea(o)),"* => *"}}var le=new Set(["true","1"]),ce=new Set(["false","0"]);function Fn(o,t){let e=le.has(o)||ce.has(o),i=le.has(t)||ce.has(t);return(n,a)=>{let r=o==fe||o==n,s=t==fe||t==a;return!r&&e&&typeof n=="boolean"&&(r=n?le.has(o):ce.has(o)),!s&&i&&typeof a=="boolean"&&(s=a?le.has(t):ce.has(t)),r&&s}}var Gn=":self",Pa=new RegExp(`s*${Gn}s*,?`,"g");function Zn(o,t,e,i){return new di(o).build(t,e,i)}var Nn="",di=class{_driver;constructor(t){this._driver=t}build(t,e,i){let n=new mi(e);return this._resetContextStyleTimingState(n),j(this,Ut(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector=Nn,t.collectedStyles=new Map,t.collectedStyles.set(Nn,new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,n=e.depCount=0,a=[],r=[];return t.name.charAt(0)=="@"&&e.errors.push(Yo()),t.definitions.forEach(s=>{if(this._resetContextStyleTimingState(e),s.type==v.State){let l=s,c=l.name;c.toString().split(/\s*,\s*/).forEach(d=>{l.name=d,a.push(this.visitState(l,e))}),l.name=c}else if(s.type==v.Transition){let l=this.visitTransition(s,e);i+=l.queryCount,n+=l.depCount,r.push(l)}else e.errors.push(Uo())}),{type:v.Trigger,name:t.name,states:a,transitions:r,queryCount:i,depCount:n,options:null}}visitState(t,e){let i=this.visitStyle(t.styles,e),n=t.options&&t.options.params||null;if(i.containsDynamicStyles){let a=new Set,r=n||{};i.styles.forEach(s=>{s instanceof Map&&s.forEach(l=>{Qn(l).forEach(c=>{r.hasOwnProperty(c)||a.add(c)})})}),a.size&&e.errors.push(Wo(t.name,[...a.values()]))}return{type:v.State,name:t.name,style:i,options:n?{params:n}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let i=j(this,Ut(t.animation),e),n=ka(t.expr,e.errors);return{type:v.Transition,matchers:n,animation:i,queryCount:e.queryCount,depCount:e.depCount,options:vt(t.options)}}visitSequence(t,e){return{type:v.Sequence,steps:t.steps.map(i=>j(this,i,e)),options:vt(t.options)}}visitGroup(t,e){let i=e.currentTime,n=0,a=t.steps.map(r=>{e.currentTime=i;let s=j(this,r,e);return n=Math.max(n,e.currentTime),s});return e.currentTime=n,{type:v.Group,steps:a,options:vt(t.options)}}visitAnimate(t,e){let i=Ia(t.timings,e.errors);e.currentAnimateTimings=i;let n,a=t.styles?t.styles:Je({});if(a.type==v.Keyframes)n=this.visitKeyframes(a,e);else{let r=t.styles,s=!1;if(!r){s=!0;let c={};i.easing&&(c.easing=i.easing),r=Je(c)}e.currentTime+=i.duration+i.delay;let l=this.visitStyle(r,e);l.isEmptyStep=s,n=l}return e.currentAnimateTimings=null,{type:v.Animate,timings:i,style:n,options:null}}visitStyle(t,e){let i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){let i=[],n=Array.isArray(t.styles)?t.styles:[t.styles];for(let s of n)typeof s=="string"?s===J?i.push(s):e.errors.push($o(s)):i.push(new Map(Object.entries(s)));let a=!1,r=null;return i.forEach(s=>{if(s instanceof Map&&(s.has("easing")&&(r=s.get("easing"),s.delete("easing")),!a)){for(let l of s.values())if(l.toString().indexOf(Xn)>=0){a=!0;break}}}),{type:v.Style,styles:i,easing:r,offset:t.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(t,e){let i=e.currentAnimateTimings,n=e.currentTime,a=e.currentTime;i&&a>0&&(a-=i.duration+i.delay),t.styles.forEach(r=>{typeof r!="string"&&r.forEach((s,l)=>{let c=e.collectedStyles.get(e.currentQuerySelector),d=c.get(l),m=!0;d&&(a!=n&&a>=d.startTime&&n<=d.endTime&&(e.errors.push(Ko(l,d.startTime,d.endTime,a,n)),m=!1),a=d.startTime),m&&c.set(l,{startTime:a,endTime:n}),e.options&&Ea(s,e.options,e.errors)})})}visitKeyframes(t,e){let i={type:v.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(Xo()),i;let n=1,a=0,r=[],s=!1,l=!1,c=0,d=t.steps.map(D=>{let T=this._makeStyleAst(D,e),F=T.offset!=null?T.offset:Aa(T.styles),O=0;return F!=null&&(a++,O=T.offset=F),l=l||O<0||O>1,s=s||O<c,c=O,r.push(O),T});l&&e.errors.push(qo()),s&&e.errors.push(Qo());let m=t.steps.length,_=0;a>0&&a<m?e.errors.push(Go()):a==0&&(_=n/(m-1));let f=m-1,u=e.currentTime,h=e.currentAnimateTimings,x=h.duration;return d.forEach((D,T)=>{let F=_>0?T==f?1:_*T:r[T],O=F*x;e.currentTime=u+h.delay+O,h.duration=O,this._validateStyleAst(D,e),D.offset=F,i.styles.push(D)}),i}visitReference(t,e){return{type:v.Reference,animation:j(this,Ut(t.animation),e),options:vt(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:v.AnimateChild,options:vt(t.options)}}visitAnimateRef(t,e){return{type:v.AnimateRef,animation:this.visitReference(t.animation,e),options:vt(t.options)}}visitQuery(t,e){let i=e.currentQuerySelector,n=t.options||{};e.queryCount++,e.currentQuery=t;let[a,r]=Oa(t.selector);e.currentQuerySelector=i.length?i+" "+a:a,H(e.collectedStyles,e.currentQuerySelector,new Map);let s=j(this,Ut(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:v.Query,selector:a,limit:n.limit||0,optional:!!n.optional,includeSelf:r,animation:s,originalSelector:t.selector,options:vt(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(Zo());let i=t.timings==="full"?{duration:0,delay:0,easing:"full"}:pe(t.timings,e.errors,!0);return{type:v.Stagger,animation:j(this,Ut(t.animation),e),timings:i,options:null}}};function Oa(o){let t=!!o.split(/\s*,\s*/).find(e=>e==Gn);return t&&(o=o.replace(Pa,"")),o=o.replace(/@\*/g,ue).replace(/@\w+/g,e=>ue+"-"+e.slice(1)).replace(/:animating/g,si),[o,t]}function Ra(o){return o?Q({},o):null}var mi=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function Aa(o){if(typeof o=="string")return null;let t=null;if(Array.isArray(o))o.forEach(e=>{if(e instanceof Map&&e.has("offset")){let i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(o instanceof Map&&o.has("offset")){let e=o;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function Ia(o,t){if(o.hasOwnProperty("duration"))return o;if(typeof o=="number"){let a=pe(o,t).duration;return ei(a,0,"")}let e=o;if(e.split(/\s+/).some(a=>a.charAt(0)=="{"&&a.charAt(1)=="{")){let a=ei(0,0,"");return a.dynamic=!0,a.strValue=e,a}let n=pe(e,t);return ei(n.duration,n.delay,n.easing)}function vt(o){return o?(o=Q({},o),o.params&&(o.params=Ra(o.params))):o={},o}function ei(o,t,e){return{duration:o,delay:t,easing:e}}function ki(o,t,e,i,n,a,r=null,s=!1){return{type:1,element:o,keyframes:t,preStyleProps:e,postStyleProps:i,duration:n,delay:a,totalTime:n+a,easing:r,subTimeline:s}}var Kt=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},Fa=1,Na=":enter",La=new RegExp(Na,"g"),za=":leave",Ba=new RegExp(za,"g");function Jn(o,t,e,i,n,a=new Map,r=new Map,s,l,c=[]){return new ui().buildKeyframes(o,t,e,i,n,a,r,s,l,c)}var ui=class{buildKeyframes(t,e,i,n,a,r,s,l,c,d=[]){c=c||new Kt;let m=new pi(t,e,c,n,a,d,[]);m.options=l;let _=l.delay?ot(l.delay):0;m.currentTimeline.delayNextStep(_),m.currentTimeline.setStyles([r],null,m.errors,l),j(this,i,m);let f=m.timelines.filter(u=>u.containsAnimation());if(f.length&&s.size){let u;for(let h=f.length-1;h>=0;h--){let x=f[h];if(x.element===e){u=x;break}}u&&!u.allowOnlyTimelineStyles()&&u.setStyles([s],null,m.errors,l)}return f.length?f.map(u=>u.buildKeyframes()):[ki(e,[],[],[],0,_,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let i=e.subInstructions.get(e.element);if(i){let n=e.createSubContext(t.options),a=e.currentTimeline.currentTime,r=this._visitSubInstructions(i,n,n.options);a!=r&&e.transformIntoNewTimeline(r)}e.previousNode=t}visitAnimateRef(t,e){let i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(let n of t){let a=n?.delay;if(a){let r=typeof a=="number"?a:ot($t(a,n?.params??{},e.errors));i.delayNextStep(r)}}}_visitSubInstructions(t,e,i){let a=e.currentTimeline.currentTime,r=i.duration!=null?ot(i.duration):null,s=i.delay!=null?ot(i.delay):null;return r!==0&&t.forEach(l=>{let c=e.appendInstructionToTimeline(l,r,s);a=Math.max(a,c.duration+c.delay)}),a}visitReference(t,e){e.updateOptions(t.options,!0),j(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let i=e.subContextCount,n=e,a=t.options;if(a&&(a.params||a.delay)&&(n=e.createSubContext(a),n.transformIntoNewTimeline(),a.delay!=null)){n.previousNode.type==v.Style&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=be);let r=ot(a.delay);n.delayNextStep(r)}t.steps.length&&(t.steps.forEach(r=>j(this,r,n)),n.currentTimeline.applyStylesToKeyframe(),n.subContextCount>i&&n.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let i=[],n=e.currentTimeline.currentTime,a=t.options&&t.options.delay?ot(t.options.delay):0;t.steps.forEach(r=>{let s=e.createSubContext(t.options);a&&s.delayNextStep(a),j(this,r,s),n=Math.max(n,s.currentTimeline.currentTime),i.push(s.currentTimeline)}),i.forEach(r=>e.currentTimeline.mergeTimelineCollectedStyles(r)),e.transformIntoNewTimeline(n),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let i=t.strValue,n=e.params?$t(i,e.params,e.errors):i;return pe(n,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let i=e.currentAnimateTimings=this._visitTiming(t.timings,e),n=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),n.snapshotCurrentStyles());let a=t.style;a.type==v.Keyframes?this.visitKeyframes(a,e):(e.incrementTime(i.duration),this.visitStyle(a,e),n.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let i=e.currentTimeline,n=e.currentAnimateTimings;!n&&i.hasCurrentStyleProperties()&&i.forwardFrame();let a=n&&n.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(a):i.setStyles(t.styles,a,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let i=e.currentAnimateTimings,n=e.currentTimeline.duration,a=i.duration,s=e.createSubContext().currentTimeline;s.easing=i.easing,t.styles.forEach(l=>{let c=l.offset||0;s.forwardTime(c*a),s.setStyles(l.styles,l.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(n+a),e.previousNode=t}visitQuery(t,e){let i=e.currentTimeline.currentTime,n=t.options||{},a=n.delay?ot(n.delay):0;a&&(e.previousNode.type===v.Style||i==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=be);let r=i,s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!n.optional,e.errors);e.currentQueryTotal=s.length;let l=null;s.forEach((c,d)=>{e.currentQueryIndex=d;let m=e.createSubContext(t.options,c);a&&m.delayNextStep(a),c===e.element&&(l=m.currentTimeline),j(this,t.animation,m),m.currentTimeline.applyStylesToKeyframe();let _=m.currentTimeline.currentTime;r=Math.max(r,_)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(r),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let i=e.parentContext,n=e.currentTimeline,a=t.timings,r=Math.abs(a.duration),s=r*(e.currentQueryTotal-1),l=r*e.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":l=s-l;break;case"full":l=i.currentStaggerTime;break}let d=e.currentTimeline;l&&d.delayNextStep(l);let m=d.currentTime;j(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=n.currentTime-m+(n.startTime-i.currentTimeline.startTime)}},be={},pi=class o{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=be;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,i,n,a,r,s,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=n,this._leaveClassName=a,this.errors=r,this.timelines=s,this.currentTimeline=l||new ge(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let i=t,n=this.options;i.duration!=null&&(n.duration=ot(i.duration)),i.delay!=null&&(n.delay=ot(i.delay));let a=i.params;if(a){let r=n.params;r||(r=this.options.params={}),Object.keys(a).forEach(s=>{(!e||!r.hasOwnProperty(s))&&(r[s]=$t(a[s],r,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let i=t.params={};Object.keys(e).forEach(n=>{i[n]=e[n]})}}return t}createSubContext(t=null,e,i){let n=e||this.element,a=new o(this._driver,n,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(n,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(t),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(t){return this.previousNode=be,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){let n={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},a=new hi(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,n,t.stretchStartingKeyframe);return this.timelines.push(a),n}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,n,a,r){let s=[];if(n&&s.push(this.element),t.length>0){t=t.replace(La,"."+this._enterClassName),t=t.replace(Ba,"."+this._leaveClassName);let l=i!=1,c=this._driver.query(this.element,t,l);i!==0&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),s.push(...c)}return!a&&s.length==0&&r.push(Jo(e)),s}},ge=class o{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,i,n){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=n,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new o(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Fa,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||J),this._currentKeyframe.set(e,J);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,n){e&&this._previousKeyframe.set("easing",e);let a=n&&n.params||{},r=Va(t,this._globalTimelineStyles);for(let[s,l]of r){let c=$t(l,a,i);this._pendingStyles.set(s,c),this._localTimelineStyles.has(s)||this._backFill.set(s,this._globalTimelineStyles.get(s)??J),this._updateStyle(s,c)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{let n=this._styleSummary.get(i);(!n||e.time>n.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,i=this._keyframes.size===1&&this.duration===0,n=[];this._keyframes.forEach((s,l)=>{let c=new Map([...this._backFill,...s]);c.forEach((d,m)=>{d===re?t.add(m):d===J&&e.add(m)}),i||c.set("offset",l/this.duration),n.push(c)});let a=[...t.values()],r=[...e.values()];if(i){let s=n[0],l=new Map(s);s.set("offset",0),l.set("offset",1),n=[s,l]}return ki(this.element,n,a,r,this.duration,this.startTime,this.easing,!1)}},hi=class extends ge{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,i,n,a,r,s=!1){super(t,e,r.delay),this.keyframes=i,this.preStyleProps=n,this.postStyleProps=a,this._stretchStartingKeyframe=s,this.timings={duration:r.duration,delay:r.delay,easing:r.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:n}=this.timings;if(this._stretchStartingKeyframe&&e){let a=[],r=i+e,s=e/r,l=new Map(t[0]);l.set("offset",0),a.push(l);let c=new Map(t[0]);c.set("offset",Ln(s)),a.push(c);let d=t.length-1;for(let m=1;m<=d;m++){let _=new Map(t[m]),f=_.get("offset"),u=e+f*i;_.set("offset",Ln(u/r)),a.push(_)}i=r,e=0,n="",t=a}return ki(this.element,t,this.preStyleProps,this.postStyleProps,i,e,n,!0)}};function Ln(o,t=3){let e=Math.pow(10,t-1);return Math.round(o*e)/e}function Va(o,t){let e=new Map,i;return o.forEach(n=>{if(n==="*"){i??=t.keys();for(let a of i)e.set(a,J)}else for(let[a,r]of n)e.set(a,r)}),e}function zn(o,t,e,i,n,a,r,s,l,c,d,m,_){return{type:0,element:o,triggerName:t,isRemovalTransition:n,fromState:e,fromStyles:a,toState:i,toStyles:r,timelines:s,queriedElements:l,preStyleProps:c,postStyleProps:d,totalTime:m,errors:_}}var ii={},_e=class{_triggerName;ast;_stateStyles;constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,n){return ja(this.ast.matchers,t,e,i,n)}buildStyles(t,e,i){let n=this._stateStyles.get("*");return t!==void 0&&(n=this._stateStyles.get(t?.toString())||n),n?n.buildStyles(e,i):new Map}build(t,e,i,n,a,r,s,l,c,d){let m=[],_=this.ast.options&&this.ast.options.params||ii,f=s&&s.params||ii,u=this.buildStyles(i,f,m),h=l&&l.params||ii,x=this.buildStyles(n,h,m),D=new Set,T=new Map,F=new Map,O=n==="void",Mt={params:to(h,_),delay:this.ast.options?.delay},X=d?[]:Jn(t,e,this.ast.animation,a,r,u,x,Mt,c,m),N=0;return X.forEach(L=>{N=Math.max(L.duration+L.delay,N)}),m.length?zn(e,this._triggerName,i,n,O,u,x,[],[],T,F,N,m):(X.forEach(L=>{let mt=L.element,Ct=H(T,mt,new Set);L.preStyleProps.forEach(ut=>Ct.add(ut));let Ui=H(F,mt,new Set);L.postStyleProps.forEach(ut=>Ui.add(ut)),mt!==e&&D.add(mt)}),zn(e,this._triggerName,i,n,O,u,x,X,[...D.values()],T,F,N))}};function ja(o,t,e,i,n){return o.some(a=>a(t,e,i,n))}function to(o,t){let e=Q({},t);return Object.entries(o).forEach(([i,n])=>{n!=null&&(e[i]=n)}),e}var fi=class{styles;defaultParams;normalizer;constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){let i=new Map,n=to(t,this.defaultParams);return this.styles.styles.forEach(a=>{typeof a!="string"&&a.forEach((r,s)=>{r&&(r=$t(r,n,e));let l=this.normalizer.normalizePropertyName(s,e);r=this.normalizer.normalizeStyleValue(s,l,r,e),i.set(s,r)})}),i}};function Ha(o,t,e){return new bi(o,t,e)}var bi=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,e.states.forEach(n=>{let a=n.options&&n.options.params||{};this.states.set(n.name,new fi(n.style,a,i))}),Bn(this.states,"true","1"),Bn(this.states,"false","0"),e.transitions.forEach(n=>{this.transitionFactories.push(new _e(t,n,this.states))}),this.fallbackTransition=Ya(t,this.states,this._normalizer)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,n){return this.transitionFactories.find(r=>r.match(t,e,i,n))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}};function Ya(o,t,e){let i=[(r,s)=>!0],n={type:v.Sequence,steps:[],options:null},a={type:v.Transition,animation:n,matchers:i,options:null,queryCount:0,depCount:0};return new _e(o,a,t)}function Bn(o,t,e){o.has(t)?o.has(e)||o.set(e,o.get(t)):o.has(e)&&o.set(t,o.get(e))}var Ua=new Kt,gi=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i}register(t,e){let i=[],n=[],a=Zn(this._driver,e,i,n);if(i.length)throw oa(i);this._animations.set(t,a)}_buildPlayer(t,e,i){let n=t.element,a=Wn(this._normalizer,t.keyframes,e,i);return this._driver.animate(n,a,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){let n=[],a=this._animations.get(t),r,s=new Map;if(a?(r=Jn(this._driver,e,a,qn,ri,new Map,new Map,i,Ua,n),r.forEach(d=>{let m=H(s,d.element,new Map);d.postStyleProps.forEach(_=>m.set(_,null))})):(n.push(aa()),r=[]),n.length)throw ra(n);s.forEach((d,m)=>{d.forEach((_,f)=>{d.set(f,this._driver.computeStyle(m,f,J))})});let l=r.map(d=>{let m=s.get(d.element);return this._buildPlayer(d,new Map,m)}),c=dt(l);return this._playersById.set(t,c),c.onDestroy(()=>this.destroy(t)),this.players.push(c),c}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw sa(t);return e}listen(t,e,i,n){let a=Ei(e,"","","");return wi(this._getPlayer(t),i,a,n),()=>{}}command(t,e,i,n){if(i=="register"){this.register(t,n[0]);return}if(i=="create"){let r=n[0]||{};this.create(t,e,r);return}let a=this._getPlayer(t);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(n[0]));break;case"destroy":this.destroy(t);break}}},Vn="ng-animate-queued",Wa=".ng-animate-queued",ni="ng-animate-disabled",$a=".ng-animate-disabled",Ka="ng-star-inserted",Xa=".ng-star-inserted",qa=[],eo={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Qa={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},$="__ng_removed",Xt=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let i=t&&t.hasOwnProperty("value"),n=i?t.value:t;if(this.value=Za(n),i){let a=t,{value:r}=a,s=Xi(a,["value"]);this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let i=this.options.params;Object.keys(e).forEach(n=>{i[n]==null&&(i[n]=e[n])})}}},Wt="void",oi=new Xt(Wt),_i=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this._hostClassName="ng-tns-"+t,W(e,this._hostClassName)}listen(t,e,i,n){if(!this._triggers.has(e))throw la(i,e);if(i==null||i.length==0)throw ca(e);if(!Ja(i))throw da(i,e);let a=H(this._elementListeners,t,[]),r={name:e,phase:i,callback:n};a.push(r);let s=H(this._engine.statesByElement,t,new Map);return s.has(e)||(W(t,se),W(t,se+"-"+e),s.set(e,oi)),()=>{this._engine.afterFlush(()=>{let l=a.indexOf(r);l>=0&&a.splice(l,1),this._triggers.has(e)||s.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw ma(t);return e}trigger(t,e,i,n=!0){let a=this._getTrigger(e),r=new qt(this.id,e,t),s=this._engine.statesByElement.get(t);s||(W(t,se),W(t,se+"-"+e),this._engine.statesByElement.set(t,s=new Map));let l=s.get(e),c=new Xt(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),s.set(e,c),l||(l=oi),!(c.value===Wt)&&l.value===c.value){if(!ir(l.params,c.params)){let h=[],x=a.matchStyles(l.value,l.params,h),D=a.matchStyles(c.value,c.params,h);h.length?this._engine.reportError(h):this._engine.afterFlush(()=>{wt(t,x),tt(t,D)})}return}let _=H(this._engine.playersByElement,t,[]);_.forEach(h=>{h.namespaceId==this.id&&h.triggerName==e&&h.queued&&h.destroy()});let f=a.matchTransition(l.value,c.value,t,c.params),u=!1;if(!f){if(!n)return;f=a.fallbackTransition,u=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:f,fromState:l,toState:c,player:r,isFallbackTransition:u}),u||(W(t,Vn),r.onStart(()=>{Rt(t,Vn)})),r.onDone(()=>{let h=this.players.indexOf(r);h>=0&&this.players.splice(h,1);let x=this._engine.playersByElement.get(t);if(x){let D=x.indexOf(r);D>=0&&x.splice(D,1)}}),this.players.push(r),_.push(r),r}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(n=>n.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let i=this._engine.driver.query(t,ue,!0);i.forEach(n=>{if(n[$])return;let a=this._engine.fetchNamespacesByElement(n);a.size?a.forEach(r=>r.triggerLeaveAnimation(n,e,!1,!0)):this.clearElementCache(n)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(n=>this.clearElementCache(n)))}triggerLeaveAnimation(t,e,i,n){let a=this._engine.statesByElement.get(t),r=new Map;if(a){let s=[];if(a.forEach((l,c)=>{if(r.set(c,l.value),this._triggers.has(c)){let d=this.trigger(t,c,Wt,n);d&&s.push(d)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,r),i&&dt(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){let n=new Set;e.forEach(a=>{let r=a.name;if(n.has(r))return;n.add(r);let l=this._triggers.get(r).fallbackTransition,c=i.get(r)||oi,d=new Xt(Wt),m=new qt(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:l,fromState:c,toState:d,player:m,isFallbackTransition:!0})})}}removeNode(t,e){let i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let n=!1;if(i.totalAnimations){let a=i.players.length?i.playersByQueriedElement.get(t):[];if(a&&a.length)n=!0;else{let r=t;for(;r=r.parentNode;)if(i.statesByElement.get(r)){n=!0;break}}}if(this.prepareLeaveAnimationListeners(t),n)i.markElementAsRemoved(this.id,t,!1,e);else{let a=t[$];(!a||a===eo)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){W(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(i=>{let n=i.player;if(n.destroyed)return;let a=i.element,r=this._elementListeners.get(a);r&&r.forEach(s=>{if(s.name==i.triggerName){let l=Ei(a,i.triggerName,i.fromState.value,i.toState.value);l._data=t,wi(i.player,s.phase,l,s.callback)}}),n.markedForDestroy?this._engine.afterFlush(()=>{n.destroy()}):e.push(i)}),this._queue=[],e.sort((i,n)=>{let a=i.transition.ast.depCount,r=n.transition.ast.depCount;return a==0||r==0?a-r:this._engine.driver.containsElement(i.element,n.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},yi=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){let i=new _i(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){let i=this._namespaceList,n=this.namespacesByHostElement;if(i.length-1>=0){let r=!1,s=this.driver.getParentElement(e);for(;s;){let l=n.get(s);if(l){let c=i.indexOf(l);i.splice(c+1,0,t),r=!0;break}s=this.driver.getParentElement(s)}r||i.unshift(t)}else i.push(t);return n.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let n=this._namespaceLookup[t];n&&n.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);let n=this._namespaceList.indexOf(i);n>=0&&this._namespaceList.splice(n,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,i=this.statesByElement.get(t);if(i){for(let n of i.values())if(n.namespaceId){let a=this._fetchNamespace(n.namespaceId);a&&e.add(a)}}return e}trigger(t,e,i,n){if(de(e)){let a=this._fetchNamespace(t);if(a)return a.trigger(e,i,n),!0}return!1}insertNode(t,e,i,n){if(!de(e))return;let a=e[$];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;let r=this.collectedLeaveElements.indexOf(e);r>=0&&this.collectedLeaveElements.splice(r,1)}if(t){let r=this._fetchNamespace(t);r&&r.insertNode(e,i)}n&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),W(t,ni)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Rt(t,ni))}removeNode(t,e,i){if(de(e)){let n=t?this._fetchNamespace(t):null;n?n.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);let a=this.namespacesByHostElement.get(e);a&&a.id!==t&&a.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,n,a){this.collectedLeaveElements.push(e),e[$]={namespaceId:t,setForRemoval:n,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(t,e,i,n,a){return de(e)?this._fetchNamespace(t).listen(e,i,n,a):()=>{}}_buildInstruction(t,e,i,n,a){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,n,t.fromState.options,t.toState.options,e,a)}destroyInnerAnimations(t){let e=this.driver.query(t,ue,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,si,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return dt(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[$];if(e&&e.setForRemoval){if(t[$]=eo,e.namespaceId){this.destroyInnerAnimations(t);let i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(ni)&&this.markElementAsDisabled(t,!1),this.driver.query(t,$a,!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,n)=>this._balanceNamespaceList(i,n)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++){let n=this.collectedEnterElements[i];W(n,Ka)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let i=[];try{e=this._flushAnimations(i,t)}finally{for(let n=0;n<i.length;n++)i[n]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++){let n=this.collectedLeaveElements[i];this.processLeaveNode(n)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){let i=this._whenQuietFns;this._whenQuietFns=[],e.length?dt(e).onDone(()=>{i.forEach(n=>n())}):i.forEach(n=>n())}}reportError(t){throw ua(t)}_flushAnimations(t,e){let i=new Kt,n=[],a=new Map,r=[],s=new Map,l=new Map,c=new Map,d=new Set;this.disabledNodes.forEach(p=>{d.add(p);let b=this.driver.query(p,Wa,!0);for(let g=0;g<b.length;g++)d.add(b[g])});let m=this.bodyNode,_=Array.from(this.statesByElement.keys()),f=Yn(_,this.collectedEnterElements),u=new Map,h=0;f.forEach((p,b)=>{let g=qn+h++;u.set(b,g),p.forEach(w=>W(w,g))});let x=[],D=new Set,T=new Set;for(let p=0;p<this.collectedLeaveElements.length;p++){let b=this.collectedLeaveElements[p],g=b[$];g&&g.setForRemoval&&(x.push(b),D.add(b),g.hasAnimation?this.driver.query(b,Xa,!0).forEach(w=>D.add(w)):T.add(b))}let F=new Map,O=Yn(_,Array.from(D));O.forEach((p,b)=>{let g=ri+h++;F.set(b,g),p.forEach(w=>W(w,g))}),t.push(()=>{f.forEach((p,b)=>{let g=u.get(b);p.forEach(w=>Rt(w,g))}),O.forEach((p,b)=>{let g=F.get(b);p.forEach(w=>Rt(w,g))}),x.forEach(p=>{this.processLeaveNode(p)})});let Mt=[],X=[];for(let p=this._namespaceList.length-1;p>=0;p--)this._namespaceList[p].drainQueuedTransitions(e).forEach(g=>{let w=g.player,P=g.element;if(Mt.push(w),this.collectedEnterElements.length){let R=P[$];if(R&&R.setForMove){if(R.previousTriggersValues&&R.previousTriggersValues.has(g.triggerName)){let pt=R.previousTriggersValues.get(g.triggerName),Y=this.statesByElement.get(g.element);if(Y&&Y.has(g.triggerName)){let Gt=Y.get(g.triggerName);Gt.value=pt,Y.set(g.triggerName,Gt)}}w.destroy();return}}let q=!m||!this.driver.containsElement(m,P),V=F.get(P),at=u.get(P),S=this._buildInstruction(g,i,at,V,q);if(S.errors&&S.errors.length){X.push(S);return}if(q){w.onStart(()=>wt(P,S.fromStyles)),w.onDestroy(()=>tt(P,S.toStyles)),n.push(w);return}if(g.isFallbackTransition){w.onStart(()=>wt(P,S.fromStyles)),w.onDestroy(()=>tt(P,S.toStyles)),n.push(w);return}let Ki=[];S.timelines.forEach(R=>{R.stretchStartingKeyframe=!0,this.disabledNodes.has(R.element)||Ki.push(R)}),S.timelines=Ki,i.append(P,S.timelines);let To={instruction:S,player:w,element:P};r.push(To),S.queriedElements.forEach(R=>H(s,R,[]).push(w)),S.preStyleProps.forEach((R,pt)=>{if(R.size){let Y=l.get(pt);Y||l.set(pt,Y=new Set),R.forEach((Gt,Oe)=>Y.add(Oe))}}),S.postStyleProps.forEach((R,pt)=>{let Y=c.get(pt);Y||c.set(pt,Y=new Set),R.forEach((Gt,Oe)=>Y.add(Oe))})});if(X.length){let p=[];X.forEach(b=>{p.push(pa(b.triggerName,b.errors))}),Mt.forEach(b=>b.destroy()),this.reportError(p)}let N=new Map,L=new Map;r.forEach(p=>{let b=p.element;i.has(b)&&(L.set(b,b),this._beforeAnimationBuild(p.player.namespaceId,p.instruction,N))}),n.forEach(p=>{let b=p.element;this._getPreviousPlayers(b,!1,p.namespaceId,p.triggerName,null).forEach(w=>{H(N,b,[]).push(w),w.destroy()})});let mt=x.filter(p=>Un(p,l,c)),Ct=new Map;Hn(Ct,this.driver,T,c,J).forEach(p=>{Un(p,l,c)&&mt.push(p)});let ut=new Map;f.forEach((p,b)=>{Hn(ut,this.driver,new Set(p),l,re)}),mt.forEach(p=>{let b=Ct.get(p),g=ut.get(p);Ct.set(p,new Map([...b?.entries()??[],...g?.entries()??[]]))});let Pe=[],Wi=[],$i={};r.forEach(p=>{let{element:b,player:g,instruction:w}=p;if(i.has(b)){if(d.has(b)){g.onDestroy(()=>tt(b,w.toStyles)),g.disabled=!0,g.overrideTotalTime(w.totalTime),n.push(g);return}let P=$i;if(L.size>1){let V=b,at=[];for(;V=V.parentNode;){let S=L.get(V);if(S){P=S;break}at.push(V)}at.forEach(S=>L.set(S,P))}let q=this._buildAnimation(g.namespaceId,w,N,a,ut,Ct);if(g.setRealPlayer(q),P===$i)Pe.push(g);else{let V=this.playersByElement.get(P);V&&V.length&&(g.parentPlayer=dt(V)),n.push(g)}}else wt(b,w.fromStyles),g.onDestroy(()=>tt(b,w.toStyles)),Wi.push(g),d.has(b)&&n.push(g)}),Wi.forEach(p=>{let b=a.get(p.element);if(b&&b.length){let g=dt(b);p.setRealPlayer(g)}}),n.forEach(p=>{p.parentPlayer?p.syncPlayerEvents(p.parentPlayer):p.destroy()});for(let p=0;p<x.length;p++){let b=x[p],g=b[$];if(Rt(b,ri),g&&g.hasAnimation)continue;let w=[];if(s.size){let q=s.get(b);q&&q.length&&w.push(...q);let V=this.driver.query(b,si,!0);for(let at=0;at<V.length;at++){let S=s.get(V[at]);S&&S.length&&w.push(...S)}}let P=w.filter(q=>!q.destroyed);P.length?tr(this,b,P):this.processLeaveNode(b)}return x.length=0,Pe.forEach(p=>{this.players.push(p),p.onDone(()=>{p.destroy();let b=this.players.indexOf(p);this.players.splice(b,1)}),p.play()}),Pe}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,n,a){let r=[];if(e){let s=this.playersByQueriedElement.get(t);s&&(r=s)}else{let s=this.playersByElement.get(t);if(s){let l=!a||a==Wt;s.forEach(c=>{c.queued||!l&&c.triggerName!=n||r.push(c)})}}return(i||n)&&(r=r.filter(s=>!(i&&i!=s.namespaceId||n&&n!=s.triggerName))),r}_beforeAnimationBuild(t,e,i){let n=e.triggerName,a=e.element,r=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:n;for(let l of e.timelines){let c=l.element,d=c!==a,m=H(i,c,[]);this._getPreviousPlayers(c,d,r,s,e.toState).forEach(f=>{let u=f.getRealPlayer();u.beforeDestroy&&u.beforeDestroy(),f.destroy(),m.push(f)})}wt(a,e.fromStyles)}_buildAnimation(t,e,i,n,a,r){let s=e.triggerName,l=e.element,c=[],d=new Set,m=new Set,_=e.timelines.map(u=>{let h=u.element;d.add(h);let x=h[$];if(x&&x.removedBeforeQueried)return new ct(u.duration,u.delay);let D=h!==l,T=er((i.get(h)||qa).map(N=>N.getRealPlayer())).filter(N=>{let L=N;return L.element?L.element===h:!1}),F=a.get(h),O=r.get(h),Mt=Wn(this._normalizer,u.keyframes,F,O),X=this._buildPlayer(u,Mt,T);if(u.subTimeline&&n&&m.add(h),D){let N=new qt(t,s,h);N.setRealPlayer(X),c.push(N)}return X});c.forEach(u=>{H(this.playersByQueriedElement,u.element,[]).push(u),u.onDone(()=>Ga(this.playersByQueriedElement,u.element,u))}),d.forEach(u=>W(u,In));let f=dt(_);return f.onDestroy(()=>{d.forEach(u=>Rt(u,In)),tt(l,e.toStyles)}),m.forEach(u=>{H(n,u,[]).push(f)}),f}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new ct(t.duration,t.delay)}},qt=class{namespaceId;triggerName;element;_player=new ct;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(n=>wi(t,i,void 0,n))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){H(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function Ga(o,t,e){let i=o.get(t);if(i){if(i.length){let n=i.indexOf(e);i.splice(n,1)}i.length==0&&o.delete(t)}return i}function Za(o){return o??null}function de(o){return o&&o.nodeType===1}function Ja(o){return o=="start"||o=="done"}function jn(o,t){let e=o.style.display;return o.style.display=t??"none",e}function Hn(o,t,e,i,n){let a=[];e.forEach(l=>a.push(jn(l)));let r=[];i.forEach((l,c)=>{let d=new Map;l.forEach(m=>{let _=t.computeStyle(c,m,n);d.set(m,_),(!_||_.length==0)&&(c[$]=Qa,r.push(c))}),o.set(c,d)});let s=0;return e.forEach(l=>jn(l,a[s++])),r}function Yn(o,t){let e=new Map;if(o.forEach(s=>e.set(s,[])),t.length==0)return e;let i=1,n=new Set(t),a=new Map;function r(s){if(!s)return i;let l=a.get(s);if(l)return l;let c=s.parentNode;return e.has(c)?l=c:n.has(c)?l=i:l=r(c),a.set(s,l),l}return t.forEach(s=>{let l=r(s);l!==i&&e.get(l).push(s)}),e}function W(o,t){o.classList?.add(t)}function Rt(o,t){o.classList?.remove(t)}function tr(o,t,e){dt(e).onDone(()=>o.processLeaveNode(t))}function er(o){let t=[];return io(o,t),t}function io(o,t){for(let e=0;e<o.length;e++){let i=o[e];i instanceof Yt?io(i.players,t):t.push(i)}}function ir(o,t){let e=Object.keys(o),i=Object.keys(t);if(e.length!=i.length)return!1;for(let n=0;n<e.length;n++){let a=e[n];if(!t.hasOwnProperty(a)||o[a]!==t[a])return!1}return!0}function Un(o,t,e){let i=e.get(o);if(!i)return!1;let n=t.get(o);return n?i.forEach(a=>n.add(a)):t.set(o,i),e.delete(o),!0}var At=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,i){this._driver=e,this._normalizer=i,this._transitionEngine=new yi(t.body,e,i),this._timelineEngine=new gi(t.body,e,i),this._transitionEngine.onRemovalComplete=(n,a)=>this.onRemovalComplete(n,a)}registerTrigger(t,e,i,n,a){let r=t+"-"+n,s=this._triggerCache[r];if(!s){let l=[],c=[],d=Zn(this._driver,a,l,c);if(l.length)throw ia(n,l);s=Ha(n,d,this._normalizer),this._triggerCache[r]=s}this._transitionEngine.registerTrigger(e,n,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,n){this._transitionEngine.insertNode(t,e,i,n)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,n){if(i.charAt(0)=="@"){let[a,r]=Rn(i),s=n;this._timelineEngine.command(a,e,r,s)}else this._transitionEngine.trigger(t,e,i,n)}listen(t,e,i,n,a){if(i.charAt(0)=="@"){let[r,s]=Rn(i);return this._timelineEngine.listen(r,e,s,a)}return this._transitionEngine.listen(t,e,i,n,a)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function nr(o,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=ai(t[0]),t.length>1&&(i=ai(t[t.length-1]))):t instanceof Map&&(e=ai(t)),e||i?new or(o,e,i):null}var or=(()=>{class o{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,i,n){this._element=e,this._startStyles=i,this._endStyles=n;let a=o.initialStylesByElement.get(e);a||o.initialStylesByElement.set(e,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&tt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(tt(this._element,this._initialStyles),this._endStyles&&(tt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(o.initialStylesByElement.delete(this._element),this._startStyles&&(wt(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(wt(this._element,this._endStyles),this._endStyles=null),tt(this._element,this._initialStyles),this._state=3)}}return o})();function ai(o){let t=null;return o.forEach((e,i)=>{ar(i)&&(t=t||new Map,t.set(i,e))}),t}function ar(o){return o==="display"||o==="position"}var ye=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,i,n){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=n,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,n)=>{n!=="offset"&&t.set(n,this._finished?i:Ci(this.element,n))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}},ve=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return $n(t,e)}getParentElement(t){return xi(t)}query(t,e,i){return Kn(t,e,i)}computeStyle(t,e,i){return Ci(t,e)}animate(t,e,i,n,a,r=[]){let s=n==0?"both":"forwards",l={duration:i,delay:n,fill:s};a&&(l.easing=a);let c=new Map,d=r.filter(f=>f instanceof ye);Sa(i,n)&&d.forEach(f=>{f.currentSnapshot.forEach((u,h)=>c.set(h,u))});let m=wa(e).map(f=>new Map(f));m=Ma(t,m,c);let _=nr(t,m);return new ye(t,m,l,_)}};var me="@",no="@.disabled",we=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,i,n){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=n}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,n=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,n)}removeChild(t,e,i){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,n){this.delegate.setAttribute(t,e,i,n)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,n){this.delegate.setStyle(t,e,i,n)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){e.charAt(0)==me&&e==no?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i,n){return this.delegate.listen(t,e,i,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},vi=class extends we{factory;constructor(t,e,i,n,a){super(e,i,n,a),this.factory=t,this.namespaceId=e}setProperty(t,e,i){e.charAt(0)==me?e.charAt(1)=="."&&e==no?(i=i===void 0?!0:!!i,this.disableAnimations(t,i)):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i,n){if(e.charAt(0)==me){let a=rr(t),r=e.slice(1),s="";return r.charAt(0)!=me&&([r,s]=sr(r)),this.engine.listen(this.namespaceId,a,r,s,l=>{let c=l._data||-1;this.factory.scheduleListenerCallback(c,i,l)})}return this.delegate.listen(t,e,i,n)}};function rr(o){switch(o){case"body":return document.body;case"document":return document;case"window":return window;default:return o}}function sr(o){let t=o.indexOf("."),e=o.substring(0,t),i=o.slice(t+1);return[e,i]}var Ee=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,i){this.delegate=t,this.engine=e,this._zone=i,e.onRemovalComplete=(n,a)=>{a?.removeChild(null,n)}}createRenderer(t,e){let i="",n=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let c=this._rendererCache,d=c.get(n);if(!d){let m=()=>c.delete(n);d=new we(i,n,this.engine,m),c.set(n,d)}return d}let a=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);let s=c=>{Array.isArray(c)?c.forEach(s):this.engine.registerTrigger(a,r,t,c.name,c)};return e.data.animation.forEach(s),new vi(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,i){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(i));return}let n=this._animationCallbacksBuffer;n.length==0&&queueMicrotask(()=>{this._zone.run(()=>{n.forEach(a=>{let[r,s]=a;r(s)}),this._animationCallbacksBuffer=[]})}),n.push([e,i])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var cr=(()=>{class o extends At{constructor(e,i,n){super(e,i,n)}ngOnDestroy(){this.flush()}static \u0275fac=function(i){return new(i||o)(Lt(lt),Lt(Et),Lt(xt))};static \u0275prov=z({token:o,factory:o.\u0275fac})}return o})();function dr(){return new he}function mr(o,t,e){return new Ee(o,t,e)}var oo=[{provide:xt,useFactory:dr},{provide:At,useClass:cr},{provide:ft,useFactory:mr,deps:[mn,At,nt]}],ur=[{provide:Et,useFactory:()=>new ve},{provide:ht,useValue:"BrowserAnimations"},...oo],_s=[{provide:Et,useClass:Si},{provide:ht,useValue:"NoopAnimations"},...oo];function ao(){return Ji("NgEagerAnimations"),[...ur]}var K=(()=>{class o{constructor(){y(En)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(i){return new(i||o)};static \u0275mod=I({type:o});static \u0275inj=A({imports:[Ht,Ht]})}return o})();var Me=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=I({type:o});static \u0275inj=A({imports:[K,K]})}return o})();var co=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=I({type:o});static \u0275inj=A({imports:[K,K]})}return o})();var Qt=class{_attachedHost;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},Ri=class extends Qt{component;viewContainerRef;injector;componentFactoryResolver;projectableNodes;constructor(t,e,i,n,a){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.projectableNodes=a}},Ce=class extends Qt{templateRef;viewContainerRef;context;injector;constructor(t,e,i,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}},Ai=class extends Qt{element;constructor(t){super(),this.element=t instanceof Dt?t.nativeElement:t}},Ii=class{_attachedPortal;_disposeFn;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof Ri)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof Ce)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof Ai)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var ke=class extends Ii{outletElement;_appRef;_defaultInjector;_document;constructor(t,e,i,n,a){super(),this.outletElement=t,this._appRef=i,this._defaultInjector=n,this._document=a}attachComponentPortal(t){let e;if(t.viewContainerRef){let i=t.injector||t.viewContainerRef.injector,n=i.get(nn,null,{optional:!0})||void 0;e=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:i,ngModuleRef:n,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>e.destroy())}else e=rn(t.component,{elementInjector:t.injector||this._defaultInjector||kt.NULL,environmentInjector:this._appRef.injector,projectableNodes:t.projectableNodes||void 0}),this._appRef.attachView(e.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(e.hostView),e.destroy()});return this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=t,e}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(n=>this.outletElement.appendChild(n)),i.detectChanges(),this.setDisposeFn(()=>{let n=e.indexOf(i);n!==-1&&e.remove(n)}),this._attachedPortal=t,i}attachDomPortal=t=>{let e=t.element;e.parentNode;let i=this._document.createComment("dom-portal");e.parentNode.insertBefore(i,e),this.outletElement.appendChild(e),this._attachedPortal=t,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(e,i)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var po=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=I({type:o});static \u0275inj=A({})}return o})();var ho=_n(),Fi=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,e){this._viewportRuler=t,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=k(-this._previousScrollPosition.left),t.style.top=k(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,i=t.style,n=e.style,a=i.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),ho&&(i.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ho&&(i.scrollBehavior=a,n.scrollBehavior=r)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}};var Ni=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,e,i,n){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=n}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(Ft(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},De=class{enable(){}disable(){}attach(){}};function Li(o,t){return t.some(e=>{let i=o.bottom<e.top,n=o.top>e.bottom,a=o.right<e.left,r=o.left>e.right;return i||n||a||r})}function fo(o,t){return t.some(e=>{let i=o.top<e.top,n=o.bottom>e.bottom,a=o.left<e.left,r=o.right>e.right;return i||n||a||r})}var zi=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,e,i,n){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=n}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:n}=this._viewportRuler.getViewportSize();Li(e,[{width:i,height:n,bottom:n,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},br=(()=>{class o{_scrollDispatcher=y(vn);_viewportRuler=y(Ke);_ngZone=y(nt);_document=y(lt);constructor(){}noop=()=>new De;close=e=>new Ni(this._scrollDispatcher,this._ngZone,this._viewportRuler,e);block=()=>new Fi(this._viewportRuler,this._document);reposition=e=>new zi(this._scrollDispatcher,this._viewportRuler,this._ngZone,e);static \u0275fac=function(i){return new(i||o)};static \u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Te=class{positionStrategy;scrollStrategy=new De;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(t){if(t){let e=Object.keys(t);for(let i of e)t[i]!==void 0&&(this[i]=t[i])}}};var Bi=class{connectionPair;scrollableViewProperties;constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var wo=(()=>{class o{_attachedOverlays=[];_document=y(lt);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||o)};static \u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),gr=(()=>{class o extends wo{_ngZone=y(nt);_renderer=y(ft).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let i=this._attachedOverlays;for(let n=i.length-1;n>-1;n--)if(i[n]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[n]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(n){return(e||(e=zt(o)))(n||o)}})();static \u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),_r=(()=>{class o extends wo{_platform=y(ne);_ngZone=y(nt);_renderer=y(ft).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(e){if(super.add(e),!this._isAttached){let i=this._document.body,n={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[jt(this._renderer,i,"pointerdown",this._pointerDownListener,n),jt(this._renderer,i,"click",this._clickListener,n),jt(this._renderer,i,"auxclick",this._clickListener,n),jt(this._renderer,i,"contextmenu",this._clickListener,n)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=We(e)};_clickListener=e=>{let i=We(e),n=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let a=this._attachedOverlays.slice();for(let r=a.length-1;r>-1;r--){let s=a[r];if(s._outsidePointerEvents.observers.length<1||!s.hasAttached())continue;if(bo(s.overlayElement,i)||bo(s.overlayElement,n))break;let l=s._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>l.next(e)):l.next(e)}};static \u0275fac=(()=>{let e;return function(n){return(e||(e=zt(o)))(n||o)}})();static \u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function bo(o,t){let e=typeof ShadowRoot<"u"&&ShadowRoot,i=t;for(;i;){if(i===o)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var Eo=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275cmp=G({type:o,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,n){},styles:[".cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}"],encapsulation:2,changeDetection:0})}return o})(),xo=(()=>{class o{_platform=y(ne);_containerElement;_document=y(lt);_styleLoader=y(qe);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||$e()){let n=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let a=0;a<n.length;a++)n[a].remove()}let i=this._document.createElement("div");i.classList.add(e),$e()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(Eo)}static \u0275fac=function(i){return new(i||o)};static \u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),Vi=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(t,e,i,n){this._renderer=e,this._ngZone=i,this.element=t.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",n)}detach(){this._ngZone.runOutsideAngular(()=>{let t=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),t.style.pointerEvents="none",t.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},ji=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new rt;_attachments=new rt;_detachments=new rt;_positionStrategy;_scrollStrategy;_locationChanges=Re.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new rt;_outsidePointerEvents=new rt;_renders=new rt;_afterRenderRef;_afterNextRenderRef;constructor(t,e,i,n,a,r,s,l,c,d=!1,m,_){this._portalOutlet=t,this._host=e,this._pane=i,this._config=n,this._ngZone=a,this._keyboardDispatcher=r,this._document=s,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=d,this._injector=m,this._renderer=_,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy,this._afterRenderRef=an(()=>tn(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=Fe(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Q(Q({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Zt(Q({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=k(this._config.width),t.height=k(this._config.height),t.minWidth=k(this._config.minWidth),t.minHeight=k(this._config.minHeight),t.maxWidth=k(this._config.maxWidth),t.maxHeight=k(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new Vi(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(t))}):this._backdropRef.element.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(t,e,i){let n=Ue(e||[]).filter(a=>!!a);n.length&&(i?t.classList.add(...n):t.classList.remove(...n))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(Qi(qi(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t?.disable(),t?.detach?.()}},go="cdk-overlay-connected-position-bounding-box",yr=/([A-Za-z%]+)$/,Hi=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new rt;_resizeSubscription=Re.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,e,i,n,a){this._viewportRuler=e,this._document=i,this._platform=n,this._overlayContainer=a,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(go),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,e=this._overlayRect,i=this._viewportRect,n=this._containerRect,a=[],r;for(let s of this._preferredPositions){let l=this._getOriginPoint(t,n,s),c=this._getOverlayPoint(l,e,s),d=this._getOverlayFit(c,e,i,s);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(s,l);return}if(this._canFitWithFlexibleDimensions(d,c,i)){a.push({position:s,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,s)});continue}(!r||r.overlayFit.visibleArea<d.visibleArea)&&(r={overlayFit:d,overlayPoint:c,originPoint:l,position:s,overlayRect:e})}if(a.length){let s=null,l=-1;for(let c of a){let d=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);d>l&&(l=d,s=c)}this._isPushed=!1,this._applyPosition(s.position,s.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(r.position,r.originPoint);return}this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&St(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(go),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let n;if(i.originX=="center")n=t.left+t.width/2;else{let r=this._isRtl()?t.right:t.left,s=this._isRtl()?t.left:t.right;n=i.originX=="start"?r:s}e.left<0&&(n-=e.left);let a;return i.originY=="center"?a=t.top+t.height/2:a=i.originY=="top"?t.top:t.bottom,e.top<0&&(a-=e.top),{x:n,y:a}}_getOverlayPoint(t,e,i){let n;i.overlayX=="center"?n=-e.width/2:i.overlayX==="start"?n=this._isRtl()?-e.width:0:n=this._isRtl()?0:-e.width;let a;return i.overlayY=="center"?a=-e.height/2:a=i.overlayY=="top"?0:-e.height,{x:t.x+n,y:t.y+a}}_getOverlayFit(t,e,i,n){let a=yo(e),{x:r,y:s}=t,l=this._getOffset(n,"x"),c=this._getOffset(n,"y");l&&(r+=l),c&&(s+=c);let d=0-r,m=r+a.width-i.width,_=0-s,f=s+a.height-i.height,u=this._subtractOverflows(a.width,d,m),h=this._subtractOverflows(a.height,_,f),x=u*h;return{visibleArea:x,isCompletelyWithinViewport:a.width*a.height===x,fitsInViewportVertically:h===a.height,fitsInViewportHorizontally:u==a.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){let n=i.bottom-e.y,a=i.right-e.x,r=_o(this._overlayRef.getConfig().minHeight),s=_o(this._overlayRef.getConfig().minWidth),l=t.fitsInViewportVertically||r!=null&&r<=n,c=t.fitsInViewportHorizontally||s!=null&&s<=a;return l&&c}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let n=yo(e),a=this._viewportRect,r=Math.max(t.x+n.width-a.width,0),s=Math.max(t.y+n.height-a.height,0),l=Math.max(a.top-i.top-t.y,0),c=Math.max(a.left-i.left-t.x,0),d=0,m=0;return n.width<=a.width?d=c||-r:d=t.x<this._viewportMargin?a.left-i.left-t.x:0,n.height<=a.height?m=l||-s:m=t.y<this._viewportMargin?a.top-i.top-t.y:0,this._previousPushAmount={x:d,y:m},{x:t.x+d,y:t.y+m}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!vr(this._lastScrollVisibility,i)){let n=new Bi(t,i);this._positionChanges.next(n)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,n=t.overlayY;t.overlayX==="center"?i="center":this._isRtl()?i=t.overlayX==="start"?"right":"left":i=t.overlayX==="start"?"left":"right";for(let a=0;a<e.length;a++)e[a].style.transformOrigin=`${i} ${n}`}_calculateBoundingBoxRect(t,e){let i=this._viewportRect,n=this._isRtl(),a,r,s;if(e.overlayY==="top")r=t.y,a=i.height-r+this._viewportMargin;else if(e.overlayY==="bottom")s=i.height-t.y+this._viewportMargin*2,a=i.height-s+this._viewportMargin;else{let f=Math.min(i.bottom-t.y+i.top,t.y),u=this._lastBoundingBoxSize.height;a=f*2,r=t.y-f,a>u&&!this._isInitialRender&&!this._growAfterOpen&&(r=t.y-u/2)}let l=e.overlayX==="start"&&!n||e.overlayX==="end"&&n,c=e.overlayX==="end"&&!n||e.overlayX==="start"&&n,d,m,_;if(c)_=i.width-t.x+this._viewportMargin*2,d=t.x-this._viewportMargin;else if(l)m=t.x,d=i.right-t.x;else{let f=Math.min(i.right-t.x+i.left,t.x),u=this._lastBoundingBoxSize.width;d=f*2,m=t.x-f,d>u&&!this._isInitialRender&&!this._growAfterOpen&&(m=t.x-u/2)}return{top:r,left:m,bottom:s,right:_,width:d,height:a}}_setBoundingBoxStyles(t,e){let i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let n={};if(this._hasExactPosition())n.top=n.left="0",n.bottom=n.right=n.maxHeight=n.maxWidth="",n.width=n.height="100%";else{let a=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;n.height=k(i.height),n.top=k(i.top),n.bottom=k(i.bottom),n.width=k(i.width),n.left=k(i.left),n.right=k(i.right),e.overlayX==="center"?n.alignItems="center":n.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?n.justifyContent="center":n.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",a&&(n.maxHeight=k(a)),r&&(n.maxWidth=k(r))}this._lastBoundingBoxSize=i,St(this._boundingBox.style,n)}_resetBoundingBoxStyles(){St(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){St(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let i={},n=this._hasExactPosition(),a=this._hasFlexibleDimensions,r=this._overlayRef.getConfig();if(n){let d=this._viewportRuler.getViewportScrollPosition();St(i,this._getExactOverlayY(e,t,d)),St(i,this._getExactOverlayX(e,t,d))}else i.position="static";let s="",l=this._getOffset(e,"x"),c=this._getOffset(e,"y");l&&(s+=`translateX(${l}px) `),c&&(s+=`translateY(${c}px)`),i.transform=s.trim(),r.maxHeight&&(n?i.maxHeight=k(r.maxHeight):a&&(i.maxHeight="")),r.maxWidth&&(n?i.maxWidth=k(r.maxWidth):a&&(i.maxWidth="")),St(this._pane.style,i)}_getExactOverlayY(t,e,i){let n={top:"",bottom:""},a=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),t.overlayY==="bottom"){let r=this._document.documentElement.clientHeight;n.bottom=`${r-(a.y+this._overlayRect.height)}px`}else n.top=k(a.y);return n}_getExactOverlayX(t,e,i){let n={left:"",right:""},a=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i));let r;if(this._isRtl()?r=t.overlayX==="end"?"left":"right":r=t.overlayX==="end"?"right":"left",r==="right"){let s=this._document.documentElement.clientWidth;n.right=`${s-(a.x+this._overlayRect.width)}px`}else n.left=k(a.x);return n}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(n=>n.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:fo(t,i),isOriginOutsideView:Li(t,i),isOverlayClipped:fo(e,i),isOverlayOutsideView:Li(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,n)=>i-Math.max(n,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Ue(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof Dt)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}};function St(o,t){for(let e in t)t.hasOwnProperty(e)&&(o[e]=t[e]);return o}function _o(o){if(typeof o!="number"&&o!=null){let[t,e]=o.split(yr);return!e||e==="px"?parseFloat(t):null}return o||null}function yo(o){return{top:Math.floor(o.top),right:Math.floor(o.right),bottom:Math.floor(o.bottom),left:Math.floor(o.left),width:Math.floor(o.width),height:Math.floor(o.height)}}function vr(o,t){return o===t?!0:o.isOriginClipped===t.isOriginClipped&&o.isOriginOutsideView===t.isOriginOutsideView&&o.isOverlayClipped===t.isOverlayClipped&&o.isOverlayOutsideView===t.isOverlayOutsideView}var vo="cdk-global-overlay-wrapper",Yi=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(vo),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:n,height:a,maxWidth:r,maxHeight:s}=i,l=(n==="100%"||n==="100vw")&&(!r||r==="100%"||r==="100vw"),c=(a==="100%"||a==="100vh")&&(!s||s==="100%"||s==="100vh"),d=this._xPosition,m=this._xOffset,_=this._overlayRef.getConfig().direction==="rtl",f="",u="",h="";l?h="flex-start":d==="center"?(h="center",_?u=m:f=m):_?d==="left"||d==="end"?(h="flex-end",f=m):(d==="right"||d==="start")&&(h="flex-start",u=m):d==="left"||d==="start"?(h="flex-start",f=m):(d==="right"||d==="end")&&(h="flex-end",u=m),t.position=this._cssPosition,t.marginLeft=l?"0":f,t.marginTop=c?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=l?"0":u,e.justifyContent=h,e.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(vo),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},wr=(()=>{class o{_viewportRuler=y(Ke);_document=y(lt);_platform=y(ne);_overlayContainer=y(xo);constructor(){}global(){return new Yi}flexibleConnectedTo(e){return new Hi(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(i){return new(i||o)};static \u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})(),It=(()=>{class o{scrollStrategies=y(br);_overlayContainer=y(xo);_positionBuilder=y(wr);_keyboardDispatcher=y(gr);_injector=y(kt);_ngZone=y(nt);_document=y(lt);_directionality=y(yn);_location=y(sn);_outsideClickDispatcher=y(_r);_animationsModuleType=y(ht,{optional:!0});_idGenerator=y(Qe);_renderer=y(ft).createRenderer(null,null);_appRef;_styleLoader=y(qe);constructor(){}create(e){this._styleLoader.load(Eo);let i=this._createHostElement(),n=this._createPaneElement(i),a=this._createPortalOutlet(n),r=new Te(e);return r.direction=r.direction||this._directionality.value,new ji(a,i,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Zi),this._renderer)}position(){return this._positionBuilder}_createPaneElement(e){let i=this._document.createElement("div");return i.id=this._idGenerator.getId("cdk-overlay-"),i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Le)),new ke(e,null,this._appRef,this._injector,this._document)}static \u0275fac=function(i){return new(i||o)};static \u0275prov=z({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var Er=new Nt("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let o=y(It);return()=>o.scrollStrategies.reposition()}});function xr(o){return()=>o.scrollStrategies.reposition()}var Sr={provide:Er,deps:[It],useFactory:xr},So=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=I({type:o});static \u0275inj=A({providers:[It,Sr],imports:[Ht,po,Xe,Xe]})}return o})();var Cr=new Nt("mat-menu-scroll-strategy",{providedIn:"root",factory:()=>{let o=y(It);return()=>o.scrollStrategies.reposition()}});function kr(o){return()=>o.scrollStrategies.reposition()}var Dr={provide:Cr,deps:[It],useFactory:kr};var Mo=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=I({type:o});static \u0275inj=A({providers:[Dr],imports:[Me,K,So,wn,K]})}return o})(),Co={transformMenu:{type:7,name:"transformMenu",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0,transform:"scale(0.8)"},offset:null}},{type:1,expr:"void => enter",animation:{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1)"},offset:null},timings:"120ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"100ms 25ms linear"},options:null}],options:{}},fadeInItems:{type:7,name:"fadeInItems",definitions:[{type:0,name:"showing",styles:{type:6,styles:{opacity:1},offset:null}},{type:1,expr:"void => *",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:"400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"}],options:null}],options:{}}},zl=Co.fadeInItems,Bl=Co.transformMenu;var ko=(()=>{class o{static \u0275fac=function(i){return new(i||o)};static \u0275mod=I({type:o});static \u0275inj=A({imports:[K,Me,K]})}return o})();var Do={providers:[bn(Ze),cn(dn([Tn])),ao(),Gi(co,Mo,ko),xn]};un(ae,Do).catch(o=>console.error(o));
